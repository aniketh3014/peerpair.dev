(()=>{var e={};e.id=786,e.ids=[786],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},10144:()=>{},77640:()=>{},58359:()=>{},93739:()=>{},2174:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>r.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>h,tree:()=>l});var n=i(50482),s=i(69108),a=i(62563),r=i.n(a),o=i(68300),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);i.d(t,c);let l=["",{children:["room",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,82265)),"/home/aniket/projects/peerpair.dev/app/room/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,87560)),"/home/aniket/projects/peerpair.dev/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,69361,23)),"next/dist/client/components/not-found-error"]}],u=["/home/aniket/projects/peerpair.dev/app/room/[id]/page.tsx"],p="/room/[id]/page",d={require:i,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/room/[id]/page",pathname:"/room/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},70942:(e,t,i)=>{let n={"41e645695f2a57fcf18e332a379221b4e44cdcab":()=>Promise.resolve().then(i.bind(i,53352)).then(e=>e.deleteAccount),"2e71e702d23bfece40d847d392e9b4826749c8e7":()=>Promise.resolve().then(i.bind(i,96566)).then(e=>e.getUserId),"8d04aad8bf4d6e5affb321fedc8be27909fe4d6f":()=>Promise.resolve().then(i.bind(i,22578)).then(e=>e.generateTokenAction),"59cc07ab68581098448a314f2698d4d5c45e906c":()=>Promise.resolve().then(i.bind(i,62085)).then(e=>e.deleteRoom)};async function s(e,...t){return(await n[e]()).apply(null,t)}e.exports={"41e645695f2a57fcf18e332a379221b4e44cdcab":s.bind(null,"41e645695f2a57fcf18e332a379221b4e44cdcab"),"2e71e702d23bfece40d847d392e9b4826749c8e7":s.bind(null,"2e71e702d23bfece40d847d392e9b4826749c8e7"),"8d04aad8bf4d6e5affb321fedc8be27909fe4d6f":s.bind(null,"8d04aad8bf4d6e5affb321fedc8be27909fe4d6f"),"59cc07ab68581098448a314f2698d4d5c45e906c":s.bind(null,"59cc07ab68581098448a314f2698d4d5c45e906c")}},80857:(e,t,i)=>{Promise.resolve().then(i.bind(i,64676)),Promise.resolve().then(i.t.bind(i,61476,23))},64676:(e,t,i)=>{"use strict";let n,s,a,r,o,c,l,u;i.r(t),i.d(t,{PeerStrem:()=>xC});var p,d,h,m,f,g,v,b,x,y,w,_,k,S,E,C,T,R,O,I,P,j,N,L,A,D,U,M={};i.r(M),i.d(M,{fixNegotiationNeeded:()=>ec,shimAddTrackRemoveTrack:()=>er,shimAddTrackRemoveTrackWithNative:()=>ea,shimGetDisplayMedia:()=>Q,shimGetSendersWithDtmf:()=>ei,shimGetStats:()=>en,shimGetUserMedia:()=>Z,shimMediaStream:()=>ee,shimOnTrack:()=>et,shimPeerConnection:()=>eo,shimSenderReceiverGetStats:()=>es});var F={};i.r(F),i.d(F,{shimAddTransceiver:()=>ev,shimCreateAnswer:()=>ey,shimCreateOffer:()=>ex,shimGetDisplayMedia:()=>eu,shimGetParameters:()=>eb,shimGetUserMedia:()=>el,shimOnTrack:()=>ep,shimPeerConnection:()=>ed,shimRTCDataChannel:()=>eg,shimReceiverGetStats:()=>em,shimRemoveStream:()=>ef,shimSenderGetStats:()=>eh});var B={};i.r(B),i.d(B,{shimAudioContext:()=>eO,shimCallbacksAPI:()=>ek,shimConstraints:()=>eE,shimCreateOfferLegacy:()=>eR,shimGetUserMedia:()=>eS,shimLocalStreamsAPI:()=>ew,shimRTCIceServerUrls:()=>eC,shimRemoteStreamsAPI:()=>e_,shimTrackEventTransceiver:()=>eT});var $={};i.r($),i.d($,{removeExtmapAllowMixed:()=>eU,shimAddIceCandidateNullOrEmpty:()=>eM,shimConnectionState:()=>eD,shimMaxMessageSize:()=>eL,shimParameterlessSetLocalDescription:()=>eF,shimRTCIceCandidate:()=>ej,shimRTCIceCandidateRelayProtocol:()=>eN,shimSendThrowTypeError:()=>eA});var z={};i.r(z),i.d(z,{hasBrowserEnv:()=>io,hasStandardBrowserEnv:()=>ic,hasStandardBrowserWebWorkerEnv:()=>il});var V=i(95344);i(86418);let W=!0,q=!0;function H(e,t,i){let n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function G(e,t,i){if(!e.RTCPeerConnection)return;let n=e.RTCPeerConnection.prototype,s=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return s.apply(this,arguments);let a=e=>{let t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,a),s.apply(this,[e,a])};let a=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(i))return a.apply(this,arguments);let n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function K(){"object"!=typeof window||W||"undefined"==typeof console||"function"!=typeof console.log||console.log.apply(console,arguments)}function J(e,t){q&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Y(e){return"[object Object]"===Object.prototype.toString.call(e)}function X(e,t,i){let n=i?"outbound-rtp":"inbound-rtp",s=new Map;if(null===t)return s;let a=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(t=>{e.forEach(i=>{i.type===n&&i.trackId===t.id&&function e(t,i,n){!i||n.has(i.id)||(n.set(i.id,i),Object.keys(i).forEach(s=>{s.endsWith("Id")?e(t,t.get(i[s]),n):s.endsWith("Ids")&&i[s].forEach(i=>{e(t,t.get(i),n)})}))}(e,i,s)})}),s}function Z(e,t){let i=e&&e.navigator;if(!i.mediaDevices)return;let n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(i=>{if("require"===i||"advanced"===i||"mediaSource"===i)return;let n="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);let s=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[s("min",i)]=n.ideal,t.optional.push(e),(e={})[s("max",i)]=n.ideal):e[s("",i)]=n.ideal,t.optional.push(e)}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[s("",i)]=n.exact):["min","max"].forEach(e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[s(e,i)]=n[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},s=function(e,s){if(t.version>=61)return s(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});let r=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!r)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:("user"===a.exact||"user"===a.ideal)&&(t=["front"]),t)return i.mediaDevices.enumerateDevices().then(i=>{let r=(i=i.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!r&&i.length&&t.includes("back")&&(r=i[i.length-1]),r&&(e.video.deviceId=a.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),K("chrome: "+JSON.stringify(e)),s(e)})}e.video=n(e.video)}return K("chrome: "+JSON.stringify(e)),s(e)},a=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(i.getUserMedia=(function(e,t,n){s(e,e=>{i.webkitGetUserMedia(e,t,e=>{n&&n(a(e))})})}).bind(i),i.mediaDevices.getUserMedia){let e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return s(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(a(e))))}}}function Q(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then(t=>{let n=i.video&&i.video.width,s=i.video&&i.video.height,a=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},n&&(i.video.mandatory.maxWidth=n),s&&(i.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(i)})}}}function ee(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function et(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)G(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.track.id):{track:i.track};let s=new Event("track");s.track=i.track,s.receiver=n,s.transceiver={receiver:n},s.streams=[t.stream],this.dispatchEvent(s)}),t.stream.getTracks().forEach(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.id):{track:i};let s=new Event("track");s.track=i,s.receiver=n,s.transceiver={receiver:n},s.streams=[t.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function ei(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let s=i.apply(this,arguments);return s||(s=t(this,e),this._senders.push(s)),s};let n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function en(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,n]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let s=function(e){let t={};return e.result().forEach(e=>{let i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t[i.id]=i}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){i(a(s(e)))},e]):new Promise((e,i)=>{t.apply(this,[function(t){e(a(s(t)))},i])}).then(i,n)}}function es(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>X(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),G(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>X(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,i;let n=arguments[0];return(this.getSenders().forEach(t=>{t.track===n&&(e?i=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===n&&(t?i=!0:t=e),e.track===n)),i||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function ea(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();i.apply(this,arguments);let n=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(n)};let n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};let s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),s.apply(this,arguments)}}function er(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return ea(e);let i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};let s=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],s=e._streams[n.id];i=i.replace(RegExp(s.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let s=this._streams[i.id];if(s)s.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?i.apply(this,[t=>{let i=a(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then(e=>a(this,e))}})[t]});let r=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let i;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],i=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let n=e._reverseStreams[t],s=e._streams[n.id];i=i.replace(RegExp(n.id,"g"),s.id)}),new RTCSessionDescription({type:t.type,sdp:i}))),r.apply(this,arguments)};let o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=o.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(i=>{this._streams[i].getTracks().find(t=>e.track===t)&&(t=this._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function eo(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]})}function ec(e,t){G(e,"negotiationneeded",e=>{let i=e.target;if(!(t.version<72)&&(!i.getConfiguration||"plan-b"!==i.getConfiguration().sdpSemantics)||"stable"===i.signalingState)return e})}function el(e,t){let i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){J("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){let e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return"object"==typeof i&&"object"==typeof i.audio&&(e((i=JSON.parse(JSON.stringify(i))).audio,"autoGainControl","mozAutoGainControl"),e(i.audio,"noiseSuppression","mozNoiseSuppression")),t(i)},n&&n.prototype.getSettings){let t=n.prototype.getSettings;n.prototype.getSettings=function(){let i=t.apply(this,arguments);return e(i,"mozAutoGainControl","autoGainControl"),e(i,"mozNoiseSuppression","noiseSuppression"),i}}if(n&&n.prototype.applyConstraints){let t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return"audio"===this.kind&&"object"==typeof i&&(e(i=JSON.parse(JSON.stringify(i)),"autoGainControl","mozAutoGainControl"),e(i,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[i])}}}}function eu(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}function ep(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ed(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]});let i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,s,a]=arguments;return n.apply(this,[e||null]).then(e=>{if(t.version<53&&!s)try{e.forEach(e=>{e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(s,a)}}function eh(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function em(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),G(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ef(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){J("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function eg(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ev(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let i=(e=[...e]).length>0;i&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let n=t.apply(this,arguments);if(i){let{sender:t}=n,i=t.getParameters();"encodings"in i&&(1!==i.encodings.length||0!==Object.keys(i.encodings[0]).length)||(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return n})}function eb(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function ex(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ey(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ew(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(i=>t.call(this,i,e)),e.getVideoTracks().forEach(i=>t.call(this,i,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let i=e.getTracks();this.getSenders().forEach(e=>{i.includes(e.track)&&this.removeTrack(e)})})}}function e_(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let i=new Event("addstream");i.stream=t,e.dispatchEvent(i)})}),t.apply(e,arguments)}}}function ek(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,s=t.setLocalDescription,a=t.setRemoteDescription,r=t.addIceCandidate;t.createOffer=function(e,t){let n=arguments.length>=2?arguments[2]:arguments[0],s=i.apply(this,[n]);return t?(s.then(e,t),Promise.resolve()):s},t.createAnswer=function(e,t){let i=arguments.length>=2?arguments[2]:arguments[0],s=n.apply(this,[i]);return t?(s.then(e,t),Promise.resolve()):s};let o=function(e,t,i){let n=s.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n};t.setLocalDescription=o,o=function(e,t,i){let n=a.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.setRemoteDescription=o,o=function(e,t,i){let n=r.apply(this,[e]);return i?(n.then(t,i),Promise.resolve()):n},t.addIceCandidate=o}function eS(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(eE(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}).bind(t))}function eE(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return Y(t)?Object.keys(t).reduce(function(i,n){let s=Y(t[n]),a=s?e(t[n]):t[n],r=s&&!Object.keys(a).length;return void 0===a||r?i:Object.assign(i,{[n]:a})},{}):t}(e.video)}):e}function eC(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){let t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];void 0===n.urls&&n.url?(J("RTCIceServer.url","RTCIceServer.urls"),(n=JSON.parse(JSON.stringify(n))).urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function eT(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eR(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let i=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eO(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var eI=i(1388),eP=i.n(eI);function ej(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let i=new t(e),n=eP().parseCandidate(e.candidate);for(let e in n)e in i||Object.defineProperty(i,e,{value:n[e]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,G(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function eN(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||G(e,"icecandidate",e=>{if(e.candidate){let t=eP().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function eL(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let i=function(e){if(!e||!e.sdp)return!1;let t=eP().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=eP().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},n=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let i=parseInt(t[1],10);return i!=i?-1:i},s=function(e){let i=65536;return"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},a=function(e,i){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);let s=eP().matchPrefix(e.sdp,"a=max-message-size:");return s.length>0?n=parseInt(s[0].substring(19),10):"firefox"===t.browser&&-1!==i&&(n=2147483637),n},r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){let e;let t=n(arguments[0]),i=s(t),r=a(arguments[0],t);e=0===i&&0===r?Number.POSITIVE_INFINITY:0===i||0===r?Math.max(i,r):Math.min(i,r);let o={};Object.defineProperty(o,"maxMessageSize",{get:()=>e}),this._sctp=o}return r.apply(this,arguments)}}function eA(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let i=e.send;e.send=function(){let n=arguments[0],s=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&s>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return i.apply(e,arguments)}}let i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=i.apply(this,arguments);return t(e,this),e},G(e,"datachannel",e=>(t(e.channel,e.target),e))}function eD(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let i=new Event("connectionstatechange",e);t.dispatchEvent(i)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function eU(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let i=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function eM(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function eF(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?i.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>i.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let i=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:i}=e;return i.mozGetUserMedia?(t.browser="firefox",t.version=H(i.userAgent,/Firefox\/(\d+)\./,1)):i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=H(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=H(i.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),n={};switch(i.browser){case"chrome":if(!M||!eo||!t.shimChrome){K("Chrome shim is not included in this adapter release.");break}if(null===i.version){K("Chrome shim can not determine version, not shimming.");break}K("adapter.js shimming chrome."),n.browserShim=M,eM(e,i),eF(e,i),Z(e,i),ee(e,i),eo(e,i),et(e,i),er(e,i),ei(e,i),en(e,i),es(e,i),ec(e,i),ej(e,i),eN(e,i),eD(e,i),eL(e,i),eA(e,i),eU(e,i);break;case"firefox":if(!F||!ed||!t.shimFirefox){K("Firefox shim is not included in this adapter release.");break}K("adapter.js shimming firefox."),n.browserShim=F,eM(e,i),eF(e,i),el(e,i),ed(e,i),ep(e,i),ef(e,i),eh(e,i),em(e,i),eg(e,i),ev(e,i),eb(e,i),ex(e,i),ey(e,i),ej(e,i),eD(e,i),eL(e,i),eA(e,i);break;case"safari":if(!B||!t.shimSafari){K("Safari shim is not included in this adapter release.");break}K("adapter.js shimming safari."),n.browserShim=B,eM(e,i),eF(e,i),eC(e,i),eR(e,i),ek(e,i),ew(e,i),e_(e,i),eT(e,i),eS(e,i),eO(e,i),ej(e,i),eN(e,i),eL(e,i),eA(e,i),eU(e,i);break;default:K("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});let eB=Symbol.for("protobuf-ts/message-type");function e$(e){let t=!1,i=[];for(let n=0;n<e.length;n++){let s=e.charAt(n);"_"==s?t=!0:/\d/.test(s)?(i.push(s),t=!0):t?(i.push(s.toUpperCase()),t=!1):0==n?i.push(s.toLowerCase()):i.push(s)}return i.join("")}function ez(e){var t,i,n,s;return e.localName=null!==(t=e.localName)&&void 0!==t?t:e$(e.name),e.jsonName=null!==(i=e.jsonName)&&void 0!==i?i:e$(e.name),e.repeat=null!==(n=e.repeat)&&void 0!==n?n:g.NO,e.opt=null!==(s=e.opt)&&void 0!==s?s:!e.repeat&&!e.oneof&&"message"==e.kind,e}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(m||(m={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(f||(f={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(g||(g={}));class eV{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;let e=[],t=[],i=[];for(let n of this.fields)if(n.oneof)i.includes(n.oneof)||(i.push(n.oneof),e.push(n.oneof),t.push(n.oneof));else switch(t.push(n.localName),n.kind){case"scalar":case"enum":(!n.opt||n.repeat)&&e.push(n.localName);break;case"message":n.repeat&&e.push(n.localName);break;case"map":e.push(n.localName)}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let n=Object.keys(e),s=this.data;if(n.length<s.req.length||s.req.some(e=>!n.includes(e))||!i&&n.some(e=>!s.known.includes(e)))return!1;if(t<1)return!0;for(let n of s.oneofs){let s=e[n];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(s))return!1;if(void 0===s.oneofKind)continue;let a=this.fields.find(e=>e.localName===s.oneofKind);if(!a||!this.field(s[s.oneofKind],a,i,t))return!1}for(let n of this.fields)if(void 0===n.oneof&&!this.field(e[n.localName],n,i,t))return!1;return!0}field(e,t,i,n){let s=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(s)return this.scalars(e,t.T,n,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(s)return this.scalars(e,m.INT32,n);return this.scalar(e,m.INT32);case"message":if(void 0===e)break;if(s)return this.messages(e,t.T(),i,n);return this.message(e,t.T(),i,n);case"map":if("object"!=typeof e||null===e)return!1;if(n<2)break;if(!this.mapKeys(e,t.K,n))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,n,t.V.L);case"enum":return this.scalars(Object.values(e),m.INT32,n);case"message":return this.messages(Object.values(e),t.V.T(),i,n)}}return!0}message(e,t,i,n){return i?t.isAssignable(e,n):t.is(e,n)}messages(e,t,i,n){if(!Array.isArray(e))return!1;if(n<2)return!0;if(i){for(let i=0;i<e.length&&i<n;i++)if(!t.isAssignable(e[i],n-1))return!1}else for(let i=0;i<e.length&&i<n;i++)if(!t.is(e[i],n-1))return!1;return!0}scalar(e,t,i){let n=typeof e;switch(t){case m.UINT64:case m.FIXED64:case m.INT64:case m.SFIXED64:case m.SINT64:switch(i){case f.BIGINT:return"bigint"==n;case f.NUMBER:return"number"==n&&!isNaN(e);default:return"string"==n}case m.BOOL:return"boolean"==n;case m.STRING:return"string"==n;case m.BYTES:return e instanceof Uint8Array;case m.DOUBLE:case m.FLOAT:return"number"==n&&!isNaN(e);default:return"number"==n&&Number.isInteger(e)}}scalars(e,t,i,n){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let s=0;s<e.length&&s<i;s++)if(!this.scalar(e[s],t,n))return!1}return!0}mapKeys(e,t,i){let n=Object.keys(e);switch(t){case m.INT32:case m.FIXED32:case m.SFIXED32:case m.SINT32:case m.UINT32:return this.scalars(n.slice(0,i).map(e=>parseInt(e)),t,i);case m.BOOL:return this.scalars(n.slice(0,i).map(e=>"true"==e||"false"!=e&&e),t,i);default:return this.scalars(n,t,i,f.STRING)}}}function eW(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function eq(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let eH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eG=[];for(let e=0;e<eH.length;e++)eG[eH[e].charCodeAt(0)]=e;function eK(){let e=0,t=0;for(let i=0;i<28;i+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}let i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,(128&i)==0)return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<i,(128&n)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function eJ(e,t,i){for(let n=0;n<28;n+=7){let s=e>>>n,a=!(s>>>7==0&&0==t),r=(a?128|s:s)&255;if(i.push(r),!a)return}let n=e>>>28&15|(7&t)<<4,s=t>>3!=0;if(i.push((s?128|n:n)&255),s){for(let e=3;e<31;e+=7){let n=t>>>e,s=n>>>7!=0,a=(s?128|n:n)&255;if(i.push(a),!s)return}i.push(t>>>31&1)}}function eY(e){let t="-"==e[0];t&&(e=e.slice(1));let i=0,n=0;function s(t,s){let a=Number(e.slice(t,s));n*=1e6,(i=1e6*i+a)>=4294967296&&(n+=i/4294967296|0,i%=4294967296)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[t,i,n]}function eX(e,t){if(t>>>0<=2097151)return""+(4294967296*t+(e>>>0));let i=(e>>>24|t<<8)>>>0&16777215,n=t>>16&65535,s=(16777215&e)+6777216*i+6710656*n,a=i+8147497*n,r=2*n;function o(e,t){let i=e?String(e):"";return t?"0000000".slice(i.length)+i:i}return s>=1e7&&(a+=Math.floor(s/1e7),s%=1e7),a>=1e7&&(r+=Math.floor(a/1e7),a%=1e7),o(r,0)+o(a,r)+o(s,1)}function eZ(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let i=0;i<9;i++)t.push(127&e|128),e>>=7;t.push(1)}}function eQ(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function e0(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}eG["-".charCodeAt(0)]=eH.indexOf("+"),eG["_".charCodeAt(0)]=eH.indexOf("/"),function(){let e=new DataView(new ArrayBuffer(8));n=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();let e1=/^-?[0-9]+$/;class e2{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class e3 extends e2{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.UMIN)throw Error("signed value for ulong");if(e>n.UMAX)throw Error("ulong too large");return n.V.setBigUint64(0,e,!0),new e3(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e1.test(e))throw Error("string is no integer");let[t,i,s]=eY(e);if(t)throw Error("signed value for ulong");return new e3(i,s);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new e3(e,e/4294967296)}throw Error("unknown value "+typeof e)}toString(){return n?this.toBigInt().toString():eX(this.lo,this.hi)}toBigInt(){return e0(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigUint64(0,!0)}}e3.ZERO=new e3(0,0);class e4 extends e2{static from(e){if(n)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=n.C(e);case"number":if(0===e)return this.ZERO;e=n.C(e);case"bigint":if(!e)return this.ZERO;if(e<n.MIN)throw Error("signed long too small");if(e>n.MAX)throw Error("signed long too large");return n.V.setBigInt64(0,e,!0),new e4(n.V.getInt32(0,!0),n.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!e1.test(e))throw Error("string is no integer");let[t,i,s]=eY(e);if(t){if(s>2147483648||2147483648==s&&0!=i)throw Error("signed long too small")}else if(s>=2147483648)throw Error("signed long too large");let a=new e4(i,s);return t?a.negate():a;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new e4(e,e/4294967296):new e4(-e,-e/4294967296).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(2147483648&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new e4(t,e)}toString(){if(n)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+eX(e.lo,e.hi)}return eX(this.lo,this.hi)}toBigInt(){return e0(n),n.V.setInt32(0,this.lo,!0),n.V.setInt32(4,this.hi,!0),n.V.getBigInt64(0,!0)}}function e6(e,t){if(!e)throw Error(t)}function e5(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function e8(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function e9(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function e7(e,t){switch(t){case f.BIGINT:return e.toBigInt();case f.NUMBER:return e.toNumber();default:return e.toString()}}e4.ZERO=new e4(0,0);class te{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!==(e=this.info.fields)&&void 0!==e?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,i){if(!e){let e=eW(i);throw("number"==e||"boolean"==e)&&(e=i.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();let n=[];for(let[s,a]of Object.entries(e)){let e;let r=this.fMap[s];if(!r){if(!i.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${s}`);continue}let o=r.localName;if(r.oneof){if(null===a&&("enum"!==r.kind||"google.protobuf.NullValue"!==r.T()[0]))continue;if(n.includes(r.oneof))throw Error(`Multiple members of the oneof group "${r.oneof}" of ${this.info.typeName} are present in JSON.`);n.push(r.oneof),e=t[r.oneof]={oneofKind:o}}else e=t;if("map"==r.kind){if(null===a)continue;this.assert(eq(a),r.name,a);let t=e[o];for(let[e,n]of Object.entries(a)){let s;switch(this.assert(null!==n,r.name+" map value",null),r.V.kind){case"message":s=r.V.T().internalJsonRead(n,i);break;case"enum":if(!1===(s=this.enum(r.V.T(),n,r.name,i.ignoreUnknownFields)))continue;break;case"scalar":s=this.scalar(n,r.V.T,r.V.L,r.name)}this.assert(void 0!==s,r.name+" map value",n);let a=e;r.K==m.BOOL&&(a="true"==a||"false"!=a&&a),t[a=this.scalar(a,r.K,f.STRING,r.name).toString()]=s}}else if(r.repeat){if(null===a)continue;this.assert(Array.isArray(a),r.name,a);let t=e[o];for(let e of a){let n;switch(this.assert(null!==e,r.name,null),r.kind){case"message":n=r.T().internalJsonRead(e,i);break;case"enum":if(!1===(n=this.enum(r.T(),e,r.name,i.ignoreUnknownFields)))continue;break;case"scalar":n=this.scalar(e,r.T,r.L,r.name)}this.assert(void 0!==n,r.name,a),t.push(n)}}else switch(r.kind){case"message":if(null===a&&"google.protobuf.Value"!=r.T().typeName){this.assert(void 0===r.oneof,r.name+" (oneof member)",null);continue}e[o]=r.T().internalJsonRead(a,i,e[o]);break;case"enum":let c=this.enum(r.T(),a,r.name,i.ignoreUnknownFields);if(!1===c)continue;e[o]=c;break;case"scalar":e[o]=this.scalar(a,r.T,r.L,r.name)}}}enum(e,t,i,n){if("google.protobuf.NullValue"==e[0]&&e6(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return e6(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let s=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(s=t.substring(e[2].length));let a=e[1][s];if(void 0===a&&n)return!1;return e6("number"==typeof a,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),a}e6(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,n){let s;try{switch(t){case m.DOUBLE:case m.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){s="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){s="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let n=Number(e);if(Number.isNaN(n)){s="not a number";break}if(!Number.isFinite(n)){s="too large or small";break}return t==m.FLOAT&&e9(n),n;case m.INT32:case m.FIXED32:case m.SFIXED32:case m.SINT32:case m.UINT32:let a;if(null===e)return 0;if("number"==typeof e?a=e:""===e?s="empty string":"string"==typeof e&&(e.trim().length!==e.length?s="extra whitespace":a=Number(e)),void 0===a)break;return t==m.UINT32?e8(a):e5(a),a;case m.INT64:case m.SFIXED64:case m.SINT64:if(null===e)return e7(e4.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return e7(e4.from(e),i);case m.FIXED64:case m.UINT64:if(null===e)return e7(e3.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return e7(e3.from(e),i);case m.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case m.STRING:if(null===e)return"";if("string"!=typeof e){s="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case m.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let i=new Uint8Array(t),n=0,s=0,a,r=0;for(let t=0;t<e.length;t++){if(void 0===(a=eG[e.charCodeAt(t)]))switch(e[t]){case"=":s=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:r=a,s=1;break;case 1:i[n++]=r<<2|(48&a)>>4,r=a,s=2;break;case 2:i[n++]=(15&r)<<4|(60&a)>>2,r=a,s=3;break;case 3:i[n++]=(3&r)<<6|a,s=0}}if(1==s)throw Error("invalid base64 string.");return i.subarray(0,n)}(e)}}catch(e){s=e.message}this.assert(!1,n+(s?" - "+s:""),e)}}class tt{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){let i={};for(let n of this.fields){if(!n.oneof){let s=this.field(n,e[n.localName],t);void 0!==s&&(i[t.useProtoFieldName?n.name:n.jsonName]=s);continue}let s=e[n.oneof];if(s.oneofKind!==n.localName)continue;let a="scalar"==n.kind||"enum"==n.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,r=this.field(n,s[n.localName],a);e6(void 0!==r),i[t.useProtoFieldName?n.name:n.jsonName]=r}return i}field(e,t,i){let n;if("map"==e.kind){e6("object"==typeof t&&null!==t);let s={};switch(e.V.kind){case"scalar":for(let[i,n]of Object.entries(t)){let t=this.scalar(e.V.T,n,e.name,!1,!0);e6(void 0!==t),s[i.toString()]=t}break;case"message":let a=e.V.T();for(let[n,r]of Object.entries(t)){let t=this.message(a,r,e.name,i);e6(void 0!==t),s[n.toString()]=t}break;case"enum":let r=e.V.T();for(let[n,a]of Object.entries(t)){e6(void 0===a||"number"==typeof a);let t=this.enum(r,a,e.name,!1,!0,i.enumAsInteger);e6(void 0!==t),s[n.toString()]=t}}(i.emitDefaultValues||Object.keys(s).length>0)&&(n=s)}else if(e.repeat){e6(Array.isArray(t));let s=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++){let n=this.scalar(e.T,t[i],e.name,e.opt,!0);e6(void 0!==n),s.push(n)}break;case"enum":let a=e.T();for(let n=0;n<t.length;n++){e6(void 0===t[n]||"number"==typeof t[n]);let r=this.enum(a,t[n],e.name,e.opt,!0,i.enumAsInteger);e6(void 0!==r),s.push(r)}break;case"message":let r=e.T();for(let n=0;n<t.length;n++){let a=this.message(r,t[n],e.name,i);e6(void 0!==a),s.push(a)}}(i.emitDefaultValues||s.length>0||i.emitDefaultValues)&&(n=s)}else switch(e.kind){case"scalar":n=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":n=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":n=this.message(e.T(),t,e.name,i)}return n}enum(e,t,i,n,s,a){if("google.protobuf.NullValue"==e[0])return s||n?null:void 0;if(void 0===t){e6(n);return}if(0!==t||s||n)return(e6("number"==typeof t),e6(Number.isInteger(t)),a||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,n){return void 0===t?n.emitDefaultValues?null:void 0:e.internalJsonWrite(t,n)}scalar(e,t,i,n,s){if(void 0===t){e6(n);return}let a=s||n;switch(e){case m.INT32:case m.SFIXED32:case m.SINT32:if(0===t)return a?0:void 0;return e5(t),t;case m.FIXED32:case m.UINT32:if(0===t)return a?0:void 0;return e8(t),t;case m.FLOAT:e9(t);case m.DOUBLE:if(0===t)return a?0:void 0;if(e6("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case m.STRING:if(""===t)return a?"":void 0;return e6("string"==typeof t),t;case m.BOOL:if(!1===t)return!a&&void 0;return e6("boolean"==typeof t),t;case m.UINT64:case m.FIXED64:e6("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let r=e3.from(t);if(r.isZero()&&!a)return;return r.toString();case m.INT64:case m.SFIXED64:case m.SINT64:e6("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=e4.from(t);if(o.isZero()&&!a)return;return o.toString();case m.BYTES:if(e6(t instanceof Uint8Array),!t.byteLength)return a?"":void 0;return function(e){let t="",i=0,n,s=0;for(let a=0;a<e.length;a++)switch(n=e[a],i){case 0:t+=eH[n>>2],s=(3&n)<<4,i=1;break;case 1:t+=eH[s|n>>4],s=(15&n)<<2,i=2;break;case 2:t+=eH[s|n>>6]+eH[63&n],i=0}return i&&(t+=eH[s]+"=",1==i&&(t+="=")),t}(t)}}}function ti(e,t=f.STRING){switch(e){case m.BOOL:return!1;case m.UINT64:case m.FIXED64:return e7(e3.ZERO,t);case m.INT64:case m.SFIXED64:case m.SINT64:return e7(e4.ZERO,t);case m.DOUBLE:case m.FLOAT:return 0;case m.BYTES:return new Uint8Array(0);case m.STRING:return"";default:return 0}}(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(i,n,s,a,r)=>{(t(n)?n[e.symbol]:n[e.symbol]=[]).push({no:s,wireType:a,data:r})},e.onWrite=(t,i,n)=>{for(let{no:t,wireType:s,data:a}of e.list(i))n.tag(t,s).raw(a)},e.list=(i,n)=>{if(t(i)){let t=i[e.symbol];return n?t.filter(e=>e.no==n):t}return[]},e.last=(t,i)=>e.list(t,i).slice(-1)[0];let t=t=>t&&Array.isArray(t[e.symbol])})(v||(v={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(b||(b={}));class tn{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,i,n){this.prepare();let s=void 0===n?e.len:e.pos+n;for(;e.pos<s;){let[n,s]=e.tag(),a=this.fieldNoToField.get(n);if(!a){let a=i.readUnknownField;if("throw"==a)throw Error(`Unknown field ${n} (wire type ${s}) for ${this.info.typeName}`);let r=e.skip(s);!1!==a&&(!0===a?v.onRead:a)(this.info.typeName,t,n,s,r);continue}let r=t,o=a.repeat,c=a.localName;switch(a.oneof&&(r=r[a.oneof]).oneofKind!==c&&(r=t[a.oneof]={oneofKind:c}),a.kind){case"scalar":case"enum":let l="enum"==a.kind?m.INT32:a.T,u="scalar"==a.kind?a.L:void 0;if(o){let t=r[c];if(s==b.LengthDelimited&&l!=m.STRING&&l!=m.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)t.push(this.scalar(e,l,u))}else t.push(this.scalar(e,l,u))}else r[c]=this.scalar(e,l,u);break;case"message":if(o){let t=r[c],n=a.T().internalBinaryRead(e,e.uint32(),i);t.push(n)}else r[c]=a.T().internalBinaryRead(e,e.uint32(),i,r[c]);break;case"map":let[p,d]=this.mapEntry(a,e,i);r[c][p]=d}}}mapEntry(e,t,i){let n,s,a=t.uint32(),r=t.pos+a;for(;t.pos<r;){let[a,r]=t.tag();switch(a){case 1:n=e.K==m.BOOL?t.bool().toString():this.scalar(t,e.K,f.STRING);break;case 2:switch(e.V.kind){case"scalar":s=this.scalar(t,e.V.T,e.V.L);break;case"enum":s=t.int32();break;case"message":s=e.V.T().internalBinaryRead(t,t.uint32(),i)}break;default:throw Error(`Unknown field ${a} (wire type ${r}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===n){let t=ti(e.K);n=e.K==m.BOOL?t.toString():t}if(void 0===s)switch(e.V.kind){case"scalar":s=ti(e.V.T,e.V.L);break;case"enum":s=0;break;case"message":s=e.V.T().create()}return[n,s]}scalar(e,t,i){switch(t){case m.INT32:return e.int32();case m.STRING:return e.string();case m.BOOL:return e.bool();case m.DOUBLE:return e.double();case m.FLOAT:return e.float();case m.INT64:return e7(e.int64(),i);case m.UINT64:return e7(e.uint64(),i);case m.FIXED64:return e7(e.fixed64(),i);case m.FIXED32:return e.fixed32();case m.BYTES:return e.bytes();case m.UINT32:return e.uint32();case m.SFIXED32:return e.sfixed32();case m.SFIXED64:return e7(e.sfixed64(),i);case m.SINT32:return e.sint32();case m.SINT64:return e7(e.sint64(),i)}}}class ts{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,i){for(let n of(this.prepare(),this.fields)){let s,a,r=n.repeat,o=n.localName;if(n.oneof){let t=e[n.oneof];if(t.oneofKind!==o)continue;s=t[o],a=!0}else s=e[o],a=!1;switch(n.kind){case"scalar":case"enum":let c="enum"==n.kind?m.INT32:n.T;if(r){if(e6(Array.isArray(s)),r==g.PACKED)this.packed(t,c,n.no,s);else for(let e of s)this.scalar(t,c,n.no,e,!0)}else void 0===s?e6(n.opt):this.scalar(t,c,n.no,s,a||n.opt);break;case"message":if(r)for(let e of(e6(Array.isArray(s)),s))this.message(t,i,n.T(),n.no,e);else this.message(t,i,n.T(),n.no,s);break;case"map":for(let[e,a]of(e6("object"==typeof s&&null!==s),Object.entries(s)))this.mapEntry(t,i,n,e,a)}}let n=i.writeUnknownFields;!1!==n&&(!0===n?v.onWrite:n)(this.info.typeName,e,t)}mapEntry(e,t,i,n,s){e.tag(i.no,b.LengthDelimited),e.fork();let a=n;switch(i.K){case m.INT32:case m.FIXED32:case m.UINT32:case m.SFIXED32:case m.SINT32:a=Number.parseInt(n);break;case m.BOOL:e6("true"==n||"false"==n),a="true"==n}switch(this.scalar(e,i.K,1,a,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,s,!0);break;case"enum":this.scalar(e,m.INT32,2,s,!0);break;case"message":this.message(e,t,i.V.T(),2,s)}e.join()}message(e,t,i,n,s){void 0!==s&&(i.internalBinaryWrite(s,e.tag(n,b.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,n,s){let[a,r,o]=this.scalarInfo(t,n);(!o||s)&&(e.tag(i,a),e[r](n))}packed(e,t,i,n){if(!n.length)return;e6(t!==m.BYTES&&t!==m.STRING),e.tag(i,b.LengthDelimited),e.fork();let[,s]=this.scalarInfo(t);for(let t=0;t<n.length;t++)e[s](n[t]);e.join()}scalarInfo(e,t){let i,n=b.Varint,s=void 0===t,a=0===t;switch(e){case m.INT32:i="int32";break;case m.STRING:a=s||!t.length,n=b.LengthDelimited,i="string";break;case m.BOOL:a=!1===t,i="bool";break;case m.UINT32:i="uint32";break;case m.DOUBLE:n=b.Bit64,i="double";break;case m.FLOAT:n=b.Bit32,i="float";break;case m.INT64:a=s||e4.from(t).isZero(),i="int64";break;case m.UINT64:a=s||e3.from(t).isZero(),i="uint64";break;case m.FIXED64:a=s||e3.from(t).isZero(),n=b.Bit64,i="fixed64";break;case m.BYTES:a=s||!t.byteLength,n=b.LengthDelimited,i="bytes";break;case m.FIXED32:n=b.Bit32,i="fixed32";break;case m.SFIXED32:n=b.Bit32,i="sfixed32";break;case m.SFIXED64:a=s||e4.from(t).isZero(),n=b.Bit64,i="sfixed64";break;case m.SINT32:i="sint32";break;case m.SINT64:a=s||e4.from(t).isZero(),i="sint64"}return[n,i,s||a]}}function ta(e,t,i){let n,s;for(let a of e.fields){let e=a.localName;if(a.oneof){let r=i[a.oneof];if((null==r?void 0:r.oneofKind)==void 0)continue;if(n=r[e],(s=t[a.oneof]).oneofKind=r.oneofKind,void 0==n){delete s[e];continue}}else if(n=i[e],s=t,void 0==n)continue;switch(a.repeat&&(s[e].length=n.length),a.kind){case"scalar":case"enum":if(a.repeat)for(let t=0;t<n.length;t++)s[e][t]=n[t];else s[e]=n;break;case"message":let r=a.T();if(a.repeat)for(let t=0;t<n.length;t++)s[e][t]=r.create(n[t]);else void 0===s[e]?s[e]=r.create(n):r.mergePartial(s[e],n);break;case"map":switch(a.V.kind){case"scalar":case"enum":Object.assign(s[e],n);break;case"message":let o=a.V.T();for(let t of Object.keys(n))s[e][t]=o.create(n[t])}}}}let tr={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},to={ignoreUnknownFields:!1},tc=Object.values;function tl(e,t,i){if(t===i)return!0;if(e!==m.BYTES||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=i[e])return!1;return!0}function tu(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!tl(e,t[n],i[n]))return!1;return!0}function tp(e,t,i){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(!e.equals(t[n],i[n]))return!1;return!0}let td={writeUnknownFields:!0,writerFactory:()=>new th};class th{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),i=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],i),i+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(e8(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return e5(e),eZ(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){e9(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){e8(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){e5(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return e5(e),eZ(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=e4.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),n=e3.from(e);return i.setInt32(0,n.lo,!0),i.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=e4.from(e);return eJ(t.lo,t.hi,this.buf),this}sint64(e){let t=e4.from(e),i=t.hi>>31;return eJ(t.lo<<1^i,(t.hi<<1|t.lo>>>31)^i,this.buf),this}uint64(e){let t=e3.from(e);return eJ(t.lo,t.hi,this.buf),this}}let tm={readUnknownField:!0,readerFactory:e=>new tf(e)};class tf{constructor(e,t){this.varint64=eK,this.uint32=eQ,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=7&e;if(t<=0||i<0||i>5)throw Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case b.Varint:for(;128&this.buf[this.pos++];);break;case b.Bit64:this.pos+=4;case b.Bit32:this.pos+=4;break;case b.LengthDelimited:let i=this.uint32();this.pos+=i;break;case b.StartGroup:let n;for(;(n=this.tag()[1])!==b.EndGroup;)this.skip(n);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new e4(...this.varint64())}uint64(){return new e3(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(1&e);return new e4(e=(e>>>1|(1&t)<<31)^i,t=t>>>1^i)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new e3(this.sfixed32(),this.sfixed32())}sfixed64(){return new e4(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}let tg=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class tv{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(ez),this.options=null!=i?i:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},tg),{[eB]:{value:this}})),this.refTypeCheck=new eV(this),this.refJsonReader=new te(this),this.refJsonWriter=new tt(this),this.refBinReader=new tn(this),this.refBinWriter=new ts(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},eB,{value:e});for(let i of e.fields){let e=i.localName;if(!i.opt){if(i.oneof)t[i.oneof]={oneofKind:void 0};else if(i.repeat)t[e]=[];else switch(i.kind){case"scalar":t[e]=ti(i.T,i.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}}return t}(this);return void 0!==e&&ta(this,t,e),t}clone(e){let t=this.create();return ta(this,t,e),t}equals(e,t){return function(e,t,i){if(t===i)return!0;if(!t||!i)return!1;for(let n of e.fields){let e=n.localName,s=n.oneof?t[n.oneof][e]:t[e],a=n.oneof?i[n.oneof][e]:i[e];switch(n.kind){case"enum":case"scalar":let r="enum"==n.kind?m.INT32:n.T;if(!(n.repeat?tu(r,s,a):tl(r,s,a)))return!1;break;case"map":if(!("message"==n.V.kind?tp(n.V.T(),tc(s),tc(a)):tu("enum"==n.V.kind?m.INT32:n.V.T,tc(s),tc(a))))return!1;break;case"message":let o=n.T();if(!(n.repeat?tp(o,s,a):o.equals(s,a)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){ta(this,e,t)}fromBinary(e,t){let i=t?Object.assign(Object.assign({},tm),t):tm;return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},to),t):to)}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,t?Object.assign(Object.assign({},tr),t):tr)}toJsonString(e,t){var i;return JSON.stringify(this.toJson(e,t),null,null!==(i=null==t?void 0:t.prettySpaces)&&void 0!==i?i:0)}toBinary(e,t){let i=t?Object.assign(Object.assign({},td),t):td;return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let n=null!=i?i:this.create();return this.refJsonReader.read(e,n,t),n}throw Error(`Unable to parse message ${this.typeName} from JSON ${eW(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,n){let s=null!=n?n:this.create();return this.refBinReader.read(e,s,i,t),s}}class tb{constructor(e,t,i){this.typeName=e,this.methods=t.map(e=>(function(e,t){var i,n,s;return e.service=t,e.localName=null!==(i=e.localName)&&void 0!==i?i:e$(e.name),e.serverStreaming=!!e.serverStreaming,e.clientStreaming=!!e.clientStreaming,e.options=null!==(n=e.options)&&void 0!==n?n:{},e.idempotency=null!==(s=e.idempotency)&&void 0!==s?s:void 0,e})(e,this)),this.options=null!=i?i:{}}}function tx(e,t,i,n,s){var a,r,o,c;if("unary"==e){let e=(e,i,n)=>t.unary(e,i,n);for(let t of(null!==(a=n.interceptors)&&void 0!==a?a:[]).filter(e=>e.interceptUnary).reverse()){let i=e;e=(e,n,s)=>t.interceptUnary(i,e,n,s)}return e(i,s,n)}if("serverStreaming"==e){let e=(e,i,n)=>t.serverStreaming(e,i,n);for(let t of(null!==(r=n.interceptors)&&void 0!==r?r:[]).filter(e=>e.interceptServerStreaming).reverse()){let i=e;e=(e,n,s)=>t.interceptServerStreaming(i,e,n,s)}return e(i,s,n)}if("clientStreaming"==e){let e=(e,i)=>t.clientStreaming(e,i);for(let t of(null!==(o=n.interceptors)&&void 0!==o?o:[]).filter(e=>e.interceptClientStreaming).reverse()){let i=e;e=(e,n)=>t.interceptClientStreaming(i,e,n)}return e(i,n)}if("duplex"==e){let e=(e,i)=>t.duplex(e,i);for(let t of(null!==(c=n.interceptors)&&void 0!==c?c:[]).filter(e=>e.interceptDuplex).reverse()){let i=e;e=(e,n)=>t.interceptDuplex(i,e,n)}return e(i,n)}!function(e,t){throw Error(null!=t?t:"Unexpected object: "+e)}(e)}function ty(e,t){return function(){return e.apply(t,arguments)}}let{toString:tw}=Object.prototype,{getPrototypeOf:t_}=Object,tk=(p=Object.create(null),e=>{let t=tw.call(e);return p[t]||(p[t]=t.slice(8,-1).toLowerCase())}),tS=e=>(e=e.toLowerCase(),t=>tk(t)===e),tE=e=>t=>typeof t===e,{isArray:tC}=Array,tT=tE("undefined"),tR=tS("ArrayBuffer"),tO=tE("string"),tI=tE("function"),tP=tE("number"),tj=e=>null!==e&&"object"==typeof e,tN=e=>{if("object"!==tk(e))return!1;let t=t_(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tL=tS("Date"),tA=tS("File"),tD=tS("Blob"),tU=tS("FileList"),tM=tS("URLSearchParams");function tF(e,t,{allOwnKeys:i=!1}={}){let n,s;if(null!=e){if("object"!=typeof e&&(e=[e]),tC(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let s;let a=i?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;for(n=0;n<r;n++)s=a[n],t.call(null,e[s],s,e)}}}function tB(e,t){let i;t=t.toLowerCase();let n=Object.keys(e),s=n.length;for(;s-- >0;)if(t===(i=n[s]).toLowerCase())return i;return null}let t$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,tz=e=>!tT(e)&&e!==t$,tV=(d="undefined"!=typeof Uint8Array&&t_(Uint8Array),e=>d&&e instanceof d),tW=tS("HTMLFormElement"),tq=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),tH=tS("RegExp"),tG=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),n={};tF(i,(i,s)=>{let a;!1!==(a=t(i,s,e))&&(n[s]=a||i)}),Object.defineProperties(e,n)},tK="abcdefghijklmnopqrstuvwxyz",tJ="0123456789",tY={DIGIT:tJ,ALPHA:tK,ALPHA_DIGIT:tK+tK.toUpperCase()+tJ},tX=tS("AsyncFunction"),tZ={isArray:tC,isArrayBuffer:tR,isBuffer:function(e){return null!==e&&!tT(e)&&null!==e.constructor&&!tT(e.constructor)&&tI(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||tI(e.append)&&("formdata"===(t=tk(e))||"object"===t&&tI(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tR(e.buffer)},isString:tO,isNumber:tP,isBoolean:e=>!0===e||!1===e,isObject:tj,isPlainObject:tN,isUndefined:tT,isDate:tL,isFile:tA,isBlob:tD,isRegExp:tH,isFunction:tI,isStream:e=>tj(e)&&tI(e.pipe),isURLSearchParams:tM,isTypedArray:tV,isFileList:tU,forEach:tF,merge:function e(){let{caseless:t}=tz(this)&&this||{},i={},n=(n,s)=>{let a=t&&tB(i,s)||s;tN(i[a])&&tN(n)?i[a]=e(i[a],n):tN(n)?i[a]=e({},n):tC(n)?i[a]=n.slice():i[a]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&tF(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(tF(t,(t,n)=>{i&&tI(t)?e[n]=ty(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let s,a,r;let o={};if(t=t||{},null==e)return t;do{for(a=(s=Object.getOwnPropertyNames(e)).length;a-- >0;)r=s[a],(!n||n(r,e,t))&&!o[r]&&(t[r]=e[r],o[r]=!0);e=!1!==i&&t_(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:tk,kindOfTest:tS,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let n=e.indexOf(t,i);return -1!==n&&n===i},toArray:e=>{if(!e)return null;if(tC(e))return e;let t=e.length;if(!tP(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let n=(e&&e[Symbol.iterator]).call(e);for(;(i=n.next())&&!i.done;){let n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let i;let n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:tW,hasOwnProperty:tq,hasOwnProp:tq,reduceDescriptors:tG,freezeMethods:e=>{tG(e,(t,i)=>{if(tI(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(tI(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(tC(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:tB,global:t$,isContextDefined:tz,ALPHABET:tY,generateString:(e=16,t=tY.ALPHA_DIGIT)=>{let i="",{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&tI(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,n)=>{if(tj(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let s=tC(e)?[]:{};return tF(e,(e,t)=>{let a=i(e,n+1);tT(a)||(s[t]=a)}),t[n]=void 0,s}}return e};return i(e,0)},isAsyncFn:tX,isThenable:e=>e&&(tj(e)||tI(e))&&tI(e.then)&&tI(e.catch)};function tQ(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s)}tZ.inherits(tQ,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tZ.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let t0=tQ.prototype,t1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{t1[e]={value:e}}),Object.defineProperties(tQ,t1),Object.defineProperty(t0,"isAxiosError",{value:!0}),tQ.from=(e,t,i,n,s,a)=>{let r=Object.create(t0);return tZ.toFlatObject(e,r,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),tQ.call(r,e.message,t,i,n,s),r.cause=e,r.name=e.name,a&&Object.assign(r,a),r};var t2=i(20102);function t3(e){return tZ.isPlainObject(e)||tZ.isArray(e)}function t4(e){return tZ.endsWith(e,"[]")?e.slice(0,-2):e}function t6(e,t,i){return e?e.concat(t).map(function(e,t){return e=t4(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let t5=tZ.toFlatObject(tZ,{},null,function(e){return/^is[A-Z]/.test(e)}),t8=function(e,t,i){if(!tZ.isObject(e))throw TypeError("target must be an object");t=t||new(t2||FormData);let n=(i=tZ.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!tZ.isUndefined(t[e])})).metaTokens,s=i.visitor||l,a=i.dots,r=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&tZ.isSpecCompliantForm(t);if(!tZ.isFunction(s))throw TypeError("visitor must be a function");function c(e){if(null===e)return"";if(tZ.isDate(e))return e.toISOString();if(!o&&tZ.isBlob(e))throw new tQ("Blob is not supported. Use a Buffer instead.");return tZ.isArrayBuffer(e)||tZ.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,i,s){let o=e;if(e&&!s&&"object"==typeof e){if(tZ.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else{var l;if(tZ.isArray(e)&&(l=e,tZ.isArray(l)&&!l.some(t3))||(tZ.isFileList(e)||tZ.endsWith(i,"[]"))&&(o=tZ.toArray(e)))return i=t4(i),o.forEach(function(e,n){tZ.isUndefined(e)||null===e||t.append(!0===r?t6([i],n,a):null===r?i:i+"[]",c(e))}),!1}}return!!t3(e)||(t.append(t6(s,i,a),c(e)),!1)}let u=[],p=Object.assign(t5,{defaultVisitor:l,convertValue:c,isVisitable:t3});if(!tZ.isObject(e))throw TypeError("data must be an object");return function e(i,n){if(!tZ.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+n.join("."));u.push(i),tZ.forEach(i,function(i,a){!0===(!(tZ.isUndefined(i)||null===i)&&s.call(t,i,tZ.isString(a)?a.trim():a,n,p))&&e(i,n?n.concat(a):[a])}),u.pop()}}(e),t};function t9(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function t7(e,t){this._pairs=[],e&&t8(e,this,t)}let ie=t7.prototype;function it(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ii(e,t,i){let n;if(!t)return e;let s=i&&i.encode||it,a=i&&i.serialize;if(n=a?a(t,i):tZ.isURLSearchParams(t)?t.toString():new t7(t,i).toString(s)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}ie.append=function(e,t){this._pairs.push([e,t])},ie.toString=function(e){let t=e?function(t){return e.call(this,t,t9)}:t9;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class is{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){tZ.forEach(this.handlers,function(t){null!==t&&e(t)})}}let ia={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ir={isNode:!0,classes:{URLSearchParams:i(57310).URLSearchParams,FormData:t2,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]},io="undefined"!=typeof window&&"undefined"!=typeof document,ic=(h="undefined"!=typeof navigator&&navigator.product,io&&0>["ReactNative","NativeScript","NS"].indexOf(h)),il="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,iu={...z,...ir},ip=function(e){if(tZ.isFormData(e)&&tZ.isFunction(e.entries)){let t={};return tZ.forEachEntry(e,(e,i)=>{!function e(t,i,n,s){let a=t[s++];if("__proto__"===a)return!0;let r=Number.isFinite(+a),o=s>=t.length;return(a=!a&&tZ.isArray(n)?n.length:a,o)?tZ.hasOwnProp(n,a)?n[a]=[n[a],i]:n[a]=i:(n[a]&&tZ.isObject(n[a])||(n[a]=[]),e(t,i,n[a],s)&&tZ.isArray(n[a])&&(n[a]=function(e){let t,i;let n={},s=Object.keys(e),a=s.length;for(t=0;t<a;t++)n[i=s[t]]=e[i];return n}(n[a]))),!r}(tZ.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null},id={transitional:ia,adapter:["xhr","http"],transformRequest:[function(e,t){let i;let n=t.getContentType()||"",s=n.indexOf("application/json")>-1,a=tZ.isObject(e);if(a&&tZ.isHTMLForm(e)&&(e=new FormData(e)),tZ.isFormData(e))return s?JSON.stringify(ip(e)):e;if(tZ.isArrayBuffer(e)||tZ.isBuffer(e)||tZ.isStream(e)||tZ.isFile(e)||tZ.isBlob(e))return e;if(tZ.isArrayBufferView(e))return e.buffer;if(tZ.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1){var r,o;return(r=e,o=this.formSerializer,t8(r,new iu.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return iu.isNode&&tZ.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},o))).toString()}if((i=tZ.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return t8(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),function(e,t,i){if(tZ.isString(e))try{return(0,JSON.parse)(e),tZ.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||id.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&tZ.isString(e)&&(i&&!this.responseType||n)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&n){if("SyntaxError"===e.name)throw tQ.from(e,tQ.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:iu.classes.FormData,Blob:iu.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tZ.forEach(["delete","get","head","post","put","patch"],e=>{id.headers[e]={}});let ih=tZ.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),im=e=>{let t,i,n;let s={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!t||s[t]&&ih[t]||("set-cookie"===t?s[t]?s[t].push(i):s[t]=[i]:s[t]=s[t]?s[t]+", "+i:i)}),s},ig=Symbol("internals");function iv(e){return e&&String(e).trim().toLowerCase()}function ib(e){return!1===e||null==e?e:tZ.isArray(e)?e.map(ib):String(e)}let ix=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iy(e,t,i,n,s){if(tZ.isFunction(n))return n.call(this,t,i);if(s&&(t=i),tZ.isString(t)){if(tZ.isString(n))return -1!==t.indexOf(n);if(tZ.isRegExp(n))return n.test(t)}}class iw{constructor(e){e&&this.set(e)}set(e,t,i){let n=this;function s(e,t,i){let s=iv(t);if(!s)throw Error("header name must be a non-empty string");let a=tZ.findKey(n,s);a&&void 0!==n[a]&&!0!==i&&(void 0!==i||!1===n[a])||(n[a||t]=ib(e))}let a=(e,t)=>tZ.forEach(e,(e,i)=>s(e,i,t));return tZ.isPlainObject(e)||e instanceof this.constructor?a(e,t):tZ.isString(e)&&(e=e.trim())&&!ix(e)?a(im(e),t):null!=e&&s(t,e,i),this}get(e,t){if(e=iv(e)){let i=tZ.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(e);if(tZ.isFunction(t))return t.call(this,e,i);if(tZ.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=iv(e)){let i=tZ.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||iy(this,this[i],i,t)))}return!1}delete(e,t){let i=this,n=!1;function s(e){if(e=iv(e)){let s=tZ.findKey(i,e);s&&(!t||iy(i,i[s],s,t))&&(delete i[s],n=!0)}}return tZ.isArray(e)?e.forEach(s):s(e),n}clear(e){let t=Object.keys(this),i=t.length,n=!1;for(;i--;){let s=t[i];(!e||iy(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){let t=this,i={};return tZ.forEach(this,(n,s)=>{let a=tZ.findKey(i,s);if(a){t[a]=ib(n),delete t[s];return}let r=e?s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(s).trim();r!==s&&delete t[s],t[r]=ib(n),i[r]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return tZ.forEach(this,(i,n)=>{null!=i&&!1!==i&&(t[n]=e&&tZ.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[ig]=this[ig]={accessors:{}}).accessors,i=this.prototype;function n(e){let n=iv(e);t[n]||(function(e,t){let i=tZ.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,s){return this[n].call(this,t,e,i,s)},configurable:!0})})}(i,e),t[n]=!0)}return tZ.isArray(e)?e.forEach(n):n(e),this}}function i_(e,t){let i=this||id,n=t||i,s=iw.from(n.headers),a=n.data;return tZ.forEach(e,function(e){a=e.call(i,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function ik(e){return!!(e&&e.__CANCEL__)}function iS(e,t,i){tQ.call(this,null==e?"canceled":e,tQ.ERR_CANCELED,t,i),this.name="CanceledError"}function iE(e,t,i){let n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new tQ("Request failed with status code "+i.status,[tQ.ERR_BAD_REQUEST,tQ.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function iC(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}iw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tZ.reduceDescriptors(iw.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),tZ.freezeMethods(iw),tZ.inherits(iS,tQ,{__CANCEL__:!0});var iT=i(86886),iR=i(13685),iO=i(95687),iI=i.n(iO),iP=i(73837),ij=i(42136),iN=i(59796);let iL="1.6.8";function iA(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}let iD=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var iU=i(12781);let iM=function(e,t){let i=0,n=1e3/t,s=null;return function(t,a){let r=Date.now();if(t||r-i>n)return s&&(clearTimeout(s),s=null),i=r,e.apply(null,a);s||(s=setTimeout(()=>(s=null,i=Date.now(),e.apply(null,a)),n-(r-i)))}},iF=function(e,t){let i;let n=Array(e=e||10),s=Array(e),a=0,r=0;return t=void 0!==t?t:1e3,function(o){let c=Date.now(),l=s[r];i||(i=c),n[a]=o,s[a]=c;let u=r,p=0;for(;u!==a;)p+=n[u++],u%=e;if((a=(a+1)%e)===r&&(r=(r+1)%e),c-i<t)return;let d=l&&c-l;return d?Math.round(1e3*p/d):void 0}},iB=Symbol("internals");class i$ extends iU.Transform{constructor(e){super({readableHighWaterMark:(e=tZ.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!tZ.isUndefined(t[e]))).chunkSize});let t=this,i=this[iB]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},n=iF(i.ticksRate*e.samplesCount,i.timeWindow);this.on("newListener",e=>{"progress"!==e||i.isCaptured||(i.isCaptured=!0)});let s=0;i.updateProgress=iM(function(){let e=i.length,a=i.bytesSeen,r=a-s;if(!r||t.destroyed)return;let o=n(r);s=a,process.nextTick(()=>{t.emit("progress",{loaded:a,total:e,progress:e?a/e:void 0,bytes:r,rate:o||void 0,estimated:o&&e&&a<=e?(e-a)/o:void 0})})},i.ticksRate);let a=()=>{i.updateProgress(!0)};this.once("end",a),this.once("error",a)}_read(e){let t=this[iB];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,i){let n=this,s=this[iB],a=s.maxRate,r=this.readableHighWaterMark,o=s.timeWindow,c=a/(1e3/o),l=!1!==s.minChunkSize?Math.max(s.minChunkSize,.01*c):0,u=(e,t)=>{let i;let u=Buffer.byteLength(e),p=null,d=r,h=0;if(a){let e=Date.now();(!s.ts||(h=e-s.ts)>=o)&&(s.ts=e,i=c-s.bytes,s.bytes=i<0?-i:0,h=0),i=c-s.bytes}if(a){if(i<=0)return setTimeout(()=>{t(null,e)},o-h);i<d&&(d=i)}d&&u>d&&u-d>l&&(p=e.subarray(d),e=e.subarray(0,d)),function(e,t){let i=Buffer.byteLength(e);s.bytesSeen+=i,s.bytes+=i,s.isCaptured&&s.updateProgress(),n.push(e)?process.nextTick(t):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(t)}}(e,p?()=>{process.nextTick(t,null,p)}:t)};u(e,function e(t,n){if(t)return i(t);n?u(n,e):i(null)})}setLength(e){return this[iB].length=+e,this}}var iz=i(82361);let{asyncIterator:iV}=Symbol,iW=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[iV]?yield*e[iV]():yield e},iq=tZ.ALPHABET.ALPHA_DIGIT+"-_",iH=new iP.TextEncoder,iG=iH.encode("\r\n");class iK{constructor(e,t){let{escapeName:i}=this.constructor,n=tZ.isString(t),s=`Content-Disposition: form-data; name="${i(e)}"${!n&&t.name?`; filename="${i(t.name)}"`:""}\r
`;n?t=iH.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):s+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=iH.encode(s+"\r\n"),this.contentLength=n?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;tZ.isTypedArray(e)?yield e:yield*iW(e),yield iG}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let iJ=(e,t,i)=>{let{tag:n="form-data-boundary",size:s=25,boundary:a=n+"-"+tZ.generateString(s,iq)}=i||{};if(!tZ.isFormData(e))throw TypeError("FormData instance required");if(a.length<1||a.length>70)throw Error("boundary must be 10-70 characters long");let r=iH.encode("--"+a+"\r\n"),o=iH.encode("--"+a+"--\r\n\r\n"),c=o.byteLength,l=Array.from(e.entries()).map(([e,t])=>{let i=new iK(e,t);return c+=i.size,i});c+=r.byteLength*l.length;let u={"Content-Type":`multipart/form-data; boundary=${a}`};return Number.isFinite(c=tZ.toFiniteNumber(c))&&(u["Content-Length"]=c),t&&t(u),iU.Readable.from(async function*(){for(let e of l)yield r,yield*e.encode();yield o}())};class iY extends iU.Transform{__transform(e,t,i){this.push(e),i()}_transform(e,t,i){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,i)}}let iX=(e,t)=>tZ.isAsyncFn(e)?function(...i){let n=i.pop();e.apply(this,i).then(e=>{try{t?n(null,...t(e)):n(null,e)}catch(e){n(e)}},n)}:e,iZ={flush:iN.constants.Z_SYNC_FLUSH,finishFlush:iN.constants.Z_SYNC_FLUSH},iQ={flush:iN.constants.BROTLI_OPERATION_FLUSH,finishFlush:iN.constants.BROTLI_OPERATION_FLUSH},i0=tZ.isFunction(iN.createBrotliDecompress),{http:i1,https:i2}=ij,i3=/https:?/,i4=iu.protocols.map(e=>e+":");function i6(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let i5="undefined"!=typeof process&&"process"===tZ.kindOf(process),i8=e=>new Promise((t,i)=>{let n,s;let a=(e,t)=>{!s&&(s=!0,n&&n(e,t))},r=e=>{a(e,!0),i(e)};e(e=>{a(e),t(e)},r,e=>n=e).catch(r)}),i9=({address:e,family:t})=>{if(!tZ.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},i7=(e,t)=>i9(tZ.isObject(e)?e:{address:e,family:t}),ne=i5&&function(e){return i8(async function(t,i,n){let s,a,r,o,c,l,u,{data:p,lookup:d,family:h}=e,{responseType:m,responseEncoding:f}=e,g=e.method.toUpperCase(),v=!1;if(d){let e=iX(d,e=>tZ.isArray(e)?e:[e]);d=(t,i,n)=>{e(t,i,(e,t,s)=>{if(e)return n(e);let a=tZ.isArray(t)?t.map(e=>i7(e)):[i7(t,s)];i.all?n(e,a):n(e,a[0].address,a[0].family)})}}let b=new iz.EventEmitter,x=()=>{e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y),b.removeAllListeners()};function y(t){b.emit("abort",!t||t.type?new iS(null,e,c):t)}n((e,t)=>{o=!0,t&&(v=!0,x())}),b.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y)));let w=iC(e.baseURL,e.url),_=new URL(w,"http://localhost"),k=_.protocol||i4[0];if("data:"===k){let n;if("GET"!==g)return iE(t,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{n=function(e,t,i){let n=i&&i.Blob||iu.classes.Blob,s=iA(e);if(void 0===t&&n&&(t=!0),"data"===s){e=s.length?e.slice(s.length+1):e;let i=iD.exec(e);if(!i)throw new tQ("Invalid URL",tQ.ERR_INVALID_URL);let a=i[1],r=i[2],o=i[3],c=Buffer.from(decodeURIComponent(o),r?"base64":"utf8");if(t){if(!n)throw new tQ("Blob is not supported",tQ.ERR_NOT_SUPPORT);return new n([c],{type:a})}return c}throw new tQ("Unsupported protocol "+s,tQ.ERR_NOT_SUPPORT)}(e.url,"blob"===m,{Blob:e.env&&e.env.Blob})}catch(t){throw tQ.from(t,tQ.ERR_BAD_REQUEST,e)}return"text"===m?(n=n.toString(f),f&&"utf8"!==f||(n=tZ.stripBOM(n))):"stream"===m&&(n=iU.Readable.from(n)),iE(t,i,{data:n,status:200,statusText:"OK",headers:new iw,config:e})}if(-1===i4.indexOf(k))return i(new tQ("Unsupported protocol "+k,tQ.ERR_BAD_REQUEST,e));let S=iw.from(e.headers).normalize();S.set("User-Agent","axios/"+iL,!1);let E=e.onDownloadProgress,C=e.onUploadProgress,T=e.maxRate;if(tZ.isSpecCompliantForm(p)){let e=S.getContentType(/boundary=([-_\w\d]{10,70})/i);p=iJ(p,e=>{S.set(e)},{tag:`axios-${iL}-boundary`,boundary:e&&e[1]||void 0})}else if(tZ.isFormData(p)&&tZ.isFunction(p.getHeaders)){if(S.set(p.getHeaders()),!S.hasContentLength())try{let e=await iP.promisify(p.getLength).call(p);Number.isFinite(e)&&e>=0&&S.setContentLength(e)}catch(e){}}else if(tZ.isBlob(p))p.size&&S.setContentType(p.type||"application/octet-stream"),S.setContentLength(p.size||0),p=iU.Readable.from(iW(p));else if(p&&!tZ.isStream(p)){if(Buffer.isBuffer(p));else if(tZ.isArrayBuffer(p))p=Buffer.from(new Uint8Array(p));else{if(!tZ.isString(p))return i(new tQ("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",tQ.ERR_BAD_REQUEST,e));p=Buffer.from(p,"utf-8")}if(S.setContentLength(p.length,!1),e.maxBodyLength>-1&&p.length>e.maxBodyLength)return i(new tQ("Request body larger than maxBodyLength limit",tQ.ERR_BAD_REQUEST,e))}let R=tZ.toFiniteNumber(S.getContentLength());tZ.isArray(T)?(s=T[0],a=T[1]):s=a=T,p&&(C||s)&&(tZ.isStream(p)||(p=iU.Readable.from(p,{objectMode:!1})),p=iU.pipeline([p,new i$({length:R,maxRate:tZ.toFiniteNumber(s)})],tZ.noop),C&&p.on("progress",e=>{C(Object.assign(e,{upload:!0}))})),e.auth&&(r=(e.auth.username||"")+":"+(e.auth.password||"")),!r&&_.username&&(r=_.username+":"+_.password),r&&S.delete("authorization");try{l=ii(_.pathname+_.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(n){let t=Error(n.message);return t.config=e,t.url=e.url,t.exists=!0,i(t)}S.set("Accept-Encoding","gzip, compress, deflate"+(i0?", br":""),!1);let O={path:l,method:g,headers:S.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:r,protocol:k,family:h,beforeRedirect:i6,beforeRedirects:{}};tZ.isUndefined(d)||(O.lookup=d),e.socketPath?O.socketPath=e.socketPath:(O.hostname=_.hostname,O.port=_.port,function e(t,i,n){let s=i;if(!s&&!1!==s){let e=(0,iT.j)(n);e&&(s=new URL(e))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let e=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=s.hostname||s.host;t.hostname=e,t.host=e,t.port=s.port,t.path=n,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,i,t.href)}}(O,e.proxy,k+"//"+_.hostname+(_.port?":"+_.port:"")+O.path));let I=i3.test(O.protocol);if(O.agent=I?e.httpsAgent:e.httpAgent,e.transport?u=e.transport:0===e.maxRedirects?u=I?iO:iR:(e.maxRedirects&&(O.maxRedirects=e.maxRedirects),e.beforeRedirect&&(O.beforeRedirects.config=e.beforeRedirect),u=I?i2:i1),e.maxBodyLength>-1?O.maxBodyLength=e.maxBodyLength:O.maxBodyLength=1/0,e.insecureHTTPParser&&(O.insecureHTTPParser=e.insecureHTTPParser),c=u.request(O,function(n){if(c.destroyed)return;let s=[n],r=+n.headers["content-length"];if(E){let e=new i$({length:tZ.toFiniteNumber(r),maxRate:tZ.toFiniteNumber(a)});E&&e.on("progress",e=>{E(Object.assign(e,{download:!0}))}),s.push(e)}let o=n,l=n.req||c;if(!1!==e.decompress&&n.headers["content-encoding"])switch(("HEAD"===g||204===n.statusCode)&&delete n.headers["content-encoding"],(n.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":s.push(iN.createUnzip(iZ)),delete n.headers["content-encoding"];break;case"deflate":s.push(new iY),s.push(iN.createUnzip(iZ)),delete n.headers["content-encoding"];break;case"br":i0&&(s.push(iN.createBrotliDecompress(iQ)),delete n.headers["content-encoding"])}o=s.length>1?iU.pipeline(s,tZ.noop):s[0];let u=iU.finished(o,()=>{u(),x()}),p={status:n.statusCode,statusText:n.statusMessage,headers:new iw(n.headers),config:e,request:l};if("stream"===m)p.data=o,iE(t,i,p);else{let n=[],s=0;o.on("data",function(t){n.push(t),s+=t.length,e.maxContentLength>-1&&s>e.maxContentLength&&(v=!0,o.destroy(),i(new tQ("maxContentLength size of "+e.maxContentLength+" exceeded",tQ.ERR_BAD_RESPONSE,e,l)))}),o.on("aborted",function(){if(v)return;let t=new tQ("maxContentLength size of "+e.maxContentLength+" exceeded",tQ.ERR_BAD_RESPONSE,e,l);o.destroy(t),i(t)}),o.on("error",function(t){c.destroyed||i(tQ.from(t,null,e,l))}),o.on("end",function(){try{let e=1===n.length?n[0]:Buffer.concat(n);"arraybuffer"===m||(e=e.toString(f),f&&"utf8"!==f||(e=tZ.stripBOM(e))),p.data=e}catch(t){return i(tQ.from(t,null,e,p.request,p))}iE(t,i,p)})}b.once("abort",e=>{o.destroyed||(o.emit("error",e),o.destroy())})}),b.once("abort",e=>{i(e),c.destroy(e)}),c.on("error",function(t){i(tQ.from(t,null,e,c))}),c.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){i(new tQ("error trying to parse `config.timeout` to int",tQ.ERR_BAD_OPTION_VALUE,e,c));return}c.setTimeout(t,function(){if(o)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||ia;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new tQ(t,n.clarifyTimeoutError?tQ.ETIMEDOUT:tQ.ECONNABORTED,e,c)),y()})}if(tZ.isStream(p)){let t=!1,i=!1;p.on("end",()=>{t=!0}),p.once("error",e=>{i=!0,c.destroy(e)}),p.on("close",()=>{t||i||y(new iS("Request stream has been aborted",e,c))}),p.pipe(c)}else c.end(p)})},nt=iu.hasStandardBrowserEnv?{write(e,t,i,n,s,a){let r=[e+"="+encodeURIComponent(t)];tZ.isNumber(i)&&r.push("expires="+new Date(i).toGMTString()),tZ.isString(n)&&r.push("path="+n),tZ.isString(s)&&r.push("domain="+s),!0===a&&r.push("secure"),document.cookie=r.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},ni=iu.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){let n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){let i=tZ.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0};function nn(e,t){let i=0,n=iF(50,250);return s=>{let a=s.loaded,r=s.lengthComputable?s.total:void 0,o=a-i,c=n(o);i=a;let l={loaded:a,total:r,progress:r?a/r:void 0,bytes:o,rate:c||void 0,estimated:c&&r&&a<=r?(r-a)/c:void 0,event:s};l[t?"download":"upload"]=!0,e(l)}}let ns={http:ne,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let n,s,a=e.data,r=iw.from(e.headers).normalize(),{responseType:o,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if(tZ.isFormData(a)){if(iu.hasStandardBrowserEnv||iu.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(s=r.getContentType())){let[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}}let u=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+i))}let p=iC(e.baseURL,e.url);function d(){if(!u)return;let n=iw.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());iE(function(e){t(e),l()},function(e){i(e),l()},{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),ii(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(i(new tQ("Request aborted",tQ.ECONNABORTED,e,u)),u=null)},u.onerror=function(){i(new tQ("Network Error",tQ.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||ia;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new tQ(t,n.clarifyTimeoutError?tQ.ETIMEDOUT:tQ.ECONNABORTED,e,u)),u=null},iu.hasStandardBrowserEnv&&(c&&tZ.isFunction(c)&&(c=c(e)),c||!1!==c&&ni(p))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&nt.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===a&&r.setContentType(null),"setRequestHeader"in u&&tZ.forEach(r.toJSON(),function(e,t){u.setRequestHeader(t,e)}),tZ.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",nn(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",nn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=t=>{u&&(i(!t||t.type?new iS(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));let h=iA(p);if(h&&-1===iu.protocols.indexOf(h)){i(new tQ("Unsupported protocol "+h+":",tQ.ERR_BAD_REQUEST,e));return}u.send(a||null)})}};tZ.forEach(ns,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let na=e=>`- ${e}`,nr=e=>tZ.isFunction(e)||null===e||!1===e,no={getAdapter:e=>{let t,i;let{length:n}=e=tZ.isArray(e)?e:[e],s={};for(let a=0;a<n;a++){let n;if(i=t=e[a],!nr(t)&&void 0===(i=ns[(n=String(t)).toLowerCase()]))throw new tQ(`Unknown adapter '${n}'`);if(i)break;s[n||"#"+a]=i}if(!i){let e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new tQ("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(na).join("\n"):" "+na(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:ns};function nc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iS(null,e)}function nl(e){return nc(e),e.headers=iw.from(e.headers),e.data=i_.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),no.getAdapter(e.adapter||id.adapter)(e).then(function(t){return nc(e),t.data=i_.call(e,e.transformResponse,t),t.headers=iw.from(t.headers),t},function(t){return!ik(t)&&(nc(e),t&&t.response&&(t.response.data=i_.call(e,e.transformResponse,t.response),t.response.headers=iw.from(t.response.headers))),Promise.reject(t)})}let nu=e=>e instanceof iw?{...e}:e;function np(e,t){t=t||{};let i={};function n(e,t,i){return tZ.isPlainObject(e)&&tZ.isPlainObject(t)?tZ.merge.call({caseless:i},e,t):tZ.isPlainObject(t)?tZ.merge({},t):tZ.isArray(t)?t.slice():t}function s(e,t,i){return tZ.isUndefined(t)?tZ.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function a(e,t){if(!tZ.isUndefined(t))return n(void 0,t)}function r(e,t){return tZ.isUndefined(t)?tZ.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(i,s,a){return a in t?n(i,s):a in e?n(void 0,i):void 0}let c={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(e,t)=>s(nu(e),nu(t),!0)};return tZ.forEach(Object.keys(Object.assign({},e,t)),function(n){let a=c[n]||s,r=a(e[n],t[n],n);tZ.isUndefined(r)&&a!==o||(i[n]=r)}),i}let nd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nd[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let nh={};nd.transitional=function(e,t,i){function n(e,t){return"[Axios v"+iL+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,s,a)=>{if(!1===e)throw new tQ(n(s," has been removed"+(t?" in "+t:"")),tQ.ERR_DEPRECATED);return t&&!nh[s]&&(nh[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,s,a)}};let nm={assertOptions:function(e,t,i){if("object"!=typeof e)throw new tQ("options must be an object",tQ.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),s=n.length;for(;s-- >0;){let a=n[s],r=t[a];if(r){let t=e[a],i=void 0===t||r(t,a,e);if(!0!==i)throw new tQ("option "+a+" must be "+i,tQ.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new tQ("Unknown option "+a,tQ.ERR_BAD_OPTION)}},validators:nd},nf=nm.validators;class ng{constructor(e){this.defaults=e,this.interceptors={request:new is,response:new is}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let i=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}throw e}}_request(e,t){let i,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:s,paramsSerializer:a,headers:r}=t=np(this.defaults,t);void 0!==s&&nm.assertOptions(s,{silentJSONParsing:nf.transitional(nf.boolean),forcedJSONParsing:nf.transitional(nf.boolean),clarifyTimeoutError:nf.transitional(nf.boolean)},!1),null!=a&&(tZ.isFunction(a)?t.paramsSerializer={serialize:a}:nm.assertOptions(a,{encode:nf.function,serialize:nf.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&tZ.merge(r.common,r[t.method]);r&&tZ.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=iw.concat(o,r);let c=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,c.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let p=0;if(!l){let e=[nl.bind(this),void 0];for(e.unshift.apply(e,c),e.push.apply(e,u),n=e.length,i=Promise.resolve(t);p<n;)i=i.then(e[p++],e[p++]);return i}n=c.length;let d=t;for(p=0;p<n;){let e=c[p++],t=c[p++];try{d=e(d)}catch(e){t.call(this,e);break}}try{i=nl.call(this,d)}catch(e){return Promise.reject(e)}for(p=0,n=u.length;p<n;)i=i.then(u[p++],u[p++]);return i}getUri(e){return ii(iC((e=np(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}tZ.forEach(["delete","get","head","options"],function(e){ng.prototype[e]=function(t,i){return this.request(np(i||{},{method:e,url:t,data:(i||{}).data}))}}),tZ.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,s){return this.request(np(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}ng.prototype[e]=t(),ng.prototype[e+"Form"]=t(!0)});class nv{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,n,s){i.reason||(i.reason=new iS(e,n,s),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new nv(function(t){e=t}),cancel:e}}}let nb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nb).forEach(([e,t])=>{nb[t]=e});let nx=function e(t){let i=new ng(t),n=ty(ng.prototype.request,i);return tZ.extend(n,ng.prototype,i,{allOwnKeys:!0}),tZ.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(np(t,i))},n}(id);nx.Axios=ng,nx.CanceledError=iS,nx.CancelToken=nv,nx.isCancel=ik,nx.VERSION=iL,nx.toFormData=t8,nx.AxiosError=tQ,nx.Cancel=nx.CanceledError,nx.all=function(e){return Promise.all(e)},nx.spread=function(e){return function(t){return e.apply(null,t)}},nx.isAxiosError=function(e){return tZ.isObject(e)&&!0===e.isAxiosError},nx.mergeConfig=np,nx.AxiosHeaders=iw,nx.formToJSON=e=>ip(tZ.isHTMLForm(e)?new FormData(e):e),nx.getAdapter=no.getAdapter,nx.HttpStatusCode=nb,nx.default=nx;let{Axios:ny,AxiosError:nw,CanceledError:n_,isCancel:nk,CancelToken:nS,VERSION:nE,all:nC,Cancel:nT,isAxiosError:nR,spread:nO,toFormData:nI,AxiosHeaders:nP,HttpStatusCode:nj,formToJSON:nN,getAdapter:nL,mergeConfig:nA}=nx;class nD extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=i?i:{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length)for(let[i,n]of(e.push(""),e.push("Meta:"),t))e.push(`  ${i}: ${n}`);return e.join("\n")}}function nU(e,t){if(e)for(let[i,n]of Object.entries(e))n instanceof Date?t[i]=new Date(n.getTime()):Array.isArray(n)?t[i]=n.concat():t[i]=n}(function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"})(x||(x={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(y||(y={}));class nM{constructor(e=!0){this._state=y.PENDING,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e&&this._promise.catch(e=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==y.PENDING)throw Error(`cannot resolve ${y[this.state].toLowerCase()}`);this._resolve(e),this._state=y.RESOLVED}reject(e){if(this.state!==y.PENDING)throw Error(`cannot reject ${y[this.state].toLowerCase()}`);this._reject(e),this._state=y.REJECTED}resolvePending(e){this._state===y.PENDING&&this.resolve(e)}rejectPending(e){this._state===y.PENDING&&this.reject(e)}}class nF{constructor(e,t,i,n,s,a,r){this.method=e,this.requestHeaders=t,this.request=i,this.headers=n,this.response=s,this.status=a,this.trailers=r}then(e,t){return this.promiseFinished().then(t=>e?Promise.resolve(e(t)):t,e=>t?Promise.resolve(t(e)):Promise.reject(e))}promiseFinished(){var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){let[e,t,i,n]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:n}},new(i||(i=Promise))(function(s,a){function r(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?s(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(r,o)}c((n=n.apply(e,t||[])).next())})}}class nB{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let i={};for(let a of(nU(e,i),nU(t,i),Object.keys(t))){let r=t[a];switch(a){case"jsonOptions":i.jsonOptions=function(e,t){var i,n;let s=Object.assign(Object.assign({},e),t);return s.typeRegistry=[...null!==(i=null==e?void 0:e.typeRegistry)&&void 0!==i?i:[],...null!==(n=null==t?void 0:t.typeRegistry)&&void 0!==n?n:[]],s}(e.jsonOptions,i.jsonOptions);break;case"binaryOptions":var n,s;i.binaryOptions=(n=e.binaryOptions,s=i.binaryOptions,Object.assign(Object.assign({},n),s));break;case"meta":i.meta={},nU(e.meta,i.meta),nU(t.meta,i.meta);break;case"interceptors":i.interceptors=e.interceptors?e.interceptors.concat(r):r.concat()}}return i}(this.defaultOptions,e)}unary(e,t,i){var n,s,a;let r=this.makeUrl(e,i),o=null!==(n=i.fetchInit)&&void 0!==n?n:{},c=i.sendJson?e.I.toJsonString(t,i.jsonOptions):e.I.toBinary(t,i.binaryOptions),l=new nM,u=new nM,p=new nM,d=new nM;return globalThis.fetch(r,Object.assign(Object.assign({},o),{method:"POST",headers:function(e,t,i){if(i)for(let[t,n]of Object.entries(i))if("string"==typeof n)e.append(t,n);else for(let i of n)e.append(t,i);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}(new globalThis.Headers,!!i.sendJson,i.meta),body:c,signal:null!==(s=i.abort)&&void 0!==s?s:null})).then(t=>{var n;let s,a;l.resolve((n=t.headers,a={},n.forEach((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(a.hasOwnProperty(t)?a[t].push(e):a[t]=e)}),a));try{s=t.type}catch(e){}switch(s){case"error":case"opaque":case"opaqueredirect":throw new nD(`fetch response type ${t.type}`,x[x.unknown])}return t.ok?i.sendJson?t.json().then(t=>e.O.fromJson(t,i.jsonOptions),()=>{throw new nD("unable to read response body as json",x[x.dataloss])}):t.arrayBuffer().then(t=>e.O.fromBinary(new Uint8Array(t),i.binaryOptions),()=>{throw new nD("unable to read response body",x[x.dataloss])}):t.json().then(e=>{throw function(e){if(!eq(e)||"string"!=typeof e.code||"string"!=typeof e.msg)return new nD("cannot read twirp error response",x[x.internal]);let t={};if(eq(e.meta))for(let[i,n]of Object.entries(e.meta))"string"==typeof n&&(t[i]=n);return new nD(e.msg,e.code,t)}(e)},()=>{throw new nD("received HTTP "+t.status+", unable to read response body as json",x[x.internal])})},e=>{if(e instanceof Error&&"AbortError"===e.name)throw new nD(e.message,x[x.cancelled]);throw new nD(e instanceof Error?e.message:e)}).then(e=>{u.resolve(e),p.resolve({code:"OK",detail:""}),d.resolve({})}).catch(t=>{let i=t instanceof nD?t:new nD(t instanceof Error?t.message:t,x[x.internal]);i.methodName=e.name,i.serviceName=e.service.typeName,l.rejectPending(i),u.rejectPending(i),p.rejectPending(i),d.rejectPending(i)}),new nF(e,null!==(a=i.meta)&&void 0!==a?a:{},t,l.promise,u.promise,p.promise,d.promise)}makeUrl(e,t){let i=t.baseUrl;i.endsWith("/")&&(i=i.substring(0,i.length-1));let n=e.name;return!0!==t.useProtoMethodName&&(n=(n=e$(n)).substring(0,1).toUpperCase()+n.substring(1)),`${i}/${e.service.typeName}/${n}`}clientStreaming(e){let t=new nD("Client streaming is not supported by Twirp",x[x.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new nD("Duplex streaming is not supported by Twirp",x[x.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){let t=new nD("Server streaming is not supported by Twirp",x[x.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}var n$=i(62824);function nz(e){return"function"==typeof e}function nV(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nW=nV(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function nq(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var nH=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,i,n,s,a=this._parentage;if(a){if(this._parentage=null,Array.isArray(a))try{for(var r=(0,n$.XA)(a),o=r.next();!o.done;o=r.next())o.value.remove(this)}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}else a.remove(this)}var c=this.initialTeardown;if(nz(c))try{c()}catch(e){s=e instanceof nW?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=(0,n$.XA)(l),p=u.next();!p.done;p=u.next()){var d=p.value;try{nJ(d)}catch(e){s=null!=s?s:[],e instanceof nW?s=(0,n$.ev)((0,n$.ev)([],(0,n$.CR)(s)),(0,n$.CR)(e.errors)):s.push(e)}}}catch(e){i={error:e}}finally{try{p&&!p.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}}if(s)throw new nW(s)}},t.prototype.add=function(e){var i;if(e&&e!==this){if(this.closed)nJ(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&nq(t,e)},t.prototype.remove=function(e){var i=this._finalizers;i&&nq(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),nG=nH.EMPTY;function nK(e){return e instanceof nH||e&&"closed"in e&&nz(e.remove)&&nz(e.add)&&nz(e.unsubscribe)}function nJ(e){nz(e)?e():e.unsubscribe()}var nY={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nX={setTimeout:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=nX.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,n$.ev)([e,t],(0,n$.CR)(i))):setTimeout.apply(void 0,(0,n$.ev)([e,t],(0,n$.CR)(i)))},clearTimeout:function(e){var t=nX.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function nZ(e){nX.setTimeout(function(){var t=nY.onUnhandledError;if(t)t(e);else throw e})}function nQ(){}var n0=n1("C",void 0,void 0);function n1(e,t,i){return{kind:e,value:t,error:i}}var n2=null;function n3(e){if(nY.useDeprecatedSynchronousErrorHandling){var t=!n2;if(t&&(n2={errorThrown:!1,error:null}),e(),t){var i=n2,n=i.errorThrown,s=i.error;if(n2=null,n)throw s}}else e()}var n4=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,nK(t)&&t.add(i)):i.destination=st,i}return(0,n$.ZT)(t,e),t.create=function(e,t,i){return new n9(e,t,i)},t.prototype.next=function(e){this.isStopped?se(n1("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?se(n1("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?se(n0,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(nH),n6=Function.prototype.bind;function n5(e,t){return n6.call(e,t)}var n8=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){n7(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){n7(e)}else n7(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){n7(e)}},e}(),n9=function(e){function t(t,i,n){var s,a,r=e.call(this)||this;return nz(t)||!t?s={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:r&&nY.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return r.unsubscribe()},s={next:t.next&&n5(t.next,a),error:t.error&&n5(t.error,a),complete:t.complete&&n5(t.complete,a)}):s=t,r.destination=new n8(s),r}return(0,n$.ZT)(t,e),t}(n4);function n7(e){nY.useDeprecatedSynchronousErrorHandling?nY.useDeprecatedSynchronousErrorHandling&&n2&&(n2.errorThrown=!0,n2.error=e):nZ(e)}function se(e,t){var i=nY.onStoppedNotification;i&&nX.setTimeout(function(){return i(e,t)})}var st={closed:!0,next:nQ,error:function(e){throw e},complete:nQ},si="function"==typeof Symbol&&Symbol.observable||"@@observable";function sn(e){return e}var ss=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,s=this,a=(n=e)&&n instanceof n4||n&&nz(n.next)&&nz(n.error)&&nz(n.complete)&&nK(n)?e:new n9(e,t,i);return n3(function(){var e=s.operator,t=s.source;a.add(e?e.call(a,t):t?s._subscribe(a):s._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=sa(t))(function(t,n){var s=new n9({next:function(t){try{e(t)}catch(e){n(e),s.unsubscribe()}},error:n,complete:t});i.subscribe(s)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[si]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?sn:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=sa(e))(function(e,i){var n;t.subscribe(function(e){return n=e},function(e){return i(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function sa(e){var t;return null!==(t=null!=e?e:nY.Promise)&&void 0!==t?t:Promise}var sr=nV(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),so=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,n$.ZT)(t,e),t.prototype.lift=function(e){var t=new sc(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new sr},t.prototype.next=function(e){var t=this;n3(function(){var i,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,n$.XA)(t.currentObservers),a=s.next();!a.done;a=s.next())a.value.next(e)}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;n3(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;n3(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this.hasError,n=this.isStopped,s=this.observers;return i||n?nG:(this.currentObservers=null,s.push(e),new nH(function(){t.currentObservers=null,nq(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,i=this.thrownError,n=this.isStopped;t?e.error(i):n&&e.complete()},t.prototype.asObservable=function(){var e=new ss;return e.source=this,e},t.create=function(e,t){return new sc(e,t)},t}(ss),sc=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return(0,n$.ZT)(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:nG},t}(so),sl={now:function(){return(sl.delegate||Date).now()},delegate:void 0},su=function(e){function t(t,i,n){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===n&&(n=sl);var s=e.call(this)||this;return s._bufferSize=t,s._windowTime=i,s._timestampProvider=n,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,i),s}return(0,n$.ZT)(t,e),t.prototype.next=function(t){var i=this.isStopped,n=this._buffer,s=this._infiniteTimeWindow,a=this._timestampProvider,r=this._windowTime;!i&&(n.push(t),s||n.push(a.now()+r)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,n=this._buffer.slice(),s=0;s<n.length&&!e.closed;s+=i?1:2)e.next(n[s]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,i=this._buffer,n=this._infiniteTimeWindow,s=(n?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!n){for(var a=t.now(),r=0,o=1;o<i.length&&i[o]<=a;o+=2)r=o;r&&i.splice(0,r+1)}},t}(so),sp=Array.isArray,sd=Object.getPrototypeOf,sh=Object.prototype,sm=Object.keys,sf=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function sg(e){return nz(null==e?void 0:e.then)}function sv(e){return Symbol.asyncIterator&&nz(null==e?void 0:e[Symbol.asyncIterator])}function sb(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var sx="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function sy(e){return nz(null==e?void 0:e[sx])}function sw(e){return(0,n$.FC)(this,arguments,function(){var t,i,n;return(0,n$.Jh)(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,n$.qq)(t.read())];case 3:if(n=(i=s.sent()).value,!i.done)return[3,5];return[4,(0,n$.qq)(void 0)];case 4:return[2,s.sent()];case 5:return[4,(0,n$.qq)(n)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function s_(e){return nz(null==e?void 0:e.getReader)}function sk(e){if(e instanceof ss)return e;if(null!=e){if(nz(e[si]))return new ss(function(t){var i=e[si]();if(nz(i.subscribe))return i.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(sf(e))return new ss(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()});if(sg(e))return new ss(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,nZ)});if(sv(e))return sS(e);if(sy(e))return new ss(function(t){var i,n;try{for(var s=(0,n$.XA)(e),a=s.next();!a.done;a=s.next()){var r=a.value;if(t.next(r),t.closed)return}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}t.complete()});if(s_(e))return sS(sw(e))}throw sb(e)}function sS(e){return new ss(function(t){(function(e,t){var i,n,s,a;return(0,n$.mG)(this,void 0,void 0,function(){var r;return(0,n$.Jh)(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),i=(0,n$.KL)(e),o.label=1;case 1:return[4,i.next()];case 2:if((n=o.sent()).done)return[3,4];if(r=n.value,t.next(r),t.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s={error:o.sent()},[3,11];case 6:if(o.trys.push([6,,9,10]),!(n&&!n.done&&(a=i.return)))return[3,8];return[4,a.call(i)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function sE(e,t,i,n,s){void 0===n&&(n=0),void 0===s&&(s=!1);var a=t.schedule(function(){i(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(a),!s)return a}function sC(e){return function(t){if(nz(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function sT(e,t,i,n,s){return new sR(e,t,i,n,s)}var sR=function(e){function t(t,i,n,s,a,r){var o=e.call(this,t)||this;return o.onFinalize=a,o.shouldUnsubscribe=r,o._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,o._error=s?function(e){try{s(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,n$.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),i||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(n4);function sO(e,t){return void 0===t&&(t=0),sC(function(i,n){i.subscribe(sT(n,function(i){return sE(n,e,function(){return n.next(i)},t)},function(){return sE(n,e,function(){return n.complete()},t)},function(i){return sE(n,e,function(){return n.error(i)},t)}))})}function sI(e,t){return void 0===t&&(t=0),sC(function(i,n){n.add(e.schedule(function(){return i.subscribe(n)},t))})}function sP(e,t){if(!e)throw Error("Iterable cannot be null");return new ss(function(i){sE(i,t,function(){var n=e[Symbol.asyncIterator]();sE(i,t,function(){n.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function sj(e,t){return t?function(e,t){if(null!=e){if(nz(e[si]))return sk(e).pipe(sI(t),sO(t));if(sf(e))return new ss(function(i){var n=0;return t.schedule(function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())})});if(sg(e))return sk(e).pipe(sI(t),sO(t));if(sv(e))return sP(e,t);if(sy(e))return new ss(function(i){var n;return sE(i,t,function(){n=e[sx](),sE(i,t,function(){var e,t,s;try{t=(e=n.next()).value,s=e.done}catch(e){i.error(e);return}s?i.complete():i.next(t)},0,!0)}),function(){return nz(null==n?void 0:n.return)&&n.return()}});if(s_(e))return sP(sw(e),t)}throw sb(e)}(e,t):sk(e)}function sN(e,t){return sC(function(i,n){var s=0;i.subscribe(sT(n,function(i){n.next(e.call(t,i,s++))}))})}var sL=Array.isArray;function sA(e){return e&&nz(e.schedule)}function sD(e){return e[e.length-1]}function sU(e){return sA(sD(e))?e.pop():void 0}function sM(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=sU(t),s=nz(sD(t))?t.pop():void 0,a=function(e){if(1===e.length){var t=e[0];if(sp(t))return{args:t,keys:null};if(t&&"object"==typeof t&&sd(t)===sh){var i=sm(t);return{args:i.map(function(e){return t[e]}),keys:i}}}return{args:e,keys:null}}(t),r=a.args,o=a.keys;if(0===r.length)return sj([],n);var c=new ss((void 0===(e=o?function(e){return o.reduce(function(t,i,n){return t[i]=e[n],t},{})}:sn)&&(e=sn),function(t){var i,s,a;i=n,s=function(){for(var i=r.length,s=Array(i),a=i,o=i,c=function(i){var c,l,u;c=n,l=function(){var c=sj(r[i],n),l=!1;c.subscribe(sT(t,function(n){s[i]=n,!l&&(l=!0,o--),o||t.next(e(s.slice()))},function(){--a||t.complete()}))},u=t,c?sE(u,c,l):l()},l=0;l<i;l++)c(l)},a=t,i?sE(a,i,s):s()}));return s?c.pipe(sN(function(e){return sL(e)?s.apply(void 0,(0,n$.ev)([],(0,n$.CR)(e))):s(e)})):c}var sF=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return(0,n$.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return i.closed||t.next(this._value),i},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,i=this._value;if(e)throw t;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(so);function sB(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(!0===t){e();return}if(!1!==t){var s=new n9({next:function(){s.unsubscribe(),e()}});return sk(t.apply(void 0,(0,n$.ev)([],(0,n$.CR)(i)))).subscribe(s)}}function s$(e,t,i){var n,s,a,r,o,c,l,u,p,d,h,m,f,g=!1;return e&&"object"==typeof e?(f=void 0===(d=e.bufferSize)?1/0:d,t=void 0===(h=e.windowTime)?1/0:h,g=void 0!==(m=e.refCount)&&m,i=e.scheduler):f=null!=e?e:1/0,a=void 0===(s=(n={connector:function(){return new su(f,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g}).connector)?function(){return new so}:s,o=void 0===(r=n.resetOnError)||r,l=void 0===(c=n.resetOnComplete)||c,p=void 0===(u=n.resetOnRefCountZero)||u,function(e){var t,i,n,s=0,r=!1,c=!1,u=function(){null==i||i.unsubscribe(),i=void 0},d=function(){u(),t=n=void 0,r=c=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return sC(function(e,m){s++,c||r||u();var f=n=null!=n?n:a();m.add(function(){0!=--s||c||r||(i=sB(h,p))}),f.subscribe(m),!t&&s>0&&(t=new n9({next:function(e){return f.next(e)},error:function(e){c=!0,u(),i=sB(d,o,e),f.error(e)},complete:function(){r=!0,u(),i=sB(d,l),f.complete()}}),sk(e).subscribe(t))})(e)}}function sz(e,t){return void 0===t&&(t=sn),e=null!=e?e:sV,sC(function(i,n){var s,a=!0;i.subscribe(sT(n,function(i){var r=t(i);(a||!e(s,r))&&(a=!1,s=r,n.next(i))}))})}function sV(e,t){return e===t}function sW(e,t){return void 0===t&&(t=!1),sC(function(i,n){var s=0;i.subscribe(sT(n,function(i){var a=e(i,s++);(a||t)&&n.next(i),a||n.complete()}))})}function sq(e,t){return sz(function(i,n){return t?t(i[e],n[e]):i[e]===n[e]})}var sH=function(e){function t(t,i){return e.call(this)||this}return(0,n$.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(nH),sG={setInterval:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var s=sG.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,(0,n$.ev)([e,t],(0,n$.CR)(i))):setInterval.apply(void 0,(0,n$.ev)([e,t],(0,n$.CR)(i)))},clearInterval:function(e){var t=sG.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},sK=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.scheduler=t,n.work=i,n.pending=!1,n}return(0,n$.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i,n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),sG.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&sG.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,n=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,nq(n,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(sH),sJ=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=sl.now,e}(),sY=new(function(e){function t(t,i){void 0===i&&(i=sJ.now);var n=e.call(this,t,i)||this;return n.actions=[],n._active=!1,n}return(0,n$.ZT)(t,e),t.prototype.flush=function(e){var t,i=this.actions;if(this._active){i.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}},t}(sJ))(sK);function sX(e,t,i){return(void 0===i&&(i=1/0),nz(t))?sX(function(i,n){return sN(function(e,s){return t(i,e,n,s)})(sk(e(i,n)))},i):("number"==typeof t&&(i=t),sC(function(t,n){var s,a,r,o,c,l,u,p,d,h,m,f;return s=i,l=[],u=0,p=0,d=!1,h=function(){!d||l.length||u||n.complete()},m=function(e){return u<s?f(e):l.push(e)},f=function(t){r&&n.next(t),u++;var i=!1;sk(e(t,p++)).subscribe(sT(n,function(e){null==a||a(e),r?m(e):n.next(e)},function(){i=!0},void 0,function(){if(i)try{for(u--;l.length&&u<s;)!function(){var e=l.shift();o?sE(n,o,function(){return f(e)}):f(e)}();h()}catch(e){n.error(e)}}))},t.subscribe(sT(n,m,function(){d=!0,h()})),function(){null==c||c()}}))}var sZ=new ss(function(e){return e.complete()});function sQ(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=sU(t),s="number"==typeof sD(t)?t.pop():1/0;return t.length?1===t.length?sk(t[0]):(void 0===(e=s)&&(e=1/0),sX(sn,e))(sj(t,n)):sZ}var s0=i(37242),s1=i(12903),s2=i(95357),s3=i.n(s2),s4=i(76655);let s6={BLOCK_USERS:"block-users",CREATE_REACTION:"create-reaction",JOIN_BACKSTAGE:"join-backstage",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",START_RECORD_CALL:"start-record-call",STOP_RECORD_CALL:"stop-record-call",UPDATE_CALL_PERMISSIONS:"update-call-permissions"};class s5 extends Error{}!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(w||(w={}));class s8 extends tv{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>ae}}])}internalJsonWrite(e,t){let i={};for(let[t,n]of Object.entries(e.fields))i[t]=ae.toJson(n);return i}internalJsonRead(e,t,i){if(!eq(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+eW(e)+".");for(let[t,n]of(i||(i=this.create()),globalThis.Object.entries(e)))i.fields[t]=ae.fromJson(n);return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fields={},void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)this.binaryReadMap1(s.fields,e,i);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}binaryReadMap1(e,t,i){let n=t.uint32(),s=t.pos+n,a,r;for(;t.pos<s;){let[e,n]=t.tag();switch(e){case 1:a=t.string();break;case 2:r=ae.internalBinaryRead(t,t.uint32(),i);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[a??""]=r??ae.create()}internalBinaryWrite(e,t,i){for(let n of globalThis.Object.keys(e.fields))t.tag(1,b.LengthDelimited).fork().tag(1,b.LengthDelimited).string(n),t.tag(2,b.LengthDelimited).fork(),ae.internalBinaryWrite(e.fields[n],t,i),t.join().join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let s9=new s8;class s7 extends tv{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",w]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>s9},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>ai}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let i=e.kind.numberValue;if("number"==typeof i&&!Number.isFinite(i))throw new globalThis.Error;return i;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find(e=>6===e.no);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let s=this.fields.find(e=>5===e.no);if(s?.kind!=="message")throw new globalThis.Error;return s.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,i){switch(i||(i=this.create()),typeof e){case"number":i.kind={oneofKind:"numberValue",numberValue:e};break;case"string":i.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":i.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?i.kind={oneofKind:"nullValue",nullValue:w.NULL_VALUE}:globalThis.Array.isArray(e)?i.kind={oneofKind:"listValue",listValue:ai.fromJson(e)}:i.kind={oneofKind:"structValue",structValue:s9.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eW(e))}return i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.kind={oneofKind:void 0},void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:s.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:s.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:s.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:s.kind={oneofKind:"structValue",structValue:s9.internalBinaryRead(e,e.uint32(),i,s.kind.structValue)};break;case 6:s.kind={oneofKind:"listValue",listValue:ai.internalBinaryRead(e,e.uint32(),i,s.kind.listValue)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){"nullValue"===e.kind.oneofKind&&t.tag(1,b.Varint).int32(e.kind.nullValue),"numberValue"===e.kind.oneofKind&&t.tag(2,b.Bit64).double(e.kind.numberValue),"stringValue"===e.kind.oneofKind&&t.tag(3,b.LengthDelimited).string(e.kind.stringValue),"boolValue"===e.kind.oneofKind&&t.tag(4,b.Varint).bool(e.kind.boolValue),"structValue"===e.kind.oneofKind&&s9.internalBinaryWrite(e.kind.structValue,t.tag(5,b.LengthDelimited).fork(),i).join(),"listValue"===e.kind.oneofKind&&ai.internalBinaryWrite(e.kind.listValue,t.tag(6,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ae=new s7;class at extends tv{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>ae}])}internalJsonWrite(e,t){return e.values.map(e=>ae.toJson(e))}internalJsonRead(e,t,i){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+eW(e));i||(i=this.create());let n=e.map(e=>ae.fromJson(e));return i.values.push(...n),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.values=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.values.push(ae.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.values.length;n++)ae.internalBinaryWrite(e.values[n],t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ai=new at;class an extends tv{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){let e=this.create(),t=Date.now();return e.seconds=e4.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*e4.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){let t=this.create(),i=e.getTime();return t.seconds=e4.from(Math.floor(i/1e3)).toString(),t.nanos=i%1e3*1e6,t}internalJsonWrite(e,t){let i=1e3*e4.from(e.seconds).toNumber();if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let n="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);n="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(i).toISOString().replace(".000Z",n)}internalJsonRead(e,t,i){if("string"!=typeof e)throw Error("Unable to parse Timestamp from JSON "+eW(e)+".");let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw Error("Unable to parse Timestamp from JSON. Invalid format.");let s=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(s))throw Error("Unable to parse Timestamp from JSON. Invalid value.");if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return i||(i=this.create()),i.seconds=e4.from(s/1e3).toString(),i.nanos=0,n[7]&&(i.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),i}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.seconds="0",t.nanos=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.seconds=e.int64().toString();break;case 2:s.nanos=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){"0"!==e.seconds&&t.tag(1,b.Varint).int64(e.seconds),0!==e.nanos&&t.tag(2,b.Varint).int32(e.nanos);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let as=new an;(function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(_||(_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(k||(k={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(S||(S={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(E||(E={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(C||(C={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY"}(T||(T={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(R||(R={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(O||(O={}));class aa extends tv{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>ad},{no:2,name:"started_at",kind:"message",T:()=>as},{no:3,name:"participant_count",kind:"message",T:()=>ac},{no:4,name:"pins",kind:"message",repeat:1,T:()=>au}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.participants=[],t.pins=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.participants.push(ad.internalBinaryRead(e,e.uint32(),i));break;case 2:s.startedAt=as.internalBinaryRead(e,e.uint32(),i,s.startedAt);break;case 3:s.participantCount=ac.internalBinaryRead(e,e.uint32(),i,s.participantCount);break;case 4:s.pins.push(au.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.participants.length;n++)ad.internalBinaryWrite(e.participants[n],t.tag(1,b.LengthDelimited).fork(),i).join();e.startedAt&&as.internalBinaryWrite(e.startedAt,t.tag(2,b.LengthDelimited).fork(),i).join(),e.participantCount&&ac.internalBinaryWrite(e.participantCount,t.tag(3,b.LengthDelimited).fork(),i).join();for(let n=0;n<e.pins.length;n++)au.internalBinaryWrite(e.pins[n],t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ar=new aa;class ao extends tv{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.total=0,t.anonymous=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.total=e.uint32();break;case 2:s.anonymous=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.total&&t.tag(1,b.Varint).uint32(e.total),0!==e.anonymous&&t.tag(2,b.Varint).uint32(e.anonymous);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ac=new ao;class al extends tv{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let au=new al;class ap extends tv{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",E,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>as},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",k,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>s9},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.publishedTracks=[],t.trackLookupPrefix="",t.connectionQuality=0,t.isSpeaking=!1,t.isDominantSpeaker=!1,t.audioLevel=0,t.name="",t.image="",t.roles=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:if(n===b.LengthDelimited)for(let t=e.int32()+e.pos;e.pos<t;)s.publishedTracks.push(e.int32());else s.publishedTracks.push(e.int32());break;case 4:s.joinedAt=as.internalBinaryRead(e,e.uint32(),i,s.joinedAt);break;case 5:s.trackLookupPrefix=e.string();break;case 6:s.connectionQuality=e.int32();break;case 7:s.isSpeaking=e.bool();break;case 8:s.isDominantSpeaker=e.bool();break;case 9:s.audioLevel=e.float();break;case 10:s.name=e.string();break;case 11:s.image=e.string();break;case 12:s.custom=s9.internalBinaryRead(e,e.uint32(),i,s.custom);break;case 13:s.roles.push(e.string());break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){if(""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),e.publishedTracks.length){t.tag(3,b.LengthDelimited).fork();for(let i=0;i<e.publishedTracks.length;i++)t.int32(e.publishedTracks[i]);t.join()}e.joinedAt&&as.internalBinaryWrite(e.joinedAt,t.tag(4,b.LengthDelimited).fork(),i).join(),""!==e.trackLookupPrefix&&t.tag(5,b.LengthDelimited).string(e.trackLookupPrefix),0!==e.connectionQuality&&t.tag(6,b.Varint).int32(e.connectionQuality),!1!==e.isSpeaking&&t.tag(7,b.Varint).bool(e.isSpeaking),!1!==e.isDominantSpeaker&&t.tag(8,b.Varint).bool(e.isDominantSpeaker),0!==e.audioLevel&&t.tag(9,b.Bit32).float(e.audioLevel),""!==e.name&&t.tag(10,b.LengthDelimited).string(e.name),""!==e.image&&t.tag(11,b.LengthDelimited).string(e.image),e.custom&&s9.internalBinaryWrite(e.custom,t.tag(12,b.LengthDelimited).fork(),i).join();for(let i=0;i<e.roles.length;i++)t.tag(13,b.LengthDelimited).string(e.roles[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ad=new ap;class ah extends tv{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",S,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.videoQuality=0,t.userId="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.videoQuality=e.int32();break;case 2:s.userId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.videoQuality&&t.tag(1,b.Varint).int32(e.videoQuality),""!==e.userId&&t.tag(2,b.LengthDelimited).string(e.userId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let am=new ah;class af extends tv{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.width=0,t.height=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.width=e.uint32();break;case 2:s.height=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.width&&t.tag(1,b.Varint).uint32(e.width),0!==e.height&&t.tag(2,b.Varint).uint32(e.height);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ag=new af;class av extends tv{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>ag},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",S,"VIDEO_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.rid="",t.bitrate=0,t.fps=0,t.quality=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.rid=e.string();break;case 2:s.videoDimension=ag.internalBinaryRead(e,e.uint32(),i,s.videoDimension);break;case 4:s.bitrate=e.uint32();break;case 5:s.fps=e.uint32();break;case 6:s.quality=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.rid&&t.tag(1,b.LengthDelimited).string(e.rid),e.videoDimension&&ag.internalBinaryWrite(e.videoDimension,t.tag(2,b.LengthDelimited).fork(),i).join(),0!==e.bitrate&&t.tag(4,b.Varint).uint32(e.bitrate),0!==e.fps&&t.tag(5,b.Varint).uint32(e.fps),0!==e.quality&&t.tag(6,b.Varint).int32(e.quality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ab=new av;class ax extends tv{constructor(){super("stream.video.sfu.models.Codec",[{no:1,name:"payload_type",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"fmtp_line",kind:"scalar",T:9},{no:4,name:"clock_rate",kind:"scalar",T:13},{no:5,name:"encoding_parameters",kind:"scalar",T:9},{no:6,name:"feedbacks",kind:"scalar",repeat:2,T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.payloadType=0,t.name="",t.fmtpLine="",t.clockRate=0,t.encodingParameters="",t.feedbacks=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.payloadType=e.uint32();break;case 2:s.name=e.string();break;case 3:s.fmtpLine=e.string();break;case 4:s.clockRate=e.uint32();break;case 5:s.encodingParameters=e.string();break;case 6:s.feedbacks.push(e.string());break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.payloadType&&t.tag(1,b.Varint).uint32(e.payloadType),""!==e.name&&t.tag(2,b.LengthDelimited).string(e.name),""!==e.fmtpLine&&t.tag(3,b.LengthDelimited).string(e.fmtpLine),0!==e.clockRate&&t.tag(4,b.Varint).uint32(e.clockRate),""!==e.encodingParameters&&t.tag(5,b.LengthDelimited).string(e.encodingParameters);for(let i=0;i<e.feedbacks.length;i++)t.tag(6,b.LengthDelimited).string(e.feedbacks[i]);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ay=new ax,aw=new class extends tv{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",_,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",t.sessionId="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.peerType=e.int32();break;case 2:s.iceCandidate=e.string();break;case 3:s.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,b.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,b.LengthDelimited).string(e.iceCandidate),""!==e.sessionId&&t.tag(3,b.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}};class a_ extends tv{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",E,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>ab},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackId="",t.trackType=0,t.layers=[],t.mid="",t.dtx=!1,t.stereo=!1,t.red=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.trackId=e.string();break;case 2:s.trackType=e.int32();break;case 5:s.layers.push(ab.internalBinaryRead(e,e.uint32(),i));break;case 6:s.mid=e.string();break;case 7:s.dtx=e.bool();break;case 8:s.stereo=e.bool();break;case 9:s.red=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.trackId&&t.tag(1,b.LengthDelimited).string(e.trackId),0!==e.trackType&&t.tag(2,b.Varint).int32(e.trackType);for(let n=0;n<e.layers.length;n++)ab.internalBinaryWrite(e.layers[n],t.tag(5,b.LengthDelimited).fork(),i).join();""!==e.mid&&t.tag(6,b.LengthDelimited).string(e.mid),!1!==e.dtx&&t.tag(7,b.Varint).bool(e.dtx),!1!==e.stereo&&t.tag(8,b.Varint).bool(e.stereo),!1!==e.red&&t.tag(9,b.Varint).bool(e.red);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ak=new a_;class aS extends tv{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>s9},{no:6,name:"created_at",kind:"message",T:()=>as},{no:7,name:"updated_at",kind:"message",T:()=>as}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type="",t.id="",t.createdByUserId="",t.hostUserId="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.type=e.string();break;case 2:s.id=e.string();break;case 3:s.createdByUserId=e.string();break;case 4:s.hostUserId=e.string();break;case 5:s.custom=s9.internalBinaryRead(e,e.uint32(),i,s.custom);break;case 6:s.createdAt=as.internalBinaryRead(e,e.uint32(),i,s.createdAt);break;case 7:s.updatedAt=as.internalBinaryRead(e,e.uint32(),i,s.updatedAt);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.type&&t.tag(1,b.LengthDelimited).string(e.type),""!==e.id&&t.tag(2,b.LengthDelimited).string(e.id),""!==e.createdByUserId&&t.tag(3,b.LengthDelimited).string(e.createdByUserId),""!==e.hostUserId&&t.tag(4,b.LengthDelimited).string(e.hostUserId),e.custom&&s9.internalBinaryWrite(e.custom,t.tag(5,b.LengthDelimited).fork(),i).join(),e.createdAt&&as.internalBinaryWrite(e.createdAt,t.tag(6,b.LengthDelimited).fork(),i).join(),e.updatedAt&&as.internalBinaryWrite(e.updatedAt,t.tag(7,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aE=new aS,aC=new class extends tv{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",C,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.code=0,t.message="",t.shouldRetry=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.code=e.int32();break;case 2:s.message=e.string();break;case 3:s.shouldRetry=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.code&&t.tag(1,b.Varint).int32(e.code),""!==e.message&&t.tag(2,b.LengthDelimited).string(e.message),!1!==e.shouldRetry&&t.tag(3,b.Varint).bool(e.shouldRetry);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}};class aT extends tv{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>aI},{no:2,name:"os",kind:"message",T:()=>aj},{no:3,name:"browser",kind:"message",T:()=>aL},{no:4,name:"device",kind:"message",T:()=>aD}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.sdk=aI.internalBinaryRead(e,e.uint32(),i,s.sdk);break;case 2:s.os=aj.internalBinaryRead(e,e.uint32(),i,s.os);break;case 3:s.browser=aL.internalBinaryRead(e,e.uint32(),i,s.browser);break;case 4:s.device=aD.internalBinaryRead(e,e.uint32(),i,s.device);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.sdk&&aI.internalBinaryWrite(e.sdk,t.tag(1,b.LengthDelimited).fork(),i).join(),e.os&&aj.internalBinaryWrite(e.os,t.tag(2,b.LengthDelimited).fork(),i).join(),e.browser&&aL.internalBinaryWrite(e.browser,t.tag(3,b.LengthDelimited).fork(),i).join(),e.device&&aD.internalBinaryWrite(e.device,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aR=new aT;class aO extends tv{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",T,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.type=0,t.major="",t.minor="",t.patch="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.type=e.int32();break;case 2:s.major=e.string();break;case 3:s.minor=e.string();break;case 4:s.patch=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.type&&t.tag(1,b.Varint).int32(e.type),""!==e.major&&t.tag(2,b.LengthDelimited).string(e.major),""!==e.minor&&t.tag(3,b.LengthDelimited).string(e.minor),""!==e.patch&&t.tag(4,b.LengthDelimited).string(e.patch);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aI=new aO;class aP extends tv{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",t.architecture="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.version=e.string();break;case 3:s.architecture=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,b.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,b.LengthDelimited).string(e.version),""!==e.architecture&&t.tag(3,b.LengthDelimited).string(e.architecture);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aj=new aP;class aN extends tv{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.version=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,b.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,b.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aL=new aN;class aA extends tv{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.version="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.version=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,b.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,b.LengthDelimited).string(e.version);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aD=new aA;class aU extends tv{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.canPublishAudio=!1,t.canPublishVideo=!1,t.canScreenshare=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.canPublishAudio=e.bool();break;case 2:s.canPublishVideo=e.bool();break;case 3:s.canScreenshare=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){!1!==e.canPublishAudio&&t.tag(1,b.Varint).bool(e.canPublishAudio),!1!==e.canPublishVideo&&t.tag(2,b.Varint).bool(e.canPublishVideo),!1!==e.canScreenshare&&t.tag(3,b.Varint).bool(e.canScreenshare);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aM=new aU;var aF=Object.freeze({__proto__:null,Browser:aL,Call:aE,CallGrants:aM,CallState:ar,ClientDetails:aR,Codec:ay,get ConnectionQuality(){return k},Device:aD,Error:aC,get ErrorCode(){return C},get GoAwayReason(){return O},ICETrickle:aw,OS:aj,Participant:ad,ParticipantCount:ac,get PeerType(){return _},Pin:au,Sdk:aI,get SdkType(){return T},StreamQuality:am,TrackInfo:ak,get TrackType(){return E},get TrackUnpublishReason(){return R},VideoDimension:ag,VideoLayer:ab,get VideoQuality(){return S}});class aB extends tv{constructor(){super("stream.video.sfu.signal.SendStatsRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"subscriber_stats",kind:"scalar",T:9},{no:3,name:"publisher_stats",kind:"scalar",T:9},{no:4,name:"webrtc_version",kind:"scalar",T:9},{no:5,name:"sdk",kind:"scalar",T:9},{no:6,name:"sdk_version",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.subscriberStats="",t.publisherStats="",t.webrtcVersion="",t.sdk="",t.sdkVersion="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 2:s.subscriberStats=e.string();break;case 3:s.publisherStats=e.string();break;case 4:s.webrtcVersion=e.string();break;case 5:s.sdk=e.string();break;case 6:s.sdkVersion=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,b.LengthDelimited).string(e.sessionId),""!==e.subscriberStats&&t.tag(2,b.LengthDelimited).string(e.subscriberStats),""!==e.publisherStats&&t.tag(3,b.LengthDelimited).string(e.publisherStats),""!==e.webrtcVersion&&t.tag(4,b.LengthDelimited).string(e.webrtcVersion),""!==e.sdk&&t.tag(5,b.LengthDelimited).string(e.sdk),""!==e.sdkVersion&&t.tag(6,b.LengthDelimited).string(e.sdkVersion);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let a$=new aB;class az extends tv{constructor(){super("stream.video.sfu.signal.SendStatsResponse",[{no:1,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aV=new az;class aW extends tv{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",_,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.peerType=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 2:s.peerType=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,b.LengthDelimited).string(e.sessionId),0!==e.peerType&&t.tag(2,b.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aq=new aW;class aH extends tv{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aG=new aH;class aK extends tv{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>aQ}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.muteStates=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.sessionId=e.string();break;case 3:s.muteStates.push(aQ.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,b.LengthDelimited).string(e.sessionId);for(let n=0;n<e.muteStates.length;n++)aQ.internalBinaryWrite(e.muteStates[n],t.tag(3,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aJ=new aK;class aY extends tv{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aX=new aY;class aZ extends tv{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",E,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.trackType=0,t.muted=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.trackType=e.int32();break;case 2:s.muted=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.trackType&&t.tag(1,b.Varint).int32(e.trackType),!1!==e.muted&&t.tag(2,b.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let aQ=new aZ;class a0 extends tv{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.muted=e.bool();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(1,b.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}new a0;class a1 extends tv{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.muted=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(2===t)s.muted=e.bool();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(2,b.Varint).bool(e.muted);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}new a1;class a2 extends tv{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>a8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sessionId="",t.tracks=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 2:s.sessionId=e.string();break;case 3:s.tracks.push(a8.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)a8.internalBinaryWrite(e.tracks[n],t.tag(3,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let a3=new a2;class a4 extends tv{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let a6=new a4;class a5 extends tv{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",E,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>ag}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.trackType=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.trackType=e.int32();break;case 4:s.dimension=ag.internalBinaryRead(e,e.uint32(),i,s.dimension);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),0!==e.trackType&&t.tag(3,b.Varint).int32(e.trackType),e.dimension&&ag.internalBinaryWrite(e.dimension,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let a8=new a5;class a9 extends tv{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",_,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.sdp="",t.sessionId="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.peerType=e.int32();break;case 2:s.sdp=e.string();break;case 3:s.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,b.Varint).int32(e.peerType),""!==e.sdp&&t.tag(2,b.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(3,b.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let a7=new a9;class re extends tv{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rt=new re;class ri extends tv{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rn=new ri;class rs extends tv{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>ak}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.tracks=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.sdp=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.tracks.push(ak.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,b.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId);for(let n=0;n<e.tracks.length;n++)ak.internalBinaryWrite(e.tracks[n],t.tag(3,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ra=new rs;class rr extends tv{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",t.sessionId="",t.iceRestart=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.sdp=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.iceRestart=e.bool();break;case 4:s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,b.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),!1!==e.iceRestart&&t.tag(3,b.Varint).bool(e.iceRestart),e.error&&aC.internalBinaryWrite(e.error,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ro=new tb("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:ra,O:new rr},{name:"SendAnswer",options:{},I:a7,O:rt},{name:"IceTrickle",options:{},I:aw,O:rn},{name:"UpdateSubscriptions",options:{},I:a3,O:a6},{name:"UpdateMuteStates",options:{},I:aJ,O:aX},{name:"IceRestart",options:{},I:aq,O:aG},{name:"SendStats",options:{},I:a$,O:aV}]);!function(e){e[e.HIGH_UNSPECIFIED=0]="HIGH_UNSPECIFIED",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.VERY_LOW=3]="VERY_LOW"}(I||(I={}));class rc extends tv{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>rM},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>rB},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>rz},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>rY},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>aw},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>r9},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>rL},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>rD},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>rH},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>rj},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>r_},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>rS},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>rC},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>rh},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>oe},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>oi},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>rg},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>rp}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.eventPayload={oneofKind:void 0},void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.eventPayload={oneofKind:"subscriberOffer",subscriberOffer:rM.internalBinaryRead(e,e.uint32(),i,s.eventPayload.subscriberOffer)};break;case 2:s.eventPayload={oneofKind:"publisherAnswer",publisherAnswer:rB.internalBinaryRead(e,e.uint32(),i,s.eventPayload.publisherAnswer)};break;case 3:s.eventPayload={oneofKind:"connectionQualityChanged",connectionQualityChanged:rz.internalBinaryRead(e,e.uint32(),i,s.eventPayload.connectionQualityChanged)};break;case 4:s.eventPayload={oneofKind:"audioLevelChanged",audioLevelChanged:rY.internalBinaryRead(e,e.uint32(),i,s.eventPayload.audioLevelChanged)};break;case 5:s.eventPayload={oneofKind:"iceTrickle",iceTrickle:aw.internalBinaryRead(e,e.uint32(),i,s.eventPayload.iceTrickle)};break;case 6:s.eventPayload={oneofKind:"changePublishQuality",changePublishQuality:r9.internalBinaryRead(e,e.uint32(),i,s.eventPayload.changePublishQuality)};break;case 10:s.eventPayload={oneofKind:"participantJoined",participantJoined:rL.internalBinaryRead(e,e.uint32(),i,s.eventPayload.participantJoined)};break;case 11:s.eventPayload={oneofKind:"participantLeft",participantLeft:rD.internalBinaryRead(e,e.uint32(),i,s.eventPayload.participantLeft)};break;case 12:s.eventPayload={oneofKind:"dominantSpeakerChanged",dominantSpeakerChanged:rH.internalBinaryRead(e,e.uint32(),i,s.eventPayload.dominantSpeakerChanged)};break;case 13:s.eventPayload={oneofKind:"joinResponse",joinResponse:rj.internalBinaryRead(e,e.uint32(),i,s.eventPayload.joinResponse)};break;case 14:s.eventPayload={oneofKind:"healthCheckResponse",healthCheckResponse:r_.internalBinaryRead(e,e.uint32(),i,s.eventPayload.healthCheckResponse)};break;case 16:s.eventPayload={oneofKind:"trackPublished",trackPublished:rS.internalBinaryRead(e,e.uint32(),i,s.eventPayload.trackPublished)};break;case 17:s.eventPayload={oneofKind:"trackUnpublished",trackUnpublished:rC.internalBinaryRead(e,e.uint32(),i,s.eventPayload.trackUnpublished)};break;case 18:s.eventPayload={oneofKind:"error",error:rh.internalBinaryRead(e,e.uint32(),i,s.eventPayload.error)};break;case 19:s.eventPayload={oneofKind:"callGrantsUpdated",callGrantsUpdated:oe.internalBinaryRead(e,e.uint32(),i,s.eventPayload.callGrantsUpdated)};break;case 20:s.eventPayload={oneofKind:"goAway",goAway:oi.internalBinaryRead(e,e.uint32(),i,s.eventPayload.goAway)};break;case 21:s.eventPayload={oneofKind:"iceRestart",iceRestart:rg.internalBinaryRead(e,e.uint32(),i,s.eventPayload.iceRestart)};break;case 22:s.eventPayload={oneofKind:"pinsUpdated",pinsUpdated:rp.internalBinaryRead(e,e.uint32(),i,s.eventPayload.pinsUpdated)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){"subscriberOffer"===e.eventPayload.oneofKind&&rM.internalBinaryWrite(e.eventPayload.subscriberOffer,t.tag(1,b.LengthDelimited).fork(),i).join(),"publisherAnswer"===e.eventPayload.oneofKind&&rB.internalBinaryWrite(e.eventPayload.publisherAnswer,t.tag(2,b.LengthDelimited).fork(),i).join(),"connectionQualityChanged"===e.eventPayload.oneofKind&&rz.internalBinaryWrite(e.eventPayload.connectionQualityChanged,t.tag(3,b.LengthDelimited).fork(),i).join(),"audioLevelChanged"===e.eventPayload.oneofKind&&rY.internalBinaryWrite(e.eventPayload.audioLevelChanged,t.tag(4,b.LengthDelimited).fork(),i).join(),"iceTrickle"===e.eventPayload.oneofKind&&aw.internalBinaryWrite(e.eventPayload.iceTrickle,t.tag(5,b.LengthDelimited).fork(),i).join(),"changePublishQuality"===e.eventPayload.oneofKind&&r9.internalBinaryWrite(e.eventPayload.changePublishQuality,t.tag(6,b.LengthDelimited).fork(),i).join(),"participantJoined"===e.eventPayload.oneofKind&&rL.internalBinaryWrite(e.eventPayload.participantJoined,t.tag(10,b.LengthDelimited).fork(),i).join(),"participantLeft"===e.eventPayload.oneofKind&&rD.internalBinaryWrite(e.eventPayload.participantLeft,t.tag(11,b.LengthDelimited).fork(),i).join(),"dominantSpeakerChanged"===e.eventPayload.oneofKind&&rH.internalBinaryWrite(e.eventPayload.dominantSpeakerChanged,t.tag(12,b.LengthDelimited).fork(),i).join(),"joinResponse"===e.eventPayload.oneofKind&&rj.internalBinaryWrite(e.eventPayload.joinResponse,t.tag(13,b.LengthDelimited).fork(),i).join(),"healthCheckResponse"===e.eventPayload.oneofKind&&r_.internalBinaryWrite(e.eventPayload.healthCheckResponse,t.tag(14,b.LengthDelimited).fork(),i).join(),"trackPublished"===e.eventPayload.oneofKind&&rS.internalBinaryWrite(e.eventPayload.trackPublished,t.tag(16,b.LengthDelimited).fork(),i).join(),"trackUnpublished"===e.eventPayload.oneofKind&&rC.internalBinaryWrite(e.eventPayload.trackUnpublished,t.tag(17,b.LengthDelimited).fork(),i).join(),"error"===e.eventPayload.oneofKind&&rh.internalBinaryWrite(e.eventPayload.error,t.tag(18,b.LengthDelimited).fork(),i).join(),"callGrantsUpdated"===e.eventPayload.oneofKind&&oe.internalBinaryWrite(e.eventPayload.callGrantsUpdated,t.tag(19,b.LengthDelimited).fork(),i).join(),"goAway"===e.eventPayload.oneofKind&&oi.internalBinaryWrite(e.eventPayload.goAway,t.tag(20,b.LengthDelimited).fork(),i).join(),"iceRestart"===e.eventPayload.oneofKind&&rg.internalBinaryWrite(e.eventPayload.iceRestart,t.tag(21,b.LengthDelimited).fork(),i).join(),"pinsUpdated"===e.eventPayload.oneofKind&&rp.internalBinaryWrite(e.eventPayload.pinsUpdated,t.tag(22,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rl=new rc;class ru extends tv{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>au}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.pins=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.pins.push(au.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.pins.length;n++)au.internalBinaryWrite(e.pins[n],t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rp=new ru;class rd extends tv{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>aC}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(4===t)s.error=aC.internalBinaryRead(e,e.uint32(),i,s.error);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.error&&aC.internalBinaryWrite(e.error,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rh=new rd;class rm extends tv{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",_,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,t.iceCandidate="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.peerType=e.int32();break;case 2:s.iceCandidate=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,b.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,b.LengthDelimited).string(e.iceCandidate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}new rm;class rf extends tv{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",_,"PEER_TYPE_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.peerType=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.peerType=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,b.Varint).int32(e.peerType);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rg=new rf;class rv extends tv{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>rR},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>ry}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.requestPayload={oneofKind:void 0},void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.requestPayload={oneofKind:"joinRequest",joinRequest:rR.internalBinaryRead(e,e.uint32(),i,s.requestPayload.joinRequest)};break;case 2:s.requestPayload={oneofKind:"healthCheckRequest",healthCheckRequest:ry.internalBinaryRead(e,e.uint32(),i,s.requestPayload.healthCheckRequest)};break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){"joinRequest"===e.requestPayload.oneofKind&&rR.internalBinaryWrite(e.requestPayload.joinRequest,t.tag(1,b.LengthDelimited).fork(),i).join(),"healthCheckRequest"===e.requestPayload.oneofKind&&ry.internalBinaryWrite(e.requestPayload.healthCheckRequest,t.tag(2,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rb=new rv;class rx extends tv{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){return n??this.create()}internalBinaryWrite(e,t,i){let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let ry=new rx;class rw extends tv{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>ac}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.participantCount=ac.internalBinaryRead(e,e.uint32(),i,s.participantCount);else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.participantCount&&ac.internalBinaryWrite(e.participantCount,t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let r_=new rw;class rk extends tv{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",E,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>ad}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.type=e.int32();break;case 4:s.participant=ad.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,b.Varint).int32(e.type),e.participant&&ad.internalBinaryWrite(e.participant,t.tag(4,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rS=new rk;class rE extends tv{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",E,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",R,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>ad}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.type=0,t.cause=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.type=e.int32();break;case 4:s.cause=e.int32();break;case 5:s.participant=ad.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,b.Varint).int32(e.type),0!==e.cause&&t.tag(4,b.Varint).int32(e.cause),e.participant&&ad.internalBinaryWrite(e.participant,t.tag(5,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rC=new rE;class rT extends tv{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>aR},{no:5,name:"migration",kind:"message",T:()=>rI},{no:6,name:"fast_reconnect",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.token="",t.sessionId="",t.subscriberSdp="",t.fastReconnect=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.token=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.subscriberSdp=e.string();break;case 4:s.clientDetails=aR.internalBinaryRead(e,e.uint32(),i,s.clientDetails);break;case 5:s.migration=rI.internalBinaryRead(e,e.uint32(),i,s.migration);break;case 6:s.fastReconnect=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.token&&t.tag(1,b.LengthDelimited).string(e.token),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),""!==e.subscriberSdp&&t.tag(3,b.LengthDelimited).string(e.subscriberSdp),e.clientDetails&&aR.internalBinaryWrite(e.clientDetails,t.tag(4,b.LengthDelimited).fork(),i).join(),e.migration&&rI.internalBinaryWrite(e.migration,t.tag(5,b.LengthDelimited).fork(),i).join(),!1!==e.fastReconnect&&t.tag(6,b.Varint).bool(e.fastReconnect);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rR=new rT;class rO extends tv{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>ak},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>a8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.fromSfuId="",t.announcedTracks=[],t.subscriptions=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.fromSfuId=e.string();break;case 2:s.announcedTracks.push(ak.internalBinaryRead(e,e.uint32(),i));break;case 3:s.subscriptions.push(a8.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.fromSfuId&&t.tag(1,b.LengthDelimited).string(e.fromSfuId);for(let n=0;n<e.announcedTracks.length;n++)ak.internalBinaryWrite(e.announcedTracks[n],t.tag(2,b.LengthDelimited).fork(),i).join();for(let n=0;n<e.subscriptions.length;n++)a8.internalBinaryWrite(e.subscriptions[n],t.tag(3,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rI=new rO;class rP extends tv{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>ar},{no:2,name:"reconnected",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reconnected=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.callState=ar.internalBinaryRead(e,e.uint32(),i,s.callState);break;case 2:s.reconnected=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.callState&&ar.internalBinaryWrite(e.callState,t.tag(1,b.LengthDelimited).fork(),i).join(),!1!==e.reconnected&&t.tag(2,b.Varint).bool(e.reconnected);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rj=new rP;class rN extends tv{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>ad}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.callCid=e.string();break;case 2:s.participant=ad.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,b.LengthDelimited).string(e.callCid),e.participant&&ad.internalBinaryWrite(e.participant,t.tag(2,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rL=new rN;class rA extends tv{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>ad}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.callCid="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.callCid=e.string();break;case 2:s.participant=ad.internalBinaryRead(e,e.uint32(),i,s.participant);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,b.LengthDelimited).string(e.callCid),e.participant&&ad.internalBinaryWrite(e.participant,t.tag(2,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rD=new rA;class rU extends tv{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.iceRestart=!1,t.sdp="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.iceRestart=e.bool();break;case 2:s.sdp=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){!1!==e.iceRestart&&t.tag(1,b.Varint).bool(e.iceRestart),""!==e.sdp&&t.tag(2,b.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rM=new rU;class rF extends tv{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.sdp="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.sdp=e.string();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,b.LengthDelimited).string(e.sdp);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rB=new rF;class r$ extends tv{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>rW}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.connectionQualityUpdates=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.connectionQualityUpdates.push(rW.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.connectionQualityUpdates.length;n++)rW.internalBinaryWrite(e.connectionQualityUpdates[n],t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rz=new r$;class rV extends tv{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",k,"CONNECTION_QUALITY_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.connectionQuality=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.connectionQuality=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),0!==e.connectionQuality&&t.tag(3,b.Varint).int32(e.connectionQuality);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rW=new rV;class rq extends tv{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rH=new rq;class rG extends tv{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.userId="",t.sessionId="",t.level=0,t.isSpeaking=!1,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.userId=e.string();break;case 2:s.sessionId=e.string();break;case 3:s.level=e.float();break;case 4:s.isSpeaking=e.bool();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,b.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,b.LengthDelimited).string(e.sessionId),0!==e.level&&t.tag(3,b.Bit32).float(e.level),!1!==e.isSpeaking&&t.tag(4,b.Varint).bool(e.isSpeaking);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rK=new rG;class rJ extends tv{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>rK}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioLevels=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.audioLevels.push(rK.internalBinaryRead(e,e.uint32(),i));else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioLevels.length;n++)rK.internalBinaryWrite(e.audioLevels[n],t.tag(1,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rY=new rJ;class rX extends tv{constructor(){super("stream.video.sfu.event.AudioMediaRequest",[{no:1,name:"channel_count",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.channelCount=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.channelCount=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.channelCount&&t.tag(1,b.Varint).int32(e.channelCount);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let rZ=new rX;class rQ extends tv{constructor(){super("stream.video.sfu.event.AudioSender",[{no:1,name:"media_request",kind:"message",T:()=>rZ},{no:2,name:"codec",kind:"message",T:()=>ay}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.mediaRequest=rZ.internalBinaryRead(e,e.uint32(),i,s.mediaRequest);break;case 2:s.codec=ay.internalBinaryRead(e,e.uint32(),i,s.codec);break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.mediaRequest&&rZ.internalBinaryWrite(e.mediaRequest,t.tag(1,b.LengthDelimited).fork(),i).join(),e.codec&&ay.internalBinaryWrite(e.codec,t.tag(2,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let r0=new rQ;class r1 extends tv{constructor(){super("stream.video.sfu.event.VideoMediaRequest",[{no:1,name:"ideal_height",kind:"scalar",T:5},{no:2,name:"ideal_width",kind:"scalar",T:5},{no:3,name:"ideal_frame_rate",kind:"scalar",T:5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.idealHeight=0,t.idealWidth=0,t.idealFrameRate=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.idealHeight=e.int32();break;case 2:s.idealWidth=e.int32();break;case 3:s.idealFrameRate=e.int32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.idealHeight&&t.tag(1,b.Varint).int32(e.idealHeight),0!==e.idealWidth&&t.tag(2,b.Varint).int32(e.idealWidth),0!==e.idealFrameRate&&t.tag(3,b.Varint).int32(e.idealFrameRate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let r2=new r1;class r3 extends tv{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:5,name:"priority",kind:"enum",T:()=>["stream.video.sfu.event.VideoLayerSetting.Priority",I,"PRIORITY_"]},{no:6,name:"codec",kind:"message",T:()=>ay},{no:7,name:"max_framerate",kind:"scalar",T:13}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.name="",t.active=!1,t.maxBitrate=0,t.scaleResolutionDownBy=0,t.priority=0,t.maxFramerate=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.name=e.string();break;case 2:s.active=e.bool();break;case 3:s.maxBitrate=e.int32();break;case 4:s.scaleResolutionDownBy=e.float();break;case 5:s.priority=e.int32();break;case 6:s.codec=ay.internalBinaryRead(e,e.uint32(),i,s.codec);break;case 7:s.maxFramerate=e.uint32();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,b.LengthDelimited).string(e.name),!1!==e.active&&t.tag(2,b.Varint).bool(e.active),0!==e.maxBitrate&&t.tag(3,b.Varint).int32(e.maxBitrate),0!==e.scaleResolutionDownBy&&t.tag(4,b.Bit32).float(e.scaleResolutionDownBy),0!==e.priority&&t.tag(5,b.Varint).int32(e.priority),e.codec&&ay.internalBinaryWrite(e.codec,t.tag(6,b.LengthDelimited).fork(),i).join(),0!==e.maxFramerate&&t.tag(7,b.Varint).uint32(e.maxFramerate);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let r4=new r3;class r6 extends tv{constructor(){super("stream.video.sfu.event.VideoSender",[{no:1,name:"media_request",kind:"message",T:()=>r2},{no:2,name:"codec",kind:"message",T:()=>ay},{no:3,name:"layers",kind:"message",repeat:1,T:()=>r4}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.layers=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.mediaRequest=r2.internalBinaryRead(e,e.uint32(),i,s.mediaRequest);break;case 2:s.codec=ay.internalBinaryRead(e,e.uint32(),i,s.codec);break;case 3:s.layers.push(r4.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.mediaRequest&&r2.internalBinaryWrite(e.mediaRequest,t.tag(1,b.LengthDelimited).fork(),i).join(),e.codec&&ay.internalBinaryWrite(e.codec,t.tag(2,b.LengthDelimited).fork(),i).join();for(let n=0;n<e.layers.length;n++)r4.internalBinaryWrite(e.layers[n],t.tag(3,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let r5=new r6;class r8 extends tv{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>r0},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>r5}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.audioSenders=[],t.videoSenders=[],void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.audioSenders.push(r0.internalBinaryRead(e,e.uint32(),i));break;case 2:s.videoSenders.push(r5.internalBinaryRead(e,e.uint32(),i));break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){for(let n=0;n<e.audioSenders.length;n++)r0.internalBinaryWrite(e.audioSenders[n],t.tag(1,b.LengthDelimited).fork(),i).join();for(let n=0;n<e.videoSenders.length;n++)r5.internalBinaryWrite(e.videoSenders[n],t.tag(2,b.LengthDelimited).fork(),i).join();let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let r9=new r8;class r7 extends tv{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>aM},{no:2,name:"message",kind:"scalar",T:9}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.message="",void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();switch(t){case 1:s.currentGrants=aM.internalBinaryRead(e,e.uint32(),i,s.currentGrants);break;case 2:s.message=e.string();break;default:let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){e.currentGrants&&aM.internalBinaryWrite(e.currentGrants,t.tag(1,b.LengthDelimited).fork(),i).join(),""!==e.message&&t.tag(2,b.LengthDelimited).string(e.message);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let oe=new r7;class ot extends tv{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",O,"GO_AWAY_REASON_"]}])}create(e){let t=globalThis.Object.create(this.messagePrototype);return t.reason=0,void 0!==e&&ta(this,t,e),t}internalBinaryRead(e,t,i,n){let s=n??this.create(),a=e.pos+t;for(;e.pos<a;){let[t,n]=e.tag();if(1===t)s.reason=e.int32();else{let a=i.readUnknownField;if("throw"===a)throw new globalThis.Error(`Unknown field ${t} (wire type ${n}) for ${this.typeName}`);let r=e.skip(n);!1!==a&&(!0===a?v.onRead:a)(this.typeName,s,t,n,r)}}return s}internalBinaryWrite(e,t,i){0!==e.reason&&t.tag(1,b.Varint).int32(e.reason);let n=i.writeUnknownFields;return!1!==n&&(!0==n?v.onWrite:n)(this.typeName,e,t),t}}let oi=new ot;(function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"})(P||(P={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(j||(j={}));class on{constructor(e){this._transport=e,this.typeName=ro.typeName,this.methods=ro.methods,this.options=ro.options}setPublisher(e,t){let i=this.methods[0],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}sendAnswer(e,t){let i=this.methods[1],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}iceTrickle(e,t){let i=this.methods[2],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}updateSubscriptions(e,t){let i=this.methods[3],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}updateMuteStates(e,t){let i=this.methods[4],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}iceRestart(e,t){let i=this.methods[5],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}sendStats(e,t){let i=this.methods[6],n=this._transport.mergeOptions(t);return tx("unary",this._transport,i,n,e)}}let os={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},oa=e=>({interceptUnary:(t,i,n,s)=>(s.meta={...s.meta,...e},t(i,n,s))}),or=e=>new on(new nB({...os,...e})),oo=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",oc=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4}),ol="info",ou=(e,t,...i)=>{let n;switch(e){case"error":n=console.error;break;case"warn":if(oo()){t=`WARN: ${t}`,n=console.info;break}n=console.warn;break;case"info":n=console.info;break;case"trace":n=console.trace;break;default:n=console.log}n(t,...i)},op=(e,t)=>{s=e,t&&od(t)},od=e=>{ol=e},oh=e=>{let t=s||ou,i=(e||[]).join(":");return(e,n,...s)=>{oc[e]>=oc[ol]&&t(e,`[${i}]: ${n}`,...s)}},om=(e,t,i)=>{let n=oh(["codecs"]);if(!("getCapabilities"in RTCRtpSender)){n?.("warn","RTCRtpSender.getCapabilities is not supported");return}let s=RTCRtpSender.getCapabilities(e);if(!s)return;let a=[],r=[],o=[];s.codecs.forEach(s=>{let c=s.mimeType.toLowerCase();if(n?.("debug",`Found supported codec: ${c}`),!i||c!==`${e}/${i.toLowerCase()}`){if(c!==`${e}/${t.toLowerCase()}`){o.push(s);return}if("h264"===c){s.sdpFmtpLine&&s.sdpFmtpLine.includes("profile-level-id=42e01f")?a.push(s):r.push(s);return}a.push(s)}});let c=[...a,...r,...o];return n?.("info","Preffered codecs: ",c),c},of=async e=>{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});let i=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach(e=>{e.stop()}),t.close(),i},og={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0},ov=e=>Object.prototype.hasOwnProperty.call(og,e);class ob{constructor(){this.logger=oh(["Dispatcher"]),this.subscribers={},this.dispatch=e=>{let t=e.eventPayload.oneofKind;if(!t)return;let i=e.eventPayload[t];this.logger("debug",`Dispatching ${t}`,i);let n=this.subscribers[t];if(n)for(let e of n)try{e(i)}catch(e){this.logger("warn","Listener failed with error",e)}},this.on=(e,t)=>{var i;return((i=this.subscribers)[e]??(i[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter(e=>e!==t)},this.offAll=e=>{e?this.subscribers[e]=[]:this.subscribers={}}}}class ox{constructor(){this.subscriberCandidates=new su,this.publisherCandidates=new su,this.logger=oh(["sfu-client"]),this.push=e=>{e.peerType===_.SUBSCRIBER?this.subscriberCandidates.next(e):e.peerType===_.PUBLISHER_UNSPECIFIED?this.publisherCandidates.next(e):this.logger("warn","ICETrickle, Unknown peer type",e)}}}function oy(e){if(e.usernameFragment)return JSON.stringify(e.toJSON());{let t=e.candidate.split(" "),i=t.findIndex(e=>"ufrag"===e)+1,n=t[i];return JSON.stringify({...e,usernameFragment:n})}}let ow=()=>a,o_=()=>r,ok=()=>o,oS=()=>c,oE=()=>{if(oo())return{sdk:ow(),os:o_(),device:ok()};let{browser:e,os:t,device:i,cpu:n}=new s1.UAParser(navigator.userAgent).getResult();return{sdk:ow(),browser:{name:e.name||navigator.userAgent,version:e.version||""},os:{name:t.name||"",version:t.version||"",architecture:n.architecture||""},device:{name:[i.vendor,i.model,i.type].filter(Boolean).join(" "),version:""}}},oC={bitrate:125e4,width:1280,height:720},oT=(e,t=oC)=>{let i=[],n=e.getSettings(),{width:s=0,height:a=0}=n,r=oo()&&o_()?.name.toLowerCase()==="ios",o=oR(t,s,a),c=1;return["f","h","q"].forEach(e=>{i.unshift({active:!0,rid:e,width:Math.round(s/c),height:Math.round(a/c),maxBitrate:Math.round(o/c),scaleResolutionDownBy:c,maxFramerate:{f:30,h:r?30:25,q:r?30:20}[e]}),c*=2}),oO(n,i)},oR=(e,t,i)=>{let{width:n,height:s}=e;return t<n||i<s?Math.round(e.bitrate*(t*i/(n*s))):e.bitrate},oO=(e,t)=>{let i;let n=Math.max(e.width||0,e.height||0);i=n<=320?t.filter(e=>"f"===e.rid):n<=640?t.filter(e=>"h"!==e.rid):t;let s=["q","h","f"];return i.map((e,t)=>({...e,rid:s[t]}))},oI=(e,t)=>{let i=e.getSettings();return[{active:!0,rid:"q",width:i.width||0,height:i.height||0,scaleResolutionDownBy:1,maxBitrate:t?.maxBitrate??3e6,maxFramerate:t?.maxFramerate??30}]},oP=e=>{switch(e){case E.SCREEN_SHARE:return"screenShareStream";case E.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case E.VIDEO:return"videoStream";case E.AUDIO:return"audioStream";case E.UNSPECIFIED:throw Error("Track type is unspecified");default:throw Error(`Unknown track type: ${e}`)}},oj=e=>{switch(e){case"audio":return E.AUDIO;case"video":return E.VIDEO;case"screenshare":return E.SCREEN_SHARE;case"screenshare_audio":return E.SCREEN_SHARE_AUDIO;default:throw Error(`Unknown mute type: ${e}`)}},oN=e=>"function"==typeof e,oL=e=>{let t,i;if(sM([e]).subscribe({next:([e])=>{t=e},error:e=>{i=e}}).unsubscribe(),i)throw i;return t},oA=(e,t)=>{let i=oN(t)?t(oL(e)):t;return e.next(i),i},oD=(e,t)=>{let i=e.subscribe(t);return()=>{i.unsubscribe()}};var oU=Object.freeze({__proto__:null,createSubscription:oD,getCurrentValue:oL,setCurrentValue:oA});let oM=(...e)=>(t,i)=>{for(let n of e){let e=n(t,i);if(0!==e)return e}return 0},oF=e=>t=>(i,n)=>e(i,n)?t(i,n):0,oB=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,o$=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,oz=(e,t)=>oJ(e)&&!oJ(t)?-1:!oJ(e)&&oJ(t)?1:0,oV=(e,t)=>oY(e)&&!oY(t)?-1:!oY(e)&&oY(t)?1:0,oW=(e,t)=>oX(e)&&!oX(t)?-1:!oX(e)&&oX(t)?1:0,oq=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return -1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return -1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},oH=e=>(t,i)=>t.reaction?.type===e&&i.reaction?.type!==e?-1:t.reaction?.type!==e&&i.reaction?.type===e?1:0,oG=(e,t)=>e.name<t.name?-1:e.name>t.name?1:0,oK=(e,t)=>(e.roles||[]).some(e=>t.includes(e)),oJ=e=>e.publishedTracks.includes(E.SCREEN_SHARE),oY=e=>e.publishedTracks.includes(E.VIDEO),oX=e=>e.publishedTracks.includes(E.AUDIO),oZ=oF((e,t)=>e.viewportVisibilityState?.videoTrack===P.INVISIBLE||t.viewportVisibilityState?.videoTrack===P.INVISIBLE),oQ=oF((e,t)=>e.viewportVisibilityState?.videoTrack===P.INVISIBLE||e.viewportVisibilityState?.videoTrack===P.UNKNOWN||t.viewportVisibilityState?.videoTrack===P.INVISIBLE||t.viewportVisibilityState?.videoTrack===P.UNKNOWN),o0=oM(oq,oz,oZ(oM(oB,o$,oH("raised-hand"),oV,oW))),o1=oM(oq,oz,oB,oZ(oM(o$,oH("raised-hand"),oV,oW)));oM(oq,oQ(oM(oB,o$,oH("raised-hand"),oV,oW)));let o2=oM(oZ(oM(oB,o$,oH("raised-hand"),oV,oW)),((...e)=>(t,i)=>oK(t,e)&&!oK(i,e)?-1:!oK(t,e)&&oK(i,e)?1:0)("admin","host","speaker"));!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(N||(N={}));let o3={broadcasting:!1,hls:{playlist_url:""},rtmps:[]};class o4{constructor(){this.backstageSubject=new sF(!0),this.blockedUserIdsSubject=new sF([]),this.createdAtSubject=new sF(new Date),this.endedAtSubject=new sF(void 0),this.startsAtSubject=new sF(void 0),this.updatedAtSubject=new sF(new Date),this.createdBySubject=new sF(void 0),this.customSubject=new sF({}),this.egressSubject=new sF(void 0),this.ingressSubject=new sF(void 0),this.recordingSubject=new sF(!1),this.sessionSubject=new sF(void 0),this.settingsSubject=new sF(void 0),this.transcribingSubject=new sF(!1),this.endedBySubject=new sF(void 0),this.thumbnailsSubject=new sF(void 0),this.membersSubject=new sF([]),this.ownCapabilitiesSubject=new sF([]),this.callingStateSubject=new sF(N.UNKNOWN),this.startedAtSubject=new sF(void 0),this.participantCountSubject=new sF(0),this.anonymousParticipantCountSubject=new sF(0),this.participantsSubject=new sF([]),this.callStatsReportSubject=new sF(void 0),this.sortParticipantsBy=o0,this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,e=>e)},this.getCurrentValue=oL,this.setCurrentValue=oA,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.findParticipantBySessionId=e=>this.participants.find(t=>t.sessionId===e),this.getParticipantLookupBySessionId=()=>this.participants.reduce((e,t)=>(e[t.sessionId]=t,e),{}),this.updateParticipant=(e,t)=>{let i=this.findParticipantBySessionId(e);if(!i){this.logger("warn",`Participant with sessionId ${e} not found`);return}let n="function"==typeof t?t(i):t,s={...i,...n};return this.setParticipants(t=>t.map(t=>t.sessionId===e?s:t))},this.updateOrAddParticipant=(e,t)=>this.findParticipantBySessionId(e)?this.setParticipants(i=>i.map(i=>i.sessionId===e?{...i,...t}:i)):this.setParticipants(e=>[...e,t]),this.updateParticipants=e=>{if(0!==Object.keys(e).length)return this.setParticipants(t=>t.map(t=>{let i=e[t.sessionId];return i?{...t,...i}:t}))},this.updateFromEvent=e=>{let t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{let t=e.reduce((e,t)=>(e[t.sessionId]=Date.now(),e),{});return this.setParticipants(e=>e.map(e=>{let i=t[e.sessionId];return i?{...e,pin:{isLocalPin:!1,pinnedAt:i}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))},this.updateFromCallResponse=e=>{this.setCurrentValue(this.backstageSubject,e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setCurrentValue(this.endedAtSubject,e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording),this.setCurrentValue(this.sessionSubject,e.session),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromMemberRemoved=e=>{this.setCurrentValue(this.membersSubject,t=>t.filter(t=>-1===e.members.indexOf(t.user_id)))},this.updateFromMemberAdded=e=>{this.setCurrentValue(this.membersSubject,t=>[...t,...e.members])},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,(e=o3)=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,(e=o3)=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastStarted=e=>{this.setCurrentValue(this.egressSubject,(t=o3)=>({...t,broadcasting:!0,hls:{...t.hls,playlist_url:e.hls_playlist_url}}))},this.updateFromSessionParticipantLeft=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_left event but no session is available.",e),t;let{participants:i,participants_count_by_role:n}=t,{user:s,user_session_id:a}=e.participant;return{...t,participants:i.filter(e=>e.user_session_id!==a),participants_count_by_role:{...n,[s.role]:Math.max(0,(n[s.role]||0)-1)}}})},this.updateFromSessionParticipantJoined=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_joined event but no session is available.",e),t;let{participants:i,participants_count_by_role:n}=t,{user:s,user_session_id:a}=e.participant,r=!0,o=i.map(t=>t.user_session_id===a?(r=!1,e.participant):t);r&&o.push(e.participant);let c=r?1:0;return{...t,participants:o,participants_count_by_role:{...n,[s.role]:(n[s.role]||0)+c}}})},this.updateMembers=e=>{this.setCurrentValue(this.membersSubject,t=>t.map(t=>e.members.find(e=>e.user_id===t.user_id)||t))},this.updateParticipantReaction=e=>{let{user:t,custom:i,type:n,emoji_code:s}=e.reaction;this.setParticipants(e=>e.map(e=>e.userId!==t.id?e:{...e,reaction:{type:n,emoji_code:s,custom:i}}))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>t?t.filter(t=>t!==e.user.id):t)},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>[...t||[],e.user.id])},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.logger=oh(["CallState"]),this.participants$=this.participantsSubject.asObservable().pipe(sN(e=>e.sort(this.sortParticipantsBy)),s$({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(sN(e=>e.find(e=>e.isLocalParticipant)),s$({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(sN(e=>e.filter(e=>!e.isLocalParticipant)),s$({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(sN(e=>e.filter(e=>!!e.pin)),s$({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(sN(e=>e.find(e=>e.isDominantSpeaker)),s$({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(sN(e=>e.some(e=>e.publishedTracks.includes(E.SCREEN_SHARE))),sz(),s$({bufferSize:1,refCount:!0})),this.startedAt$=this.startedAtSubject.asObservable(),this.participantCount$=this.participantCountSubject.asObservable(),this.anonymousParticipantCount$=this.anonymousParticipantCountSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.ownCapabilities$=this.ownCapabilitiesSubject.asObservable(),this.callingState$=this.callingStateSubject.asObservable(),this.backstage$=this.backstageSubject.asObservable(),this.blockedUserIds$=this.blockedUserIdsSubject.asObservable(),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.recording$=this.recordingSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.transcribing$=this.transcribingSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.eventHandlers={"call.closed_caption":void 0,"call.permission_request":void 0,"call.recording_failed":void 0,"call.recording_ready":void 0,"call.transcription_started":void 0,"call.transcription_stopped":void 0,"call.transcription_ready":void 0,"call.transcription_failed":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.created":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":this.updateFromHLSBroadcastStarted,"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call),"call.deleted":void 0}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}}class o6{constructor(){this.connectedUserSubject=new sF(void 0),this.callsSubject=new sF([]),this.getCurrentValue=oL,this.setCurrentValue=oA,this.setConnectedUser=e=>this.setCurrentValue(this.connectedUserSubject,e),this.setCalls=e=>this.setCurrentValue(this.callsSubject,e),this.registerCall=e=>{this.calls.find(t=>t.cid===e.cid)||this.setCalls(t=>[...t,e])},this.unregisterCall=e=>this.setCalls(t=>t.filter(t=>t!==e)),this.findCall=(e,t)=>this.calls.find(i=>i.type===e&&i.id===t),this.connectedUserSubject.subscribe(async e=>{if(!e){let e=oh(["client-state"]);for(let t of this.calls)t.state.callingState!==N.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave({reason:"client.disconnectUser() called"}).catch(i=>{e("error",`Error leaving call: ${t.cid}`,i)}))}})}get connectedUser(){return this.getCurrentValue(this.connectedUserSubject)}get calls(){return this.getCurrentValue(this.callsSubject)}}class o5{constructor(e){this.getCurrentValue=oL,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return oL(this.connectedUser$)}get calls(){return oL(this.calls$)}}let o8=e=>{let t=/^a=rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/.exec(e);if(t)return{original:t[0],payload:t[1],codec:t[2]}},o9=e=>{let t=/^a=fmtp:(\d*) (.*)/.exec(e);if(t)return{original:t[0],payload:t[1],config:t[2]}},o7=(e,t)=>{let i=RegExp(`(m=${t} \\d+ [\\w/]+) ([\\d\\s]+)`).exec(e);if(i)return{original:i[0],mediaWithPorts:i[1],codecOrder:i[2]}},ce=(e,t)=>{let i;let n=[],s=[],a=!1;if(e.split(/(\r\n|\r|\n)/).forEach(e=>{if(!/^([a-z])=(.*)/.test(e))return;let r=e[0];if("m"===r){let n=o7(e,t);a=!!n,n&&(i=n)}else if(a&&"a"===r){let t=o8(e),i=o9(e);t?n.push(t):i&&s.push(i)}}),i)return{media:i,rtpMap:n,fmtp:s}},ct=e=>{let t=ce(e,"audio"),i=t?.rtpMap.find(e=>"opus"===e.codec.toLowerCase()),n=i?.payload;if(n)return t?.fmtp.find(e=>e.payload===n)},ci=(e,t)=>{let i=ct(e);if(i){let n=/usedtx=(\d)/.exec(i.config),s=`usedtx=${t?"1":"0"}`;if(n){let t=i.original.replace(/usedtx=(\d)/,s);return e.replace(i.original,t)}{let t=`${i.original};${s}`;return e.replace(i.original,t)}}return e},cn=(e,t,i=51e4)=>{i=Math.max(Math.min(i,51e4),96e3);let n=s0.Qc(e),s=n.media.find(e=>"audio"===e.type&&String(e.mid)===t);if(!s)return e;let a=s.rtp.find(e=>"opus"===e.codec);if(!a)return e;let r=s.fmtp.find(e=>e.payload===a.payload);return r?(r.config.match(/stereo=(\d)/)?r.config=r.config.replace(/stereo=(\d)/,"stereo=1"):r.config=`${r.config};stereo=1`,r.config.match(/maxaveragebitrate=(\d*)/)?r.config=r.config.replace(/maxaveragebitrate=(\d*)/,`maxaveragebitrate=${i}`):r.config=`${r.config};maxaveragebitrate=${i}`,s0.cW(n)):e},cs=oh(["Publisher"]);class ca{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({connectionConfig:e,sfuClient:t,dispatcher:i,state:n,isDtxEnabled:s,isRedEnabled:a,iceRestartDelay:r=2500}){this.transceiverRegistry={[E.AUDIO]:void 0,[E.VIDEO]:void 0,[E.SCREEN_SHARE]:void 0,[E.SCREEN_SHARE_AUDIO]:void 0,[E.UNSPECIFIED]:void 0},this.publishOptionsPerTrackType=new Map,this.transceiverInitOrder=[],this.trackKindMapping={[E.AUDIO]:"audio",[E.VIDEO]:"video",[E.SCREEN_SHARE]:"video",[E.SCREEN_SHARE_AUDIO]:"audio",[E.UNSPECIFIED]:void 0},this.trackLayersCache={[E.AUDIO]:void 0,[E.VIDEO]:void 0,[E.SCREEN_SHARE]:void 0,[E.SCREEN_SHARE_AUDIO]:void 0,[E.UNSPECIFIED]:void 0},this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("signalingstatechange",this.onSignalingStateChange),t},this.close=({stopTracks:e=!0}={})=>{e&&(this.stopPublishing(),Object.keys(this.transceiverRegistry).forEach(e=>{this.transceiverRegistry[e]=void 0}),Object.keys(this.trackLayersCache).forEach(e=>{this.trackLayersCache[e]=void 0})),clearTimeout(this.iceRestartTimeout),this.unsubscribeOnIceRestart(),this.pc.removeEventListener("negotiationneeded",this.onNegotiationNeeded),this.pc.close()},this.publishStream=async(e,t,i,n={})=>{if("ended"===t.readyState)throw Error("Can't publish a track that has ended already.");let s=this.pc.getTransceivers().find(e=>e===this.transceiverRegistry[i]&&e.sender.track&&e.sender.track?.kind===this.trackKindMapping[i]),a=async()=>{cs("info",`Track ${E[i]} has ended, notifying the SFU`),await this.notifyTrackMuteStateChanged(e,i,!0),t.removeEventListener("ended",a)};if(s){let e=s.sender.track;e&&e!==t&&(e.stop(),e.removeEventListener("ended",a),t.addEventListener("ended",a)),t.enabled||(t.enabled=!0),await s.sender.replaceTrack(t)}else{let{settings:r}=this.state,o=r?.video.target_resolution,c=i===E.VIDEO?oT(t,o):i===E.SCREEN_SHARE?oI(t,n.screenShareSettings):void 0,l=n.preferredCodec;if(!l&&i===E.VIDEO&&oo()){let e=o_()?.name.toLowerCase();"ipados"===e?l="H264":"android"===e&&(l="VP8")}let u=this.getCodecPreferences(i,l);t.addEventListener("ended",a),t.enabled||(t.enabled=!0),s=this.pc.addTransceiver(t,{direction:"sendonly",streams:i===E.VIDEO||i===E.SCREEN_SHARE?[e]:void 0,sendEncodings:c}),cs("debug",`Added ${E[i]} transceiver`),this.transceiverInitOrder.push(i),this.transceiverRegistry[i]=s,this.publishOptionsPerTrackType.set(i,n),"setCodecPreferences"in s&&u&&(cs("info",`Setting ${E[i]} codec preferences`,u),s.setCodecPreferences(u))}await this.notifyTrackMuteStateChanged(e,i,!1)},this.unpublishStream=async(e,t)=>{let i=this.pc.getTransceivers().find(t=>t===this.transceiverRegistry[e]&&t.sender.track);i&&i.sender.track&&(t?"live"===i.sender.track.readyState:i.sender.track.enabled)&&(t?i.sender.track.stop():i.sender.track.enabled=!1,this.state.localParticipant?.publishedTracks.includes(e)&&await this.notifyTrackMuteStateChanged(void 0,e,!0))},this.isPublishing=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState&&e.track.enabled}return!1},this.isLive=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState}return!1},this.notifyTrackMuteStateChanged=async(e,t,i)=>{await this.sfuClient.updateMuteState(t,i);let n=oP(t);i?this.state.updateParticipant(this.sfuClient.sessionId,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==t),[n]:void 0})):this.state.updateParticipant(this.sfuClient.sessionId,i=>({publishedTracks:i.publishedTracks.includes(t)?i.publishedTracks:[...i.publishedTracks,t],[n]:e}))},this.stopPublishing=()=>{cs("debug","Stopping publishing all tracks"),this.pc.getSenders().forEach(e=>{e.track?.stop(),"closed"!==this.pc.signalingState&&this.pc.removeTrack(e)})},this.updateVideoPublishQuality=async e=>{cs("info","Update publish quality, requested layers by SFU:",e);let t=this.transceiverRegistry[E.VIDEO]?.sender;if(!t){cs("warn","Update publish quality, no video sender found.");return}let i=t.getParameters();if(0===i.encodings.length){cs("warn","Update publish quality, No suitable video encoding quality found");return}let n=!1,s=e.filter(e=>e.active).map(e=>e.name);i.encodings.forEach(t=>{let i=s.includes(t.rid);if(i!==t.active&&(t.active=i,n=!0),i){let i=e.find(e=>e.name===t.rid);void 0!==i&&(i.scaleResolutionDownBy>=1&&i.scaleResolutionDownBy!==t.scaleResolutionDownBy&&(cs("debug","[dynascale]: setting scaleResolutionDownBy from server","layer",i.name,"scale-resolution-down-by",i.scaleResolutionDownBy),t.scaleResolutionDownBy=i.scaleResolutionDownBy,n=!0),i.maxBitrate>0&&i.maxBitrate!==t.maxBitrate&&(cs("debug","[dynascale] setting max-bitrate from the server","layer",i.name,"max-bitrate",i.maxBitrate),t.maxBitrate=i.maxBitrate,n=!0),i.maxFramerate>0&&i.maxFramerate!==t.maxFramerate&&(cs("debug","[dynascale]: setting maxFramerate from server","layer",i.name,"max-framerate",i.maxFramerate),t.maxFramerate=i.maxFramerate,n=!0))}});let a=i.encodings.filter(e=>e.active);n?(await t.setParameters(i),cs("info","Update publish quality, enabled rids: ",a)):cs("info","Update publish quality, no change: ",a)},this.getStats=e=>this.pc.getStats(e),this.getCodecPreferences=(e,t)=>{if(e===E.VIDEO)return om("video",t||"vp8");if(e===E.AUDIO){let e=this.isRedEnabled?"red":"opus";return om("audio",t??e,this.isRedEnabled?void 0:"red")}},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){cs("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oy(t),peerType:_.PUBLISHER_UNSPECIFIED})},this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=async(e,t)=>{this.sfuClient=e,this.pc.setConfiguration(t),this._connectionConfiguration=t,"connected"===this.pc.iceConnectionState&&await this.negotiate({iceRestart:!0})},this.restartIce=async()=>{cs("debug","Restarting ICE connection");let e=this.pc.signalingState;if(this.isIceRestarting||"have-local-offer"===e){cs("debug","ICE restart is already in progress");return}await this.negotiate({iceRestart:!0})},this.onNegotiationNeeded=async()=>{await this.negotiate()},this.negotiate=async e=>{this.isIceRestarting=e?.iceRestart??!1;let t=await this.pc.createOffer(e),i=this.mungeCodecs(t.sdp);if(i&&this.isPublishing(E.SCREEN_SHARE_AUDIO)){let e=this.transceiverRegistry[E.SCREEN_SHARE_AUDIO];if(e&&e.sender.track){let t=e.mid??this.extractMid(i,e.sender.track,E.SCREEN_SHARE_AUDIO);i=cn(i,t)}}t.sdp=i;let n=this.getCurrentTrackInfos(t.sdp);if(0===n.length)throw Error("Can't initiate negotiation without announcing any tracks");await this.pc.setLocalDescription(t);let{response:s}=await this.sfuClient.setPublisher({sdp:t.sdp||"",tracks:n});try{await this.pc.setRemoteDescription({type:"answer",sdp:s.sdp})}catch(e){cs("error","setRemoteDescription error",{sdp:s.sdp,error:e})}this.isIceRestarting=!1,this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){cs("warn","ICE candidate error",[t,e])}})},this.mungeCodecs=e=>(e&&(e=ci(e,this.isDtxEnabled)),e),this.extractMid=(e,t,i)=>{if(!e)return cs("warn","No SDP found. Returning empty mid"),"";cs("debug","No 'mid' found for track. Trying to find it from the Offer SDP");let n=s0.Qc(e).media.find(e=>e.type===t.kind&&(e.msid?.includes(t.id)??!0));if(void 0===n?.mid){cs("debug",`No mid found in SDP for track type ${t.kind} and id ${t.id}. Attempting to find a heuristic mid`);let e=this.transceiverInitOrder.indexOf(i);return -1!==e?String(e):(cs("debug","No heuristic mid found. Returning empty mid"),"")}return String(n.mid)},this.getCurrentTrackInfos=e=>{e=e||this.pc.localDescription?.sdp;let{settings:t}=this.state,i=t?.video.target_resolution;return this.pc.getTransceivers().filter(e=>"sendonly"===e.direction&&e.sender.track).map(t=>{let n;let s=Number(Object.keys(this.transceiverRegistry).find(e=>this.transceiverRegistry[e]===t)),a=t.sender.track;if("live"===a.readyState){let e=this.publishOptionsPerTrackType.get(s);n=s===E.VIDEO?oT(a,i):s===E.SCREEN_SHARE?oI(a,e?.screenShareSettings):[],this.trackLayersCache[s]=n}else n=this.trackLayersCache[s]||[],cs("debug",`Track ${E[s]} is ended. Announcing last known optimal layers`,n);let r=n.map(e=>({rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:this.ridToVideoQuality(e.rid||""),videoDimension:{width:e.width,height:e.height}})),o=[E.AUDIO,E.SCREEN_SHARE_AUDIO].includes(s),c=a.getSettings(),l=o&&2===c.channelCount;return{trackId:a.id,layers:r,trackType:s,mid:t.mid??this.extractMid(e,a,s),stereo:l,dtx:o&&this.isDtxEnabled,red:o&&this.isRedEnabled}})},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,i=this.pc.iceConnectionState;cs("connected"===i||"checking"===i?"debug":"warn","ICE Candidate error",t)},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;cs("debug","ICE Connection state changed to",e);let t=this.state.callingState!==N.OFFLINE;"failed"===e?(cs("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{cs("error","ICE restart error",e)})):"disconnected"===e&&t&&(cs("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{cs("error","ICE restart error",e)}):cs("debug","Scheduled ICE restart: connection recovered, canceled.")},this.iceRestartDelay))},this.onIceGatheringStateChange=()=>{cs("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingStateChange=()=>{cs("debug","Signaling state changed",this.pc.signalingState)},this.ridToVideoQuality=e=>"q"===e?S.LOW_UNSPECIFIED:"h"===e?S.MID:S.HIGH,this.pc=this.createPeerConnection(e),this.sfuClient=t,this.state=n,this.isDtxEnabled=s,this.isRedEnabled=a,this.iceRestartDelay=r,this.unsubscribeOnIceRestart=i.on("iceRestart",async e=>{e.peerType===_.PUBLISHER_UNSPECIFIED&&await this.restartIce()})}}let cr=oh(["Subscriber"]);class co{get connectionConfiguration(){return this.pc.getConfiguration?this.pc.getConfiguration():this._connectionConfiguration}constructor({sfuClient:e,dispatcher:t,state:i,connectionConfig:n,iceRestartDelay:s=2500}){this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return this._connectionConfiguration=e,t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("track",this.handleOnTrack),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t},this.close=()=>{clearTimeout(this.iceRestartTimeout),this.unregisterOnSubscriberOffer(),this.unregisterOnIceRestart(),this.pc.close()},this.getStats=e=>this.pc.getStats(e),this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=(e,t)=>{let i;this.setSfuClient(e);let n=this.pc,s=new Set;n.getReceivers().forEach(e=>{"video"===e.track.kind&&s.add(e.track.id)});let a=this.createPeerConnection(t),r=()=>{n.close(),clearTimeout(i)},o=e=>{cr("debug",`[Migration]: Migrated track: ${e.track.id}, ${e.track.kind}`),s.delete(e.track.id),0===s.size&&(cr("debug","[Migration]: Migration complete"),a.removeEventListener("track",o),r())},c=()=>{"connected"===a.connectionState&&(i=setTimeout(()=>{a.removeEventListener("track",o),r()},2e3),a.removeEventListener("connectionstatechange",c))};a.addEventListener("track",o),a.addEventListener("connectionstatechange",c),this.pc=a},this.restartIce=async()=>{if(cr("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState){cr("debug","ICE restart is already in progress");return}let e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:_.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{let[t]=e.streams,[i,n]=t.id.split(":"),s=this.state.participants.find(e=>e.trackLookupPrefix===i);if(cr("debug",`[onTrack]: Got remote ${n} track for userId: ${s?.userId}`,e.track.id,e.track),!s){cr("error",`[onTrack]: Received track for unknown participant: ${i}`,e);return}e.track.addEventListener("mute",()=>{cr("info",`[onTrack]: Track muted: ${s.userId} ${n}:${i}`)}),e.track.addEventListener("unmute",()=>{cr("info",`[onTrack]: Track unmuted: ${s.userId} ${n}:${i}`)}),e.track.addEventListener("ended",()=>{cr("info",`[onTrack]: Track ended: ${s.userId} ${n}:${i}`)});let a={TRACK_TYPE_AUDIO:"audioStream",TRACK_TYPE_VIDEO:"videoStream",TRACK_TYPE_SCREEN_SHARE:"screenShareStream",TRACK_TYPE_SCREEN_SHARE_AUDIO:"screenShareAudioStream"}[n];if(!a){cr("error",`Unknown track type: ${n}`);return}let r=s[a];r&&(cr("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${s.userId}`),r.getTracks().forEach(e=>{e.stop(),r.removeTrack(e)})),this.state.updateParticipant(s.sessionId,{[a]:t})},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){cr("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oy(t),peerType:_.SUBSCRIBER})},this.negotiate=async e=>{cr("info","Received subscriberOffer",e),await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){cr("warn","ICE candidate error",[t,e])}});let t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:_.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;if(cr("debug","ICE connection state changed",e),this.isIceRestarting)return;let t=this.state.callingState!==N.OFFLINE;"failed"===e?(cr("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{cr("error","ICE restart failed",e)})):"disconnected"===e&&t&&(cr("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{cr("error","ICE restart failed",e)}):cr("debug","Scheduled ICE restart: connection recovered, canceled.")},5e3))},this.onIceGatheringStateChange=()=>{cr("debug","ICE gathering state changed",this.pc.iceGatheringState)},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,i=this.pc.iceConnectionState;cr("connected"===i||"checking"===i?"debug":"warn","ICE Candidate error",t)},this.sfuClient=e,this.state=i,this.iceRestartDelay=s,this.pc=this.createPeerConnection(n),this.unregisterOnSubscriberOffer=t.on("subscriberOffer",async e=>{await this.negotiate(e)}),this.unregisterOnIceRestart=t.on("iceRestart",async e=>{e.peerType===_.SUBSCRIBER&&await this.restartIce()})}}let cc=e=>{let t=oh(["sfu-client"]),{endpoint:i,onMessage:n}=e,s=new(s3())(i);return s.binaryType="arraybuffer",s.addEventListener("error",e=>{t("error","Signaling WS channel error",e)}),s.addEventListener("close",e=>{t("info","Signaling WS channel is closed",e)}),s.addEventListener("open",e=>{t("info","Signaling WS channel is open",e)}),s.addEventListener("message",e=>{try{let t=e.data instanceof ArrayBuffer?rl.fromBinary(new Uint8Array(e.data)):rl.fromJsonString(e.data.toString());n(t)}catch(i){t("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:i})}}),s},cl=e=>new Promise(t=>setTimeout(t,e));function cu(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}let cp={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3,WS_CLOSED_ABRUPTLY:1006,WS_POLICY_VIOLATION:1008};function cd(e){let t=Math.min(Math.max(250,(e-1)*2e3),5e3);return Math.floor(Math.random()*(Math.min(500+2e3*e,5e3)-t)+t)}function ch(e){let t="";for(let i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}function cm(){let e=function(e){let t=new Uint8Array(16);return cf(t),t}(0);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,ch(e.subarray(0,4))+"-"+ch(e.subarray(4,6))+"-"+ch(e.subarray(6,8))+"-"+ch(e.subarray(8,10))+"-"+ch(e.subarray(10,16))}let cf="undefined"!=typeof crypto&&void 0!==crypto?.getRandomValues?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){let t=Math.pow(2,8*e.byteLength/e.length);for(let i=0;i<e.length;i++)e[i]=Math.random()*t};class cg{constructor({dispatcher:e,sfuServer:t,token:i,sessionId:n}){this.iceTrickleBuffer=new ox,this.isMigratingAway=!1,this.isFastReconnecting=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.close=(e,t)=>{this.logger("debug",`Closing SFU WS connection: ${e} - ${t}`),this.signalWs.readyState!==this.signalWs.CLOSED&&this.signalWs.close(e,`js-client: ${t}`),this.unsubscribeIceTrickle(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout)},this.updateSubscriptions=async e=>cv(()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e}),this.logger),this.setPublisher=async e=>cv(()=>this.rpc.setPublisher({...e,sessionId:this.sessionId}),this.logger),this.sendAnswer=async e=>cv(()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId}),this.logger),this.iceTrickle=async e=>cv(()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId}),this.logger),this.iceRestart=async e=>cv(()=>this.rpc.iceRestart({...e,sessionId:this.sessionId}),this.logger),this.updateMuteState=async(e,t)=>this.updateMuteStates({muteStates:[{trackType:e,muted:t}]}),this.updateMuteStates=async e=>cv(()=>this.rpc.updateMuteStates({...e,sessionId:this.sessionId}),this.logger),this.sendStats=async e=>cv(()=>this.rpc.sendStats({...e,sessionId:this.sessionId}),this.logger),this.join=async e=>{let t=rR.create({...e,sessionId:this.sessionId,token:this.token});return this.send(rb.create({requestPayload:{oneofKind:"joinRequest",joinRequest:t}}))},this.send=async e=>this.signalReady.then(t=>{t.readyState===t.OPEN&&(this.logger("debug",`Sending message to: ${this.edgeName}`,rb.toJson(e)),t.send(rb.toBinary(e)))}),this.keepAlive=()=>{clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(()=>{this.logger("trace","Sending healthCheckRequest to SFU");let e=rb.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}});this.send(e).catch(e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)})},this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout(()=>{this.lastMessageTimestamp&&new Date().getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(cg.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)},this.unhealthyTimeoutInMs)},this.sessionId=n||cm(),this.sfuServer=t,this.edgeName=t.edge_name,this.token=i,this.logger=oh(["sfu-client"]),this.rpc=or({baseUrl:t.url,interceptors:[oa({Authorization:`Bearer ${i}`}),{interceptUnary:(e,t,i,n)=>(this.logger("trace",`Calling SFU RPC method ${t.name}`,{input:i,options:n}),e(t,i,n))}]}),this.unsubscribeIceTrickle=e.on("iceTrickle",e=>{this.iceTrickleBuffer.push(e)}),this.signalWs=cc({endpoint:t.ws_endpoint,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck(),e.dispatch(t)}}),this.signalReady=new Promise(e=>{let t=()=>{this.signalWs.removeEventListener("open",t),this.keepAlive(),e(this.signalWs)};this.signalWs.addEventListener("open",t)})}}cg.NORMAL_CLOSURE=1e3,cg.ERROR_CONNECTION_UNHEALTHY=4001,cg.ERROR_CONNECTION_BROKEN=4002;let cv=async(e,t)=>{let i,n=0;do n>0&&await cl(cd(n)),i=await e(),t("trace",`SFU RPC response received for ${i.method.name}`,i),i.response.error&&t("error",`SFU RPC Error (${i.method.name}):`,i.response.error),n++;while(i.response.error?.shouldRetry&&n<5);if(i.response.error)throw i.response.error;return i},cb=e=>async function(t){if(t.user.id===e.currentUserId)return;let{state:i}=e;t.call.created_by.id===e.currentUserId&&i.callingState===N.RINGING&&await e.join()},cx=e=>async function(t){if(t.user.id===e.currentUserId)return;let{call:i}=t,{session:n}=i;if(!n){e.logger("warn","No call session provided. Ignoring call.rejected event.",t);return}let s=n.rejected_by,{members:a,callingState:r}=e.state;if(r!==N.RINGING){e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t);return}e.isCreatedByMe?a.filter(t=>t.user_id!==e.currentUserId).every(e=>s[e.user_id])&&(e.logger("info","everyone rejected, leaving the call"),await e.leave({reason:"ring: everyone rejected"})):s[i.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave({reason:"ring: creator rejected"}))},cy=e=>async function(){let{callingState:t}=e.state;(t===N.RINGING||t===N.JOINED||t===N.JOINING)&&await e.leave({reason:"call.ended event received"})},cw=e=>function(t){let{currentGrants:i}=t;if(i){let{canPublishAudio:t,canPublishVideo:n,canScreenshare:s}=i,a={[s6.SEND_AUDIO]:t,[s6.SEND_VIDEO]:n,[s6.SCREENSHARE]:s},r=e.ownCapabilities.filter(e=>!1!==a[e]);Object.entries(a).forEach(([e,t])=>{t&&!r.includes(e)&&r.push(e)}),e.setOwnCapabilities(r)}},c_=oh(["events"]),ck=(e,t)=>e.on("changePublishQuality",e=>{let{videoSenders:i}=e;i.forEach(e=>{let{layers:i}=e;t.updatePublishQuality(i.filter(e=>e.active))})}),cS=(e,t)=>e.on("connectionQualityChanged",e=>{let{connectionQualityUpdates:i}=e;i&&t.updateParticipants(i.reduce((e,t)=>{let{sessionId:i,connectionQuality:n}=t;return e[i]={connectionQuality:n},e},{}))}),cE=(e,t)=>e.on("healthCheckResponse",e=>{let{participantCount:i}=e;i&&(t.setParticipantCount(i.total),t.setAnonymousParticipantCount(i.anonymous))}),cC=(e,t)=>e.on("error",e=>{e.error&&e.error.code!==C.LIVE_ENDED||t.permissionsContext.hasPermission(s6.JOIN_BACKSTAGE)||t.leave({reason:"live ended"}).catch(e=>{c_("error","Failed to leave call after live ended",e)})}),cT=e=>e.on("error",e=>{if(!e.error)return;let{error:t}=e;c_("error","SFU reported error",{code:C[t.code],message:t.message,shouldRetry:t.shouldRetry})}),cR=e=>function(t){let{pins:i}=t;e.setServerSidePins(i)},cO=e=>e.on("trackUnpublished",async t=>{let{cause:i,type:n,sessionId:s}=t,{localParticipant:a}=e.state;if(i===R.MODERATION&&s===a?.sessionId){let t=e.logger;t("info",`Local participant's ${E[n]} track is muted remotely`);try{n===E.VIDEO?await e.camera.disable():n===E.AUDIO?await e.microphone.disable():t("warn","Unsupported track type to soft mute",E[n]),e.publisher?.isPublishing(n)&&await e.stopPublish(n)}catch(e){t("error","Failed to stop publishing",e)}}}),cI=e=>function(t){let{participant:i}=t;i&&e.updateOrAddParticipant(i.sessionId,Object.assign(i,{viewportVisibilityState:{videoTrack:P.UNKNOWN,screenShareTrack:P.UNKNOWN}}))},cP=e=>function(t){let{participant:i}=t;i&&e.setParticipants(e=>e.filter(e=>e.sessionId!==i.sessionId))},cj=e=>function(t){let{type:i,sessionId:n,participant:s}=t;s?e.updateOrAddParticipant(n,s):e.updateParticipant(n,e=>({publishedTracks:[...e.publishedTracks,i].filter(cL)}))},cN=e=>function(t){let{type:i,sessionId:n,participant:s}=t;s?e.updateOrAddParticipant(n,s):e.updateParticipant(n,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==i)}))},cL=(e,t,i)=>i.indexOf(e)===t,cA=(e,t)=>e.on("dominantSpeakerChanged",e=>{let{sessionId:i}=e;i!==t.dominantSpeaker?.sessionId&&t.setParticipants(e=>e.map(e=>e.sessionId===i?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))}),cD=(e,t)=>e.on("audioLevelChanged",e=>{let{audioLevels:i}=e;t.updateParticipants(i.reduce((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e),{}))}),cU=(e,t,i)=>{let n=[e.on("call.ended",cy(e)),cC(i,e),cT(i),ck(i,e),cS(i,t),cE(i,t),e.on("participantJoined",cI(t)),e.on("participantLeft",cP(t)),e.on("trackPublished",cj(t)),e.on("trackUnpublished",cN(t)),cD(i,t),cA(i,t),e.on("callGrantsUpdated",cw(t)),e.on("pinsUpdated",cR(t)),cO(e)];return e.ringing&&n.push(cM(e)),()=>{n.forEach(e=>e())}},cM=e=>{let t={"call.accepted":cb(e),"call.rejected":cx(e)},i=Object.keys(t).map(i=>e.on(i,t[i]));return()=>{i.forEach(e=>e())}},cF=async(e,t,i,n)=>{let{call:s,credentials:a,members:r,own_capabilities:o,stats_options:c}=await cB(e,t,i,n);return{connectionConfig:c$(a.ice_servers),sfuServer:a.server,token:a.token,metadata:s,members:r,ownCapabilities:o,statsOptions:c}},cB=async(e,t,i,n)=>{let s=await e.getLocationHint(),a={...n,location:s};return e.post(`/call/${t}/${i}/join`,a)},c$=e=>{if(e&&0!==e.length)return{iceServers:e.map(e=>({urls:e.urls,username:e.username,credential:e.password}))}},cz=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t},cV=e=>{let{sdk:t,...i}=e;return{sdkName:t&&t.type===T.REACT?"stream-react":t&&t.type===T.REACT_NATIVE?"stream-react-native":"stream-js",sdkVersion:t?`${t.major}.${t.minor}.${t.patch}`:"0.0.0-development",...i}},cW=({subscriber:e,publisher:t,state:i,pollingIntervalInMs:n=2e3})=>{let s;let a=oh(["stats"]),r=async(i,n)=>"subscriber"===i&&e?e.getStats(n):"publisher"===i&&t?t.getStats(n):void a("warn",`Can't retrieve RTC stats for ${i}`),o=async(i,n)=>{let s="subscriber"===i?e:t,a=[];for(let e of n.getTracks()){let t=cq(await s.getStats(e),{trackKind:e.kind,kind:i});a.push(t)}return a},c=new Set,l=async()=>{let n={},s=new Set(c);if(s.size>0)for(let e of i.participants){if(!s.has(e.sessionId))continue;let t=e.isLocalParticipant?"publisher":"subscriber";try{let i=new MediaStream([...e.videoStream?.getVideoTracks()||[],...e.audioStream?.getAudioTracks()||[]]);n[e.sessionId]=await o(t,i),i.getTracks().forEach(e=>{i.removeTrack(e)})}catch(i){a("error",`Failed to collect stats for ${t} if ${e.userId}`,i)}}let[l,u]=await Promise.all([e.getStats().then(e=>cq(e,{kind:"subscriber",trackKind:"video"})).then(cH),t.getStats().then(e=>cq(e,{kind:"publisher",trackKind:"video"})).then(cH)]),[p,d]=await Promise.all([r("subscriber"),r("publisher")]);i.setCallStatsReport({datacenter:t.sfuClient.edgeName,publisherStats:u,subscriberStats:l,subscriberRawStats:p,publisherRawStats:d,participants:n,timestamp:Date.now()})};if(n>0){let e=async()=>{await l().catch(e=>{a("debug","Failed to collect stats",e)}),s=setTimeout(e,n)};e()}return{getRawStatsForTrack:r,getStatsForStream:o,startReportingStatsFor:e=>{c.add(e),l()},stopReportingStatsFor:e=>{c.delete(e),l()},stop:()=>{s&&clearTimeout(s)}}},cq=(e,t)=>{let{trackKind:i,kind:n}=t,s="subscriber"===n?"inbound-rtp":"outbound-rtp",a=cz(e);return{rawStats:e,streams:a.filter(e=>e.type===s&&e.kind===i).map(e=>{let t;let i=a.find(t=>"codec"===t.type&&t.id===e.codecId),n=a.find(t=>"transport"===t.type&&t.id===e.transportId);if(n&&"connected"===n.dtlsState){let e=a.find(e=>"candidate-pair"===e.type&&e.id===n.selectedCandidatePairId);t=e?.currentRoundTripTime}return{bytesSent:e.bytesSent,bytesReceived:e.bytesReceived,codec:i?.mimeType,currentRoundTripTime:t,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,jitter:e.jitter,kind:e.kind,qualityLimitationReason:e.qualityLimitationReason,rid:e.rid,ssrc:e.ssrc}}),timestamp:Date.now()}},cH=e=>{let t={rawReport:e,totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,timestamp:Date.now()},i=-1,n=(e,t)=>e*t,s=new Set,a=e.streams,r=a.reduce((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;let a=n(t.frameWidth||0,t.frameHeight||0);return a>i&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,i=a),s.add(t.qualityLimitationReason||""),e},t);a.length>0&&(r.averageJitterInMs=Math.round(r.averageJitterInMs/a.length*1e3),r.averageRoundTripTimeInMs=Math.round(r.averageRoundTripTimeInMs/a.length*1e3));let o=[s.has("cpu")&&"cpu",s.has("bandwidth")&&"bandwidth",s.has("other")&&"other"].filter(Boolean).join(", ");return o&&(r.qualityLimitationReasons=o),r};class cG{constructor(e,{options:t,clientDetails:i,subscriber:n,publisher:s}){this.logger=oh(["SfuStatsReporter"]),this.run=async()=>{let[e,t]=await Promise.all([this.subscriber.getStats().then(cz).then(JSON.stringify),this.publisher.getStats().then(cz).then(JSON.stringify)]);await this.sfuClient.sendStats({sdk:this.sdkName,sdkVersion:this.sdkVersion,webrtcVersion:this.webRTCVersion,subscriberStats:e,publisherStats:t})},this.start=()=>{this.options.reporting_interval_ms<=0||(this.intervalId=setInterval(()=>{this.run().catch(e=>{this.logger("warn","Failed to report stats",e)})},this.options.reporting_interval_ms))},this.stop=()=>{clearInterval(this.intervalId),this.intervalId=void 0},this.sfuClient=e,this.options=t,this.subscriber=n,this.publisher=s;let a=oS(),{sdk:r,browser:o}=i;this.sdkName=r&&r.type===T.REACT?"stream-react":r&&r.type===T.REACT_NATIVE?"stream-react-native":"stream-js",this.sdkVersion=r?`${r.major}.${r.minor}.${r.patch}`:"0.0.0-development",this.webRTCVersion=a?.version||`${o?.name||""}-${o?.version||""}`||"N/A"}}class cK{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this.elementHandlerMap.get(e.target);t?.(e)})},{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach(([t,i])=>{e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,i))}),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{let i=[e,t];return this.elementHandlerMap.has(e)||(this.observer?this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)):this.queueSet.add(i)),()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(i)}}}}let cJ=()=>"undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),cY=()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Firefox");var cX=Object.freeze({__proto__:null,isChrome:()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:cY,isSafari:cJ});let cZ={videoTrack:P.UNKNOWN,screenShareTrack:P.UNKNOWN};class cQ{constructor(e){this.viewportTracker=new cK,this.logger=oh(["DynascaleManager"]),this.trackElementVisibility=(e,t,i)=>{let n=this.viewportTracker.observe(e,n=>{this.call.state.updateParticipant(t,t=>{let s=t.viewportVisibilityState??cZ,a=n.isIntersecting||document.fullscreenElement===e?P.VISIBLE:P.INVISIBLE;return{...t,viewportVisibilityState:{...s,[i]:a}}})});return()=>{n(),this.call.state.updateParticipant(t,e=>{let t=e.viewportVisibilityState??cZ;return{...e,viewportVisibilityState:{...t,[i]:P.UNKNOWN}}})}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n,s;let a=this.call.state.findParticipantBySessionId(t);if(!a)return;let r=(e,n)=>{n&&(0===n.width||0===n.height)&&(this.logger("debug","Ignoring 0x0 dimension",a),n=void 0),this.call.updateSubscriptionsPartial(i,{[t]:{dimension:n}},e)},o=this.call.state.participants$.pipe(sN(e=>e.find(e=>e.sessionId===t)),sW(e=>!!e),sz(),s$({bufferSize:1,refCount:!0})),c=a.isLocalParticipant?null:o.pipe(sN(e=>e.viewportVisibilityState?.[i]),sz()).subscribe(t=>{if(!n){n=t??P.UNKNOWN;return}if(n=t??P.UNKNOWN,t===P.INVISIBLE)return r(j.MEDIUM,void 0);r(j.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}),l=a.isLocalParticipant?null:new ResizeObserver(()=>{let t=`${e.clientWidth},${e.clientHeight}`;if(!s){s=t;return}s!==t&&n!==P.INVISIBLE&&(r(j.SLOW,{width:e.clientWidth,height:e.clientHeight}),s=t)});l?.observe(e);let u=a.isLocalParticipant?null:o.pipe(sq("publishedTracks"),sN(e=>e.publishedTracks.includes("videoTrack"===i?E.VIDEO:E.SCREEN_SHARE)),sz()).subscribe(t=>{t?r(j.FAST,{width:e.clientWidth,height:e.clientHeight}):r(j.FAST,void 0)});e.autoplay=!0,e.playsInline=!0,e.muted=!0;let p=o.pipe(sq("videoTrack"===i?"videoStream":"screenShareStream")).subscribe(t=>{let n="videoTrack"===i?t.videoStream:t.screenShareStream;e.srcObject!==n&&(e.srcObject=n??null,(cJ()||cY())&&setTimeout(()=>{e.srcObject=n??null,e.play().catch(e=>{this.logger("warn","Failed to play stream",e)})},25))});return()=>{r(j.FAST,void 0),c?.unsubscribe(),u?.unsubscribe(),p.unsubscribe(),l?.disconnect()}},this.bindAudioElement=(e,t,i)=>{let n=this.call.state.findParticipantBySessionId(t);if(!n||n.isLocalParticipant)return;let s=this.call.state.participants$.pipe(sN(e=>e.find(e=>e.sessionId===t)),sW(e=>!!e),sz(),s$({bufferSize:1,refCount:!0})),a=s.pipe(sq("screenShareAudioTrack"===i?"screenShareAudioStream":"audioStream")).subscribe(t=>{let n="screenShareAudioTrack"===i?t.screenShareAudioStream:t.audioStream;e.srcObject!==n&&setTimeout(()=>{if(e.srcObject=n??null,e.srcObject){e.play().catch(e=>{this.logger("warn","Failed to play stream",e)});let{selectedDevice:t}=this.call.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}})}),r="setSinkId"in e?this.call.speaker.state.selectedDevice$.subscribe(t=>{t&&e.setSinkId(t)}):null,o=sM([this.call.speaker.state.volume$,s.pipe(sq("audioVolume"))]).subscribe(([t,i])=>{e.volume=i.audioVolume??t});return e.autoplay=!0,()=>{r?.unsubscribe(),o.unsubscribe(),a.unsubscribe()}},this.call=e}}class c0{constructor(){this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canRequest=(e,t=this.settings)=>{if(!t)return!1;let{audio:i,video:n,screensharing:s}=t;switch(e){case s6.SEND_AUDIO:return i.access_request_enabled;case s6.SEND_VIDEO:return n.access_request_enabled;case s6.SCREENSHARE:return s.access_request_enabled;default:return!1}}}}class c1{constructor(e,t={sortParticipantsBy:o0}){this.name=e,this.options=t}}class c2{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new c1(e)),this.callTypes[e]),this.callTypes=e.reduce((e,t)=>(e[t.name]=t,e),{})}}let c3=new c2([new c1("default",{sortParticipantsBy:o0}),new c1("development",{sortParticipantsBy:o0}),new c1("livestream",{sortParticipantsBy:o2}),new c1("audio_room",{sortParticipantsBy:o2})]),c4=(e,t)=>new ss(i=>{(async()=>{let i=await navigator.mediaDevices.enumerateDevices();if(i.some(e=>e.kind===t&&""===e.label)){let t;try{t=await navigator.mediaDevices.getUserMedia(e),i=await navigator.mediaDevices.enumerateDevices()}finally{t&&lp(t)}}return i})().then(e=>{i.next(e),i.complete()}).catch(e=>{oh(["devices"])("error","Failed to enumerate devices",e),i.error(e)})}),c6=()=>"undefined"!=typeof document&&"setSinkId"in document.createElement("audio"),c5={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},c8={video:{width:1280,height:720}},c9=e=>{let t;return()=>(t||(t=e()),t)},c7=c9(()=>new ss(e=>{if(!navigator.mediaDevices.addEventListener)return;let t=()=>e.next();return navigator.mediaDevices.addEventListener("devicechange",t),()=>{navigator.mediaDevices.removeEventListener("devicechange",t)}}).pipe(function(e,t){return void 0===t&&(t=sY),sC(function(i,n){var s=null,a=null,r=null,o=function(){if(s){s.unsubscribe(),s=null;var e=a;a=null,n.next(e)}};function c(){var i=r+e,a=t.now();if(a<i){s=this.schedule(void 0,i-a),n.add(s);return}o()}i.subscribe(sT(n,function(i){a=i,r=t.now(),s||(s=t.schedule(c,e),n.add(s))},function(){o(),n.complete()},void 0,function(){a=s=null}))})}(500),function(e,t){return nz(t)?sX(e,t,1):sX(e,1)}(()=>sj(navigator.mediaDevices.enumerateDevices())),s$(1))),le=c9(()=>sQ(c4(c5,"audioinput"),c7()).pipe(s$(1))),lt=c9(()=>sQ(c4(c5,"audiooutput"),c7()).pipe(s$(1))),li=c9(()=>sQ(c4(c8,"videoinput"),c7()).pipe(s$(1))),ln=()=>le().pipe(sN(e=>e.filter(e=>"audioinput"===e.kind))),ls=()=>li().pipe(sN(e=>e.filter(e=>"videoinput"===e.kind))),la=()=>lt().pipe(sN(e=>e.filter(e=>"audiooutput"===e.kind))),lr=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch(t){throw oh(["devices"])("error","Failed get user media",{error:t,constraints:e}),t}},lo=async e=>lr({audio:{...c5.audio,...e}}),lc=async e=>lr({video:{...c8.video,...e}}),ll=async e=>{try{return await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e})}catch(e){throw oh(["devices"])("error","Failed to get screen share stream",e),e}},lu="undefined"!=typeof navigator&&void 0!==navigator.mediaDevices?c9(()=>sQ(sj(navigator.mediaDevices.enumerateDevices()),c7()).pipe(s$(1)))():void 0,lp=e=>{e.active&&(e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)}),"function"==typeof e.release&&e.release())};class ld{constructor(e,t,i){this.call=e,this.state=t,this.trackType=i,this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.filters=[],this.dispose=()=>{this.subscriptions.forEach(e=>e())},this.logger=oh([`${E[i].toLowerCase()} manager`]),lu&&!oo()&&(this.trackType===E.AUDIO||this.trackType===E.VIDEO)&&this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}async enable(){if("enabled"!==this.state.status){this.enablePromise=this.unmuteStream();try{await this.enablePromise,this.state.setStatus("enabled"),this.enablePromise=void 0}catch(e){throw this.enablePromise=void 0,e}}}async disable(e=!1){if(this.state.prevStatus=this.state.status,!e&&"disabled"===this.state.status)return;let t=e||"stop-tracks"===this.state.disableMode;this.disablePromise=this.muteStream(t);try{await this.disablePromise,this.state.setStatus("disabled"),this.disablePromise=void 0}catch(e){throw this.disablePromise=void 0,e}}async resume(){"enabled"===this.state.prevStatus&&"disabled"===this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.status?this.disable():this.enable()}async registerFilter(e){return this.filters.push(e),await this.applySettingsToStream(),async()=>{this.filters=this.filters.filter(t=>t!==e),await this.applySettingsToStream()}}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(oo())throw Error("This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.");e!==this.state.selectedDevice&&(this.state.setDevice(e),await this.applySettingsToStream())}async applySettingsToStream(){"enabled"===this.state.status&&(await this.muteStream(),await this.unmuteStream())}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(e=!0){this.state.mediaStream&&(this.logger("debug",`${e?"Stopping":"Disabling"} stream`),this.call.state.callingState===N.JOINED&&await this.stopPublishStream(e),this.muteLocalStream(e),this.getTracks().every(e=>"ended"===e.readyState)&&(this.state.mediaStream&&"function"==typeof this.state.mediaStream.release&&this.state.mediaStream.release(),this.state.setMediaStream(void 0)))}muteTracks(){this.getTracks().forEach(e=>{e.enabled&&(e.enabled=!1)})}unmuteTracks(){this.getTracks().forEach(e=>{e.enabled||(e.enabled=!0)})}stopTracks(){this.getTracks().forEach(e=>{"live"===e.readyState&&e.stop()})}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.muteTracks())}async unmuteStream(){let e;if(this.logger("debug","Starting stream"),this.state.mediaStream&&this.getTracks().every(e=>"live"===e.readyState))e=this.state.mediaStream,this.unmuteTracks();else{let t={...this.state.defaultConstraints,deviceId:this.state.selectedDevice},i=e=>async t=>{if(!e)return t;let i=await e;return t.getTracks().forEach(e=>{let t=e.stop;e.stop=function(){t.call(e),i.getTracks().forEach(t=>{t.kind===e.kind&&t.stop()})}}),i.getTracks().forEach(e=>{let i=()=>{t.getTracks().forEach(t=>{e.kind===t.kind&&(t.stop(),t.dispatchEvent(new Event("ended")))})};e.addEventListener("ended",i),this.subscriptions.push(()=>{e.removeEventListener("ended",i)})}),t};e=await this.filters.reduce((e,t)=>e.then(t).then(i(e)),this.getStream(t))}this.call.state.callingState===N.JOINED&&await this.publishStream(e),this.state.mediaStream!==e&&(this.state.setMediaStream(e),this.getTracks().forEach(e=>{e.addEventListener("ended",async()=>{this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise,"enabled"===this.state.status&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout(()=>{this.isTrackStoppedDueToTrackEnd=!1},2e3),await this.disable())})}))}get mediaDeviceKind(){return this.trackType===E.AUDIO?"audioinput":this.trackType===E.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(oD(sM([lu.pipe(sC(function(e,t){var i,n=!1;e.subscribe(sT(t,function(e){var s=i;i=e,n&&t.next([s,e]),n=!0}))})),this.state.selectedDevice$]),async([[e,t],i])=>{if(!i)return;this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise;let n=!1,s=!1,a=this.findDeviceInList(t,i),r=this.findDeviceInList(e,i);!a&&r?n=!0:a&&r&&a.deviceId===r.deviceId&&a.groupId!==r.groupId&&(s=!0),n&&(await this.disable(),this.select(void 0)),s&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}))}findDeviceInList(e,t){return e.find(e=>e.deviceId===t&&e.kind===this.mediaDeviceKind)}}class lh{constructor(e="stop-tracks",t){this.disableMode=e,this.permissionName=t,this.statusSubject=new sF(void 0),this.mediaStreamSubject=new sF(void 0),this.selectedDeviceSubject=new sF(void 0),this.defaultConstraintsSubject=new sF(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(sz()),this.status$=this.statusSubject.asObservable().pipe(sz()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=new ss(e=>{let t;let i=()=>e.next(!0),n=!!navigator?.permissions?.query;if(oo()||!this.permissionName||!n)return oh(["devices"])("warn","Permissions can't be queried. Assuming granted."),i();let s=()=>{e.next("denied"!==t.state)};return navigator.permissions.query({name:this.permissionName}).then(e=>{(t=e).addEventListener("change",s),s()}).catch(()=>{i()}),()=>{t?.removeEventListener("change",s)}}).pipe(s$(1)),this.getCurrentValue=oL,this.setCurrentValue=oA}get status(){return this.getCurrentValue(this.status$)}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get mediaStream(){return this.getCurrentValue(this.mediaStream$)}setStatus(e){this.setCurrentValue(this.statusSubject,e)}setMediaStream(e){this.setCurrentValue(this.mediaStreamSubject,e),e&&this.setDevice(this.getDeviceIdFromStream(e))}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}get defaultConstraints(){return this.getCurrentValue(this.defaultConstraints$)}setDefaultConstraints(e){this.setCurrentValue(this.defaultConstraintsSubject,e)}}class lm extends lh{constructor(){super("stop-tracks","camera"),this.directionSubject=new sF(void 0),this.direction$=this.directionSubject.asObservable().pipe(sz())}get direction(){return this.getCurrentValue(this.direction$)}setDirection(e){this.setCurrentValue(this.directionSubject,e)}setMediaStream(e){if(super.setMediaStream(e),e){let t=oo()?this.direction:e.getVideoTracks()[0]?.getSettings().facingMode==="environment"?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){return e.getVideoTracks()[0]?.getSettings().deviceId}}class lf extends ld{constructor(e){super(e,new lm,E.VIDEO),this.targetResolution={width:1280,height:720}}async selectDirection(e){this.state.setDirection(e),this.state.setDevice(void 0),await this.applySettingsToStream()}async flip(){let e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,this.enablePromise)try{await this.enablePromise}catch(e){this.logger("warn","could not apply target resolution",e)}if("enabled"===this.state.status){let{width:e,height:t}=this.state.mediaStream.getVideoTracks()[0]?.getSettings();(e!==this.targetResolution.width||t!==this.targetResolution.height)&&(await this.applySettingsToStream(),this.logger("debug",`${e}x${t} target resolution applied to media stream`))}}setPreferredCodec(e){this.preferredCodec=e}getDevices(){return ls()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&(e.facingMode="front"===this.state.direction?"user":"environment"),lc(e)}publishStream(e){return this.call.publishVideoStream(e,{preferredCodec:this.preferredCodec})}stopPublishStream(e){return this.call.stopPublish(E.VIDEO,e)}}class lg extends lh{constructor(){super("disable-tracks","microphone"),this.speakingWhileMutedSubject=new sF(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(sz())}get speakingWhileMuted(){return this.getCurrentValue(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){this.setCurrentValue(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){return e.getAudioTracks()[0]?.getSettings().deviceId}}let lv=(e,t,i={})=>{let{detectionFrequencyInMs:n=500,audioLevelThreshold:s=150,fftSize:a=128,destroyStreamOnStop:r=!0}=i,o=new AudioContext,c=o.createAnalyser();c.fftSize=a;let l=o.createMediaStreamSource(e);l.connect(c);let u=setInterval(()=>{let i=new Uint8Array(c.frequencyBinCount);c.getByteFrequencyData(i);let n=i.some(e=>e>=s),a=i.reduce((e,t)=>e+t,0)/i.length;e.getAudioTracks()[0]?.enabled?t({isSoundDetected:n,audioLevel:a>s?100:Math.round(a/s*100)}):t({isSoundDetected:!1,audioLevel:0})},n);return async function(){clearInterval(u),l.disconnect(),c.disconnect(),await o.close(),r&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})}},lb=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class lx{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});this.pc1.addEventListener("icecandidate",async e=>{await this.pc2.addIceCandidate(e.candidate)}),this.pc2.addEventListener("icecandidate",async e=>{await this.pc1.addIceCandidate(e.candidate)}),e.getTracks().forEach(t=>this.pc1.addTrack(t,e));let t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);let i=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(i),await this.pc2.setLocalDescription(i),e.getAudioTracks().forEach(e=>e.enabled=!1)}catch(e){console.error("Error connecting and negotiating between PeerConnections:",e)}}stop(){this.pc1.close(),this.pc2.close(),this.intervalId&&clearInterval(this.intervalId)}onSpeakingDetectedStateChange(e){return this.intervalId=setInterval(async()=>{let t=lb(await this.pc1.getStats()).find(e=>"media-source"===e.type&&"audio"===e.kind);if(t){let{audioLevel:i}=t;i&&(i>=.2?e({isSoundDetected:!0,audioLevel:i}):e({isSoundDetected:!1,audioLevel:0}))}},1e3),()=>{clearInterval(this.intervalId)}}}class ly extends ld{constructor(e){super(e,new lg,E.AUDIO),sM([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]).subscribe(async([e,t,i,n])=>{if(e!==N.JOINED){e===N.LEFT&&await this.stopSpeakingWhileMutedDetection();return}t.includes(s6.SEND_AUDIO)&&"disabled"===n?await this.startSpeakingWhileMutedDetection(i):await this.stopSpeakingWhileMutedDetection()})}getDevices(){return ln()}getStream(e){return lo(e)}publishStream(e){return this.call.publishAudioStream(e)}stopPublishStream(e){return this.call.stopPublish(E.AUDIO,e)}async startSpeakingWhileMutedDetection(e){if(await this.stopSpeakingWhileMutedDetection(),oo()){this.rnSpeechDetector=new lx,await this.rnSpeechDetector.start();let e=this.rnSpeechDetector?.onSpeakingDetectedStateChange(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)});this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector?.stop(),this.rnSpeechDetector=void 0}}else{let t=await this.getStream({deviceId:e});this.soundDetectorCleanup=lv(t,e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)})}}async stopSpeakingWhileMutedDetection(){if(this.soundDetectorCleanup){this.state.setSpeakingWhileMuted(!1);try{await this.soundDetectorCleanup()}finally{this.soundDetectorCleanup=void 0}}}}class lw extends lh{constructor(){super(...arguments),this.audioEnabledSubject=new sF(!0),this.settingsSubject=new sF(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(sz()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{let[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return this.getCurrentValue(this.audioEnabled$)}setAudioEnabled(e){this.setCurrentValue(this.audioEnabledSubject,e)}get settings(){return this.getCurrentValue(this.settings$)}setSettings(e){this.setCurrentValue(this.settingsSubject,e)}}class l_ extends ld{constructor(e){super(e,new lw,E.SCREEN_SHARE)}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(E.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(E.SCREEN_SHARE_AUDIO,!0)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=sU(e);return sj(e,i)}([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),ll(e)}publishStream(e){return this.call.publishScreenShareStream(e,{screenShareSettings:this.state.settings})}async stopPublishStream(e){await this.call.stopPublish(E.SCREEN_SHARE,e),await this.call.stopPublish(E.SCREEN_SHARE_AUDIO,e)}async select(e){throw Error("This method is not supported in for Screen Share")}}class lk{constructor(){this.selectedDeviceSubject=new sF(""),this.volumeSubject=new sF(1),this.isDeviceSelectionSupported=c6(),this.getCurrentValue=oL,this.setCurrentValue=oA,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(sz()),this.volume$=this.volumeSubject.asObservable().pipe(sz())}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get volume(){return this.getCurrentValue(this.volume$)}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}setVolume(e){this.setCurrentValue(this.volumeSubject,e)}}class lS{constructor(e){this.state=new lk,this.subscriptions=[],this.dispose=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},this.call=e,lu&&!oo()&&this.subscriptions.push(sM([lu,this.state.selectedDevice$]).subscribe(([e,t])=>{t&&(e.find(e=>e.deviceId===t&&"audiooutput"===e.kind)||this.select(""))}))}listDevices(){if(oo())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");return la()}select(e){if(oo())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");this.state.setDevice(e)}setVolume(e){if(oo())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(e&&(e<0||e>1))throw Error("Volume must be between 0 and 1");this.state.setVolume(e)}setParticipantVolume(e,t){if(oo())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(t&&(t<0||t>1))throw Error("Volume must be between 0 and 1, or undefined");this.call.state.updateParticipant(e,{audioVolume:t})}}class lE{constructor({type:e,id:t,streamClient:i,members:n,ownCapabilities:s,sortParticipantsBy:a,clientStore:r,ringing:o=!1,watching:c=!1}){var l;this.state=new o4,this.dynascaleManager=new cQ(this),this.permissionsContext=new c0,this.dispatcher=new ob,this.trackSubscriptionsSubject=new sF({type:j.MEDIUM,data:[]}),this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.on=(e,t)=>{if(ov(e))return this.dispatcher.on(e,t);let i=this.streamClient.on(e,e=>{e.call_cid&&e.call_cid===this.cid&&t(e)});return this.streamClientEventHandlers.set(t,i),()=>{this.off(e,t)}},this.off=(e,t)=>{if(ov(e))return this.dispatcher.off(e,t);let i=this.streamClientEventHandlers.get(t);i&&i()},this.leave=async({reject:e=!1,reason:t="user is leaving the call"}={})=>{let i=this.state.callingState;if(i===N.LEFT)throw Error("Cannot leave call that has already been left.");if(i===N.JOINING&&await this.assertCallJoined(),this.ringing){let t=this.state.remoteParticipants.length>0;this.isCreatedByMe&&!t?await this.reject():e&&i===N.RINGING&&await this.reject()}this.statsReporter?.stop(),this.statsReporter=void 0,this.sfuStatsReporter?.stop(),this.sfuStatsReporter=void 0,this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close(),this.publisher=void 0,this.sfuClient?.close(cg.NORMAL_CLOSURE,t),this.sfuClient=void 0,this.dispatcher.offAll(),this.state.setCallingState(N.LEFT),this.leaveCallHooks.forEach(e=>e()),this.clientStore.unregisterCall(this),this.camera.dispose(),this.microphone.dispose(),this.screenShare.dispose(),this.speaker.dispose();let n=[];this.camera.stopOnLeave&&n.push(this.camera.disable(!0)),this.microphone.stopOnLeave&&n.push(this.microphone.disable(!0)),this.screenShare.stopOnLeave&&n.push(this.screenShare.disable(!0)),await Promise.all(n)},this.get=async e=>{let t=await this.streamClient.get(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.getOrCreate=async e=>{let t=await this.streamClient.post(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.create=async e=>this.getOrCreate(e),this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async()=>this.streamClient.post(`${this.streamClientBasePath}/reject`),this.join=async e=>{let t,i,n,s;let a=this.state.callingState;if([N.JOINED,N.JOINING].includes(a))throw this.logger("warn","Join method called twice, you should only call this once"),Error("Illegal State: Already joined.");if(a===N.LEFT)throw Error("Illegal State: Cannot join already left call. Create a new Call instance to join a call.");let r=a===N.MIGRATING,o=a===N.RECONNECTING;this.state.setCallingState(N.JOINING),this.logger("debug","Starting join flow"),e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.ringing&&!this.isCreatedByMe&&await this.accept();try{if(this.sfuClient?.isFastReconnecting)n=this.publisher?.connectionConfiguration,t=this.sfuClient.sfuServer,i=this.sfuClient.token,s=this.sfuStatsReporter?.options;else{let a=await cF(this.streamClient,this.type,this.id,e);this.state.updateFromCallResponse(a.metadata),this.state.setMembers(a.members),this.state.setOwnCapabilities(a.ownCapabilities),n=a.connectionConfig,t=a.sfuServer,i=a.token,s=a.statsOptions}this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this))}catch(e){throw this.state.setCallingState(a),e}let c=this.sfuClient,l=this.sfuClient=new cg({dispatcher:this.dispatcher,sfuServer:t,token:i,sessionId:c?.sessionId}),u=async(i,n)=>{let s=this.state.callingState;if(s===N.MIGRATING||s===N.RECONNECTING)return;this.reconnectAttempts++,this.state.setCallingState("migrate"===i?N.MIGRATING:N.RECONNECTING),"migrate"===i?(this.logger("debug",`[Migration]: migrating call ${this.cid} away from ${t.edge_name}`),l.isMigratingAway=!0):this.logger("debug",`[Rejoin]: ${i} rejoin call ${this.cid} (${this.reconnectAttempts})...`);let a=this.state.localParticipant;if("fast"===i?l.close(cg.ERROR_CONNECTION_BROKEN,`attempting fast reconnect: ${n}`):"full"===i&&(await cl(cd(this.reconnectAttempts)),this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close({stopTracks:!1}),this.publisher=void 0,this.statsReporter?.stop(),this.statsReporter=void 0,this.sfuStatsReporter?.stop(),this.sfuStatsReporter=void 0,l.close(cg.NORMAL_CLOSURE,`attempting full reconnect: ${n}`)),await this.join({...e,..."migrate"===i&&{migrating_from:t.edge_name}}),"migrate"===i&&l.close(cg.NORMAL_CLOSURE,"attempting migration"),this.logger("info",`[Rejoin]: Attempt ${this.reconnectAttempts} successful!`),a&&"full"===i){let e;let{audioStream:t,videoStream:i,screenShareStream:n,screenShareAudioStream:s}=a;(n||s)&&(e=new MediaStream,n?.getVideoTracks().forEach(t=>{e?.addTrack(t)}),s?.getAudioTracks().forEach(t=>{e?.addTrack(t)})),t&&await this.publishAudioStream(t),i&&await this.publishVideoStream(i,{preferredCodec:this.camera.preferredCodec}),e&&await this.publishScreenShareStream(e),this.logger("info",`[Rejoin]: State restored. Attempt: ${this.reconnectAttempts}`)}};l.signalReady.then(()=>{let e=this.dispatcher.on("goAway",e=>{let{reason:t}=e;this.logger("info",`[Migration]: Going away from SFU... Reason: ${O[t]}`),u("migrate",O[t]).catch(e=>{this.logger("warn","[Migration]: Failed to migrate to another SFU.",e)})});l.signalWs.addEventListener("close",t=>{if(e(),t.code===cg.NORMAL_CLOSURE||t.code===cp.WS_POLICY_VIOLATION)return;let i=t.code===cp.WS_CLOSED_ABRUPTLY&&l.isMigratingAway,n=t.code===cp.WS_CLOSED_ABRUPTLY&&l.isFastReconnecting;if(!i&&!n&&t.code!==cg.ERROR_CONNECTION_BROKEN){if(this.reconnectAttempts<this.maxReconnectAttempts){l.isFastReconnecting=0===this.reconnectAttempts;let e=l.isFastReconnecting?"fast":"full";u(e,`SFU closed the WS with code: ${t.code}`).catch(t=>{this.logger("error",`[Rejoin]: ${e} rejoin failed for ${this.reconnectAttempts} times. Giving up.`,t),this.state.setCallingState(N.RECONNECTING_FAILED)})}else this.logger("error","[Rejoin]: Reconnect attempts exceeded. Giving up..."),this.state.setCallingState(N.RECONNECTING_FAILED)}})});let p=this.streamClient.on("connection.changed",async e=>{if("connection.changed"!==e.type||!e.online)return;p();let t=this.state.callingState;if(!(t===N.OFFLINE||t===N.RECONNECTING_FAILED))return;this.logger("info","[Rejoin]: Going online...");let i=!0;do{try{l.isFastReconnecting=i,await u(i?"fast":"full","Network: online");return}catch(e){this.logger("error",`[Rejoin][Network]: Rejoin failed for attempt ${this.reconnectAttempts}`,e)}await cl(cd(this.reconnectAttempts)),i=!1}while(this.reconnectAttempts<this.maxReconnectAttempts);this.logger("error","[Rejoin][Network]: Rejoin failed. Giving up."),this.state.setCallingState(N.RECONNECTING_FAILED)}),d=this.streamClient.on("connection.changed",e=>{"connection.changed"===e.type&&(e.online||(d(),this.state.setCallingState(N.OFFLINE)))});if(this.leaveCallHooks.add(()=>{p(),d()}),this.subscriber||(this.subscriber=new co({sfuClient:l,dispatcher:this.dispatcher,state:this.state,connectionConfig:n})),!this.publisher){let e=this.state.settings?.audio,t=!!e?.opus_dtx_enabled,i=!!e?.redundant_coding_enabled;this.publisher=new ca({sfuClient:l,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,isDtxEnabled:t,isRedEnabled:i})}this.statsReporter||(this.statsReporter=cW({subscriber:this.subscriber,publisher:this.publisher,state:this.state}));let h=oE();!this.sfuStatsReporter&&s&&(this.sfuStatsReporter=new cG(l,{clientDetails:h,options:s,subscriber:this.subscriber,publisher:this.publisher}),this.sfuStatsReporter.start());try{l.signalReady.catch(e=>this.logger("error","Signal ready failed",e)).then(()=>of("recvonly")).then(t=>{let i=oL(this.trackSubscriptionsSubject),n=r?{fromSfuId:e?.migrating_from||"",subscriptions:i.data||[],announcedTracks:this.publisher?.getCurrentTrackInfos()||[]}:void 0;return l.join({subscriberSdp:t||"",clientDetails:h,migration:n,fastReconnect:c?.isFastReconnecting??!1})});let{callState:t,reconnected:i}=await this.waitForJoinResponse();if(o&&this.logger("debug","[Rejoin] fast reconnected:",i),r)await this.subscriber.migrateTo(l,n),await this.publisher.migrateTo(l,n);else if(o){if(i)this.subscriber.setSfuClient(l),this.publisher.setSfuClient(l),await this.publisher.restartIce();else if(c?.isFastReconnecting)return await u("full","re-attempting").catch(e=>{this.logger("error","[Rejoin]: Rejoin failed forced full rejoin.",e)})}let s=t?.participants||[],a=t?.participantCount,p=t?.startedAt?as.toDate(t.startedAt):new Date,d=t?.pins??[];this.state.setParticipants(()=>{let e=this.state.getParticipantLookupBySessionId();return s.map(t=>{let i=e[t.sessionId];return Object.assign(t,i,{isLocalParticipant:t.sessionId===l.sessionId,viewportVisibilityState:i?.viewportVisibilityState??{videoTrack:P.UNKNOWN,screenShareTrack:P.UNKNOWN}})})}),this.state.setParticipantCount(a?.total||0),this.state.setAnonymousParticipantCount(a?.anonymous||0),this.state.setStartedAt(p),this.state.setServerSidePins(d),this.reconnectAttempts=0,this.state.setCallingState(N.JOINED);try{await this.initCamera({setStatus:!0}),await this.initMic({setStatus:!0})}catch(e){this.logger("warn","Camera and/or mic init failed during join call",e)}let{remoteParticipants:m}=this.state;m.length>0&&this.updateSubscriptions(m,j.FAST),this.logger("info",`Joined call ${this.cid}`)}catch(e){if(this.reconnectAttempts<this.maxReconnectAttempts)this.logger("error",`[Rejoin]: Rejoin ${this.reconnectAttempts} failed.`,e),await u("full","previous attempt failed"),this.logger("info",`[Rejoin]: Rejoin ${this.reconnectAttempts} successful!`);else throw this.logger("error",`[Rejoin]: Rejoin failed for ${this.reconnectAttempts} times. Giving up.`),this.state.setCallingState(N.RECONNECTING_FAILED),Error("Join failed")}},this.waitForJoinResponse=(e=5e3)=>new Promise((t,i)=>{let n=this.on("joinResponse",e=>{clearTimeout(s),n(),t(e)}),s=setTimeout(()=>{n(),i(Error('Waiting for "joinResponse" has timed out'))},e)}),this.publishVideoStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish video before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track to publish in the stream.");return}await this.publisher.publishStream(e,i,E.VIDEO,t)},this.publishAudioStream=async e=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish audio before join is completed"),Error("Call not joined yet.");let[t]=e.getAudioTracks();if(!t){this.logger("error","There is no audio track in the stream to publish");return}await this.publisher.publishStream(e,t,E.AUDIO)},this.publishScreenShareStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish screen share before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track in the screen share stream to publish");return}await this.publisher.publishStream(e,i,E.SCREEN_SHARE,t);let[n]=e.getAudioTracks();n&&await this.publisher.publishStream(e,n,E.SCREEN_SHARE_AUDIO,t)},this.stopPublish=async(e,t=!0)=>{this.logger("info",`stopPublish ${E[e]}, stop tracks: ${t}`),await this.publisher?.unpublishStream(e,t)},this.updateSubscriptionsPartial=(e,t,i=j.SLOW)=>{"video"===e?(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'videoTrack'`),e="videoTrack"):"screen"===e&&(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'screenShareTrack'`),e="screenShareTrack");let n=this.state.updateParticipants(Object.entries(t).reduce((t,[i,n])=>{n.dimension?.height&&(n.dimension.height=Math.ceil(n.dimension.height)),n.dimension?.width&&(n.dimension.width=Math.ceil(n.dimension.width));let s="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return s&&(t[i]={[s]:n.dimension}),t},{}));n&&this.updateSubscriptions(n,i)},this.updateSubscriptions=(e,t=j.SLOW)=>{let i=[];for(let t of e)!t.isLocalParticipant&&(t.videoDimension&&t.publishedTracks.includes(E.VIDEO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:E.VIDEO,dimension:t.videoDimension}),t.screenShareDimension&&t.publishedTracks.includes(E.SCREEN_SHARE)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:E.SCREEN_SHARE,dimension:t.screenShareDimension}),t.publishedTracks.includes(E.SCREEN_SHARE_AUDIO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:E.SCREEN_SHARE_AUDIO}));this.trackSubscriptionsSubject.next({type:t,data:i})},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.updatePublishQuality=async e=>this.publisher?.updateVideoPublishQuality(e),this.assertCallJoined=()=>new Promise(e=>{var t;this.state.callingState$.pipe(sW(e=>e!==N.JOINED,!0),(t=e=>e===N.JOINED,sC(function(e,i){var n=0;e.subscribe(sT(i,function(e){return t.call(void 0,e,n++)&&i.next(e)}))}))).subscribe(()=>e())}),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{let t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{let t=oj(e);if(!t)return;let i=[];for(let e of this.state.remoteParticipants)e.publishedTracks.includes(t)&&i.push(e.userId);return this.muteUser(i,e)},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.startTranscription=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_transcription`,e),this.stopTranscription=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`),this.requestPermissions=async e=>{let{permissions:t}=e;if(!t.every(e=>this.permissionsContext.canRequest(e)))throw Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async(e={},t)=>this.streamClient.post(`${this.streamClientBasePath}/go_live`,e,t),this.stopLive=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_live`,{}),this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.update=async e=>{let t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:i,members:n,own_capabilities:s}=t;return this.state.updateFromCallResponse(i),this.state.setMembers(n),this.state.setOwnCapabilities(s),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{clearTimeout(this.dropTimeout),this.leaveCallHooks.add(oD(this.state.settings$,e=>{if(!e||this.state.callingState!==N.RINGING)return;let t=e.ring.auto_cancel_timeout_ms;t<=0||(clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout(()=>{this.leave({reason:"ring: timeout"}).catch(e=>{this.logger("error","Failed to drop call",e)})},t))}))},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.queryTranscriptions=async()=>this.streamClient.get(`${this.streamClientBasePath}/transcriptions`),this.getCallStats=async e=>{let t=`${this.streamClientBasePath}/stats/${e}`;return this.streamClient.get(t)},this.submitFeedback=async(e,{reason:t,custom:i}={})=>{if(e<1||e>5)throw Error("Rating must be between 1 and 5");let n=this.sfuClient?.sessionId,s=this.state.session?.id;if(!s||!n)throw Error("Feedback can be submitted only in the context of a call session");let{sdkName:a,sdkVersion:r,...o}=cV(oE()),c=`${this.streamClientBasePath}/feedback/${s}`;return this.streamClient.post(c,{rating:e,reason:t,user_session_id:n,sdk:a,sdk_version:r,custom:{...i,"x-stream-platform-data":o}})},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=()=>{this.initCamera({setStatus:!1}),this.initMic({setStatus:!1})},this.trackElementVisibility=(e,t,i)=>this.dynascaleManager.trackElementVisibility(e,t,i),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,i)=>{let n=this.dynascaleManager.bindVideoElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindAudioElement=(e,t,i="audioTrack")=>{let n=this.dynascaleManager.bindAudioElement(e,t,i);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindCallThumbnailElement=(e,t={})=>{let i=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},n=oD(this.state.thumbnails$,t=>{if(!t)return;e.addEventListener("error",i);let n=new URL(t.image_url);n.searchParams.set("w",String(e.clientWidth)),n.searchParams.set("h",String(e.clientHeight)),e.src=n.toString()});return()=>{n(),e.removeEventListener("error",i)}},this.type=e,this.id=t,this.cid=`${e}:${t}`,this.ringingSubject=new sF(o),this.watching=c,this.streamClient=i,this.clientStore=r,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=oh(["Call"]);let u=c3.get(e),p=a||u.options.sortParticipantsBy;p&&this.state.setSortParticipantsBy(p),this.state.setMembers(n||[]),this.state.setOwnCapabilities(s||[]),this.state.setCallingState(o?N.RINGING:N.IDLE),this.on("all",e=>{this.state.updateFromEvent(e)}),this.leaveCallHooks.add(cU(this,this.state,this.dispatcher)),this.registerEffects(),this.leaveCallHooks.add(oD(this.trackSubscriptionsSubject.pipe((l=e=>(function(e,t,i){void 0===e&&(e=0),void 0===i&&(i=sY);var n=-1;return null!=t&&(sA(t)?i=t:n=t),new ss(function(t){var s,a=(s=e)instanceof Date&&!isNaN(s)?+e-i.now():e;a<0&&(a=0);var r=0;return i.schedule(function(){t.closed||(t.next(r++),0<=n?this.schedule(void 0,n):t.complete())},a)})})(e.type),sC(function(e,t){var i=!1,n=null,s=null,a=function(){if(null==s||s.unsubscribe(),s=null,i){i=!1;var e=n;n=null,t.next(e)}};e.subscribe(sT(t,function(e){null==s||s.unsubscribe(),i=!0,n=e,s=sT(t,a,nQ),sk(l(e)).subscribe(s)},function(){a(),t.complete()},void 0,function(){n=s=null}))})),sN(e=>e.data)),e=>this.sfuClient?.updateSubscriptions(e))),this.camera=new lf(this),this.microphone=new ly(this),this.speaker=new lS(this),this.screenShare=new l_(this)}registerEffects(){this.leaveCallHooks.add(oD(this.state.settings$,e=>{e&&this.permissionsContext.setCallSettings(e)})),this.leaveCallHooks.add(oD(this.state.ownCapabilities$,e=>{if(this.permissionsContext.setPermissions(e),this.publisher)for(let[e,t]of Object.entries({[s6.SEND_AUDIO]:E.AUDIO,[s6.SEND_VIDEO]:E.VIDEO,[s6.SCREENSHARE]:E.SCREEN_SHARE}))!this.permissionsContext.hasPermission(e)&&(this.publisher.isPublishing(t)||this.publisher.isLive(t))&&this.stopPublish(t).catch(e=>{this.logger("error",`Error stopping publish ${t}`,e)}).then(()=>{t===E.VIDEO&&"enabled"===this.camera.state.status&&this.camera.disable().catch(e=>this.logger("error","Error disabling camera after permission revoked",e)),t===E.AUDIO&&"enabled"===this.microphone.state.status&&this.microphone.disable().catch(e=>this.logger("error","Error disabling microphone after permission revoked",e))})})),this.leaveCallHooks.add(oD(this.state.blockedUserIds$,async e=>{if(!e||0===e.length)return;let t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave({reason:"user blocked"}))})),this.leaveCallHooks.add(oD(this.state.callingState$,e=>{this.ringing&&(e===N.JOINED||e===N.JOINING||e===N.LEFT)&&(clearTimeout(this.dropTimeout),this.dropTimeout=void 0)})),this.leaveCallHooks.add(oD(this.ringingSubject,e=>{e&&(this.scheduleAutoDrop(),this.state.callingState===N.IDLE&&this.state.setCallingState(N.RINGING),this.leaveCallHooks.add(cM(this)))}))}get ringing(){return oL(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}async initCamera(e){if(this.camera.enablePromise&&await this.camera.enablePromise,this.camera.disablePromise&&await this.camera.disablePromise,this.state.localParticipant?.videoStream||!this.permissionsContext.hasPermission("send-video"))return;if(!this.camera.state.direction&&!this.camera.state.selectedDevice){let e="front",t=this.state.settings?.video.camera_facing;t&&(e="front"===t?"front":"back"),this.camera.state.setDirection(e)}let t=this.state.settings?.video.target_resolution;t&&await this.camera.selectTargetResolution(t),e.setStatus&&("enabled"===this.camera.state.status&&this.camera.state.mediaStream&&!this.publisher?.isPublishing(E.VIDEO)&&await this.publishVideoStream(this.camera.state.mediaStream,{preferredCodec:this.camera.preferredCodec}),void 0===this.camera.state.status&&this.state.settings?.video.camera_default_on&&await this.camera.enable())}async initMic(e){this.microphone.enablePromise&&await this.microphone.enablePromise,this.microphone.disablePromise&&await this.microphone.disablePromise,!this.state.localParticipant?.audioStream&&this.permissionsContext.hasPermission("send-audio")&&e.setStatus&&("enabled"===this.microphone.state.status&&this.microphone.state.mediaStream&&!this.publisher?.isPublishing(E.AUDIO)&&await this.publishAudioStream(this.microphone.state.mediaStream),void 0===this.microphone.state.status&&this.state.settings?.audio.mic_default_on&&await this.microphone.enable())}}class lC{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=cm()}}let lT=async(e,t)=>{for(let i=0;i<3;i++){try{await nx.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch(e){await cl((i+1)*3e3);continue}break}};function lR(e){let{client:t}=e;return{ready_state:e.ws?.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:"browser",client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?navigator?.onLine:null,user_agent:"undefined"!=typeof navigator?navigator?.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}let lO=e=>void 0!==e.code,lI=e=>void 0!==e.error;class lP{constructor(e){this._log=(e,t={},i="info")=>{this.client.logger(i,"connection:"+e,{...t})},this.setClient=e=>{this.client=e},this._buildUrl=()=>{let e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"!==e.type||(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;let t=this.client.user;if(!t){this.client.logger("error","User not set, can't connect to WS");return}let i=this.client._getToken();if(!i){this.client.logger("error","Token not set, can't connect authenticate");return}let n={token:i,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}};this.authenticationSent=!0,this.ws?.send(JSON.stringify(n)),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});let i="string"==typeof t.data?JSON.parse(t.data):null;if(!this.isResolved&&i&&"connection.error"===i.type&&(this.isResolved=!0,i.error)){this.rejectPromise?.(this._errorFromWSEvent(i,!1));return}if(this.lastEvent=new Date,i&&("health.check"===i.type||"connection.ok"===i.type)&&this.scheduleNextPing(),i&&"connection.ok"===i.type&&(this.resolvePromise?.(i),this._setHealth(!0)),i&&"connection.error"===i.type&&i.error){let{code:e}=i.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==cp.TOKEN_EXPIRED||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}i&&this.client.dispatchEvent(i),this.scheduleConnectionCheck()},this.onclose=(e,t)=>{if(this.wsID===e){if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===cp.WS_CLOSED_SUCCESS){let e=Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectPromise?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()}},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=(e,t=!1)=>{if(e!==this.isHealthy){if(this.isHealthy=e,this.isHealthy||t){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(e,t=!0)=>{let i,n,s;lO(e)&&(i=e.code,n="unknown",s=e.reason),lI(e)&&(i=e.error.code,n=e.error.StatusCode,s=e.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${i}`,{event:e},"warn");let a=Error(`WS failed with code ${i} and reason - ${s}`);return a.code=i,a.StatusCode=n,a.isWSFailure=t,a},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{let e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch(e){}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{let e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.authenticationSent=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{let e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code!==cp.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){if(!e.isWSFailure)throw Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(i){if(t===e)throw Error(JSON.stringify({code:i.code,StatusCode:i.StatusCode,message:i.message,isWSFailure:i.isWSFailure}));await cl(50)}})(),(async()=>{throw await cl(e),this.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let{ws:i}=this;return i&&i.close&&i.readyState===i.OPEN?(t=new Promise(t=>{let n=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};i.onclose=n,setTimeout(n,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),i.close(cp.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=cm(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch(e){}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();let t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new(s3())(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);let i=await this.connectionOpen;if(this.isConnecting=!1,i)return this.connectionID=i.connection_id,this.client.resolveConnectionId?.(this.connectionID),this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(lT("ws_success_after_failure",lR(this)),this.client.insightMetrics.wsConsecutiveFailures=0),i}catch(e){if(this.isConnecting=!1,this._log("_connect() - Error - ",e),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;let t={...function(e){let t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(i=>{t[i]=Object.getOwnPropertyDescriptor(e,i)})}catch(e){return{error:"failed to serialize the error"}}return t}(e),...lR(this)};lT?.("ws_fatal",t)}throw this.client.rejectConnectionId?.(),e}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=cd(this.consecutiveFailures)),await cl(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===cp.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.removeAllListeners(),this?.ws?.close()}catch(e){}}}function lj(e){return"string"==typeof e}let lN=e=>(0,s4.JQ)(new Uint8Array(function(e,t){let i=[];if(lj(e)&&t&&lj(e)){for(let n=0,s=e.length;n<s;n++)if(e.charAt(n)){let s=t(e.charAt(n),n,e);i[n]=s}}else if(!lj(e)&&!(t&&lj(e))){for(let n=0,s=e.length;n<s;n++)if(n in e){let s=t(e[n],n,e);i[n]=s}}return i}(e,e=>e.charCodeAt(0)))),lL=e=>{let t={},i=String.fromCharCode,n=e.length,s,a=0,r,o=0,c,l="";for(s=0;s<64;s++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s)]=s;for(r=0;r<n;r++)for(a=(a<<6)+t[e.charAt(r)],o+=6;o>=8;)((c=a>>>(o-=8)&255)||r<n-2)&&(l+=i(c));return l};class lA{constructor(e){this.setTokenOrProvider=async(e,t,i)=>{this.validateToken(e,t,i),this.user=t,cu(e)&&(this.tokenProvider=e,this.type="provider"),"string"==typeof e&&(this.token=e,this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.user=void 0,this.loadTokenPromise=null},this.validateToken=(e,t,i)=>{if(!t||!i||e){if(!this.secret&&!e)throw Error("UserWithId token can not be empty");if(e&&"string"!=typeof e&&!cu(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(i&&""===e)return;let n=function(e){let t=e.split(".");return 3!==t.length?"":JSON.parse(lL(t[1])).user_id}(e);if(null!=e&&(null==n||""===n||!i&&n!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!=typeof this.tokenProvider){try{this.token=await this.tokenProvider()}catch(e){return t(Error(`Call to tokenProvider failed with message: ${e}`))}e(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token||this.user&&!this.token)return this.token;throw Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.loadTokenPromise=null,e&&(this.secret=e),this.type="static"}}let lD={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function lU(e){if(!e.code)return!1;let t=lD[`${e.code}`];return!!t&&t.retryable}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(L||(L={}));class lM{constructor(e){this._onlineStatusChanged=e=>{if(this._log(`_onlineStatusChanged() - ${e.type}`),"offline"===e.type){this._setState(L.Closed),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;return}"online"===e.type&&this.state===L.Closed&&this.connect(!0)},this._req=async(e,t,i)=>{this.cancelToken||e.close||(this.cancelToken=nx.CancelToken.source());try{let i=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...t,cancelToken:this.cancelToken?.token},params:e,publicEndpoint:!0});return this.consecutiveFailures=0,i}catch(n){if(this.consecutiveFailures+=1,i&&lU(n))return this._log("_req() - Retryable error, retrying request"),await cl(cd(this.consecutiveFailures)),this._req(e,t,i);throw n}},this._poll=async()=>{for(;this.state===L.Connected;)try{let e=await this._req({},{timeout:3e4},!0);if(e.events?.length)for(let t=0;t<e.events.length;t++)this.client.dispatchEvent(e.events[t])}catch(e){if(nx.isCancel(e)){this._log("_poll() - axios canceled request");return}if(46===e.code){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState(L.Disconnected),this.connect(!0);return}if(void 0!==e.code&&!lU(e)){this._setState(L.Closed);return}await cl(cd(this.consecutiveFailures))}},this.connect=async(e=!1)=>{if(this.state===L.Connecting){this._log("connect() - connecting already in progress",{reconnect:e},"warn");return}if(this.state===L.Connected){this._log("connect() - already connected and polling",{reconnect:e},"warn");return}this._setState(L.Connecting),this.connectionID=void 0;try{let{event:t}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},e);return this._setState(L.Connected),this.connectionID=t.connection_id,this.client.resolveConnectionId?.(),this.client.dispatchEvent(t),this._poll(),t}catch(e){throw this._setState(L.Closed),this.client.rejectConnectionId?.(),e}},this.isHealthy=()=>!!this.connectionID&&this.state===L.Connected,this.disconnect=async(e=2e3)=>{this._onlineStatusChanged,this._setState(L.Disconnected),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;let t=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:t},{timeout:e},!1),this._log("disconnect() - Closed connectionID")}catch(e){this._log("disconnect() - Failed",{err:e},"error")}},this.client=e,this.state=L.Init,this.consecutiveFailures=0,this._onlineStatusChanged}_log(e,t={},i="info"){this.client.logger(i,"WSConnectionFallback:"+e,{...t})}_setState(e){this._log(`_setState() - ${e}`),this.state===L.Connecting&&e===L.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===L.Closed||e===L.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}let lF=oh(["location"]),lB="https://hint.stream-io-video.com/",l$=async(e=lB,t=2e3)=>{let i=new AbortController,n=setTimeout(()=>i.abort(),t);try{let t=(await fetch(e,{method:"HEAD",signal:i.signal})).headers.get("x-amz-cf-pop")||"ERR";return lF("debug",`Location header: ${t}`),t.substring(0,3)}catch(t){return lF("warn",`Failed to get location hint from ${e}`,t),"ERR"}finally{clearTimeout(n)}};class lz{constructor(e,t){this.listeners={},this.nextRequestAbortController=null,this.devToken=e=>["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",lN(JSON.stringify({user_id:e})),"devtoken"].join("."),this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{let i=await this.locationHint;return i&&"ERR"!==i?i:(this.locationHint=l$(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID||this.wsFallback?.connectionID,this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(e,t)=>{if(!e.id)throw Error('The "id" field on the user is missing');if(this.userID===e.id&&this.setUserPromise)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&this.logger("warn",'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=e.id,this.anonymous=!1;let i=this._setToken(e,t,this.anonymous);this._setUser(e);let n=this.openConnection();this.setUserPromise=Promise.all([i,n]).then(e=>e[1]);try{return await this.setUserPromise}catch(e){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),e}},this._setToken=(e,t,i)=>this.tokenManager.setTokenOrProvider(t,e,i),this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>(null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([this.wsConnection?.disconnect(e),this.wsFallback?.disconnect(e)]),Promise.resolve()),this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");return this.wsConnection?.isConnecting&&this.wsPromise?(this.logger("info","client:openConnection() - connection already in progress"),this.wsPromise):(this.wsConnection?.isHealthy||this.wsFallback?.isHealthy())&&this._hasConnectionID()?(this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists"),Promise.resolve()):(this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.clientID=`${this.userID}--${cm()}`,this.wsPromise=this.connect(),this.wsPromise)},this._normalizeDate=e=>{if(e instanceof Date&&(e=e.toISOString()),""===e)throw Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),this.tokenManager.reset(),this.connectionIdPromise=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:{...e}},{publicEndpoint:!0});let t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise=void 0),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.anonymous=!0,await this._setToken(e,t,this.anonymous),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter(e=>e!==t)},this._logApiRequest=(e,t,i,n)=>{this.logger("trace",`client: ${e} - Request - ${t}`,{payload:i,config:n})},this._logApiResponse=(e,t,i)=>{this.logger("trace",`client:${e} - Response - url: ${t} > status ${i.status}`,{response:i})},this._logApiError=(e,t,i)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:i})},this.doAxiosRequest=async(e,t,i,n={})=>{n.publicEndpoint||await Promise.all([this.tokenManager.tokenReady(),this.guestUserCreatePromise,this.connectionIdPromise]);let s=this._enrichAxiosOptions(n);try{let n;switch(this._logApiRequest(e,t,i,s),e){case"get":n=await this.axiosInstance.get(t,s);break;case"delete":n=await this.axiosInstance.delete(t,s);break;case"post":n=await this.axiosInstance.post(t,i,s);break;case"put":n=await this.axiosInstance.put(t,i,s);break;case"patch":n=await this.axiosInstance.patch(t,i,s);break;case"options":n=await this.axiosInstance.options(t,s);break;default:throw Error("Invalid request type")}return this._logApiResponse(e,t,n),this.consecutiveFailures=0,this.handleResponse(n)}catch(a){if(a.client_request_id=s.headers?.["x-client-request-id"],this.consecutiveFailures+=1,a.response){if(this._logApiError(e,t,a.response),a.response.data.code===cp.TOKEN_EXPIRED&&!this.tokenManager.isStatic())return this.consecutiveFailures>1&&await cl(cd(this.consecutiveFailures)),await this.tokenManager.loadToken(),await this.doAxiosRequest(e,t,i,n);return this.handleResponse(a.response)}throw this._logApiError(e,t,a),a}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,i)=>this.doAxiosRequest("put",e,t,{params:i}),this.post=(e,t,i)=>this.doAxiosRequest("post",e,t,{params:i}),this.patch=(e,t,i)=>this.doAxiosRequest("patch",e,t,{params:i}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{let t;return t=new s5(`Stream error HTTP code: ${e.status}`),e.data&&e.data.code&&((t=Error(`Stream error code ${e.data.code}: ${e.data.message}`)).code=e.data.code),t.response=e,t.status=e.status,t},this.handleResponse=e=>{let t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(e.received_at||(e.received_at=new Date),this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(let t of this.listeners.all||[])t(e);for(let t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new lP(this);try{if(this.wsFallback)return await this.wsFallback.connect();return this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(e){if(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e)&&function(e){let t="undefined"!=typeof navigator?navigator:void 0;return t?"boolean"!=typeof t.onLine||t.onLine:(e("warn","isOnline failed to access window.navigator and assume browser is online"),!0)}(this.logger))return this.logger("warn","client:connect() - WS failed, fallback to longpoll"),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new lM(this),await this.wsFallback.connect();throw e}},this._sayHi=()=>{let e=cm(),t={headers:nP.from({"x-client-request-id":e})};this.doAxiosRequest("get",this.baseURL+"/hi",null,t).catch(t=>{this.options.enableInsights&&lT("http_hi_failed",{api_key:this.key,err:t,client_request_id:e})})},this.getUserAgent=()=>this.userAgent||`stream-video-javascript-client-${this.node?"node":"browser"}-0.7.1`,this.setUserAgent=e=>{this.userAgent=e},this._isUsingServerAuth=()=>!!this.secret,this._enrichAxiosOptions=(e={params:{},headers:{},config:{}})=>{let t=e.publicEndpoint&&!this.user?void 0:this._getToken(),i=null;return null!==this.nextRequestAbortController&&(i=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":cm()}),{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...e.params},headers:{...t?{Authorization:t}:void 0,"stream-auth-type":e.publicEndpoint&&!this.user?"anonymous":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...e.headers},...i?{signal:i}:{},...e.config,...this.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this._buildWSPayload=e=>JSON.stringify({user_id:this.userID,user_details:this._user,client_request_id:e}),this.createAbortControllerForNextRequest=()=>this.nextRequestAbortController=new AbortController,this.key=e,this.secret=t?.secret;let i=t||{browser:!1};this.browser=i.browser||!1,this.node=!this.browser,this.browser&&(this.locationHint=l$(t?.locationHintUrl,t?.locationHintTimeout)),this.options={timeout:5e3,withCredentials:!1,warmUp:!1,...i},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(iI()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`),this.axiosInstance=nx.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new lA(this.secret),this.consecutiveFailures=0,this.insightMetrics=new lC,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.logger=cu(i.logger)?i.logger:()=>null}}class lV{constructor(e,t){this.logLevel="warn",this.eventHandlersToUnregister=[],this.disconnectUser=async e=>{if(!this.streamClient.user&&!this.connectionPromise)return;let t=()=>this.streamClient.disconnectUser(e);this.disconnectionPromise=this.connectionPromise?this.connectionPromise.then(()=>t()):t(),this.disconnectionPromise.finally(()=>this.disconnectionPromise=void 0),await this.disconnectionPromise,this.eventHandlersToUnregister.forEach(e=>e()),this.eventHandlersToUnregister=[],this.writeableStateStore.setConnectedUser(void 0)},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new lE({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async(e={})=>{let t=await this.streamClient.post("/calls",e),i=t.calls.map(t=>{let i=new lE({streamClient:this.streamClient,id:t.call.id,type:t.call.type,members:t.members,ownCapabilities:t.own_capabilities,watching:e.watch,clientStore:this.writeableStateStore});return i.state.updateFromCallResponse(t.call),i.applyDeviceConfig(),e.watch&&this.writeableStateStore.registerCall(i),i});return{...t,calls:i}},this.queryCallStats=async(e={})=>this.streamClient.post("/call/stats",e),this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,i,n,s)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:s,...null!=n?{user_id:n}:{},...null!=i?{push_provider_name:i}:{}}),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.readOnlyStateStore.calls.find(t=>t.cid===e&&t.ringing);if(!t){let[i,n]=e.split(":");t=new lE({streamClient:this.streamClient,type:i,id:n,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>{let i=()=>this.streamClient.connectAnonymousUser(e,t);return this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise.finally(()=>this.connectionPromise=void 0),this.connectionPromise};let i=ou,n="warn";if("string"==typeof e?(n=t?.logLevel||n,i=t?.logger||i):(n=e.options?.logLevel||n,i=e.options?.logger||i),op(i,n),this.logger=oh(["client"]),"string"==typeof e)this.streamClient=new lz(e,{persistUserOnConnectionFailure:!0,...t,logLevel:n,logger:this.logger});else{this.streamClient=new lz(e.apiKey,{persistUserOnConnectionFailure:!0,...e.options,logLevel:n,logger:this.logger});let t=ow();t&&this.streamClient.setUserAgent(this.streamClient.getUserAgent()+`-video-${T[t.type].toLowerCase()}-sdk-${t.major}.${t.minor}.${t.patch}`)}if(this.writeableStateStore=new o6,this.readOnlyStateStore=new o5(this.writeableStateStore),"string"!=typeof e){let t=e.user,i=e.token||e.tokenProvider;t&&this.connectUser(t,i)}}get state(){return this.readOnlyStateStore}async connectUser(e,t){if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);let i=()=>this.streamClient.connectUser(e,t);"guest"===e.type&&(i=async()=>this.streamClient.connectGuestUser(e)),this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise?.finally(()=>this.connectionPromise=void 0);let n=await this.connectionPromise;return n?.me&&this.writeableStateStore.setConnectedUser(n.me),this.eventHandlersToUnregister.push(this.on("connection.changed",e=>{if(e.online){let e=this.writeableStateStore.calls.filter(e=>e.watching).map(e=>e.cid);this.logger("info",`Rewatching calls after connection changed ${e.join(", ")}`),e.length>0&&this.queryCalls({watch:!0,filter_conditions:{cid:{$in:e}},sort:[{field:"cid",direction:1}]}).catch(e=>{this.logger("error","Failed to re-watch calls",e)})}})),this.eventHandlersToUnregister.push(this.on("call.created",t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("warn","Received `call.created` sent by the current user");return}this.logger("info",`New call created and registered: ${i.cid}`);let s=new lE({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore});s.state.updateFromCallResponse(i),this.writeableStateStore.registerCall(s)})),this.eventHandlersToUnregister.push(this.on("call.ring",async t=>{let{call:i,members:n}=t;if(e.id===i.created_by.id){this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");return}let s=this.writeableStateStore.findCall(i.type,i.id);await s?.leave({reason:"cleaning-up in call.ring"});let a=new lE({streamClient:this.streamClient,type:i.type,id:i.id,members:n,clientStore:this.writeableStateStore,ringing:!0});a.state.updateFromCallResponse(i),await a.get(),this.writeableStateStore.registerCall(a)})),n}async addVoipDevice(e,t,i,n){return await this.addDevice(e,t,i,n,!0)}}var lW=i(3729),lq=i.t(lW,2);let lH={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class lG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||lH,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new lG(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new lG(this.logger,e)}}var lK=new lG;class lJ{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,s]=t;for(let t=0;t<s;t++)n.apply(n,[e,...i])})}}function lY(){let e,t;let i=new Promise((i,n)=>{e=i,t=n});return i.resolve=e,i.reject=t,i}function lX(e){return null==e?"":""+e}let lZ=/###/g;function lQ(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(lZ,"."):e}function s(){return!e||"string"==typeof e}let a="string"!=typeof t?t:t.split("."),r=0;for(;r<a.length-1;){if(s())return{};let t=n(a[r]);!e[t]&&i&&(e[t]=new i),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return s()?{}:{obj:e,k:n(a[r])}}function l0(e,t,i){let{obj:n,k:s}=lQ(e,t,Object);if(void 0!==n||1===t.length){n[s]=i;return}let a=t[t.length-1],r=t.slice(0,t.length-1),o=lQ(e,r,Object);for(;void 0===o.obj&&r.length;)a=`${r[r.length-1]}.${a}`,(o=lQ(e,r=r.slice(0,r.length-1),Object))&&o.obj&&void 0!==o.obj[`${o.k}.${a}`]&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=i}function l1(e,t){let{obj:i,k:n}=lQ(e,t);if(i)return i[n]}function l2(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var l3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function l4(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>l3[e]):e}class l6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}let l5=[" ",",","?","!",";"],l8=new l6(20);function l9(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let n=t.split(i),s=e;for(let e=0;e<n.length;){let t;if(!s||"object"!=typeof s)return;let a="";for(let r=e;r<n.length;++r)if(r!==e&&(a+=i),a+=n[r],void 0!==(t=s[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&r<n.length-1)continue;e+=r-e+1;break}s=t}return s}function l7(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class ue extends lJ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let n,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,r=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?n=e.split("."):(n=[e,t],i&&(Array.isArray(i)?n.push(...i):"string"==typeof i&&a?n.push(...i.split(a)):n.push(i)));let o=l1(this.data,n);return(!o&&!t&&!i&&e.indexOf(".")>-1&&(e=n[0],t=n[1],i=n.slice(2).join(".")),o||!r||"string"!=typeof i)?o:l9(this.data&&this.data[e]&&this.data[e][t],i,a)}addResource(e,t,i,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,r=[e,t];i&&(r=r.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(r=e.split("."),n=t,t=r[1]),this.addNamespaces(t),l0(this.data,r,n),s.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let n in i)("string"==typeof i[n]||"[object Array]"===Object.prototype.toString.apply(i[n]))&&this.addResource(e,t,n,i[n],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},r=[e,t];e.indexOf(".")>-1&&(r=e.split("."),n=i,i=t,t=r[1]),this.addNamespaces(t);let o=l1(this.data,r)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?function e(t,i,n){for(let s in i)"__proto__"!==s&&"constructor"!==s&&(s in t?"string"==typeof t[s]||t[s]instanceof String||"string"==typeof i[s]||i[s]instanceof String?n&&(t[s]=i[s]):e(t[s],i[s],n):t[s]=i[s]);return t}(o,i,s):o={...o,...i},l0(this.data,r,o),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var ut={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,n,s){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,i,n,s))}),t}};let ui={};class un extends lJ{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,i){e.forEach(e=>{t[e]&&(i[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=lK.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let i=this.resolve(e,t);return i&&void 0!==i.res}extractFromKey(e,t){let i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");let n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],a=i&&e.indexOf(i)>-1,r=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,i){t=t||"",i=i||"";let n=l5.filter(e=>0>t.indexOf(e)&&0>i.indexOf(e));if(0===n.length)return!0;let s=l8.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),a=!s.test(e);if(!a){let t=e.indexOf(i);t>0&&!s.test(e.substring(0,t))&&(a=!0)}return a}(e,i,n);if(a&&!r){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:s};let a=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(a[0])>-1)&&(s=a.shift()),e=a.join(n)}return"string"==typeof s&&(s=[s]),{key:e,namespaces:s}}translate(e,t,i){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let n=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:r}=this.extractFromKey(e[e.length-1],t),o=r[r.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){let e=t.nsSeparator||this.options.nsSeparator;return n?{res:`${o}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:`${o}${e}${a}`}return n?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:a}let u=this.resolve(e,t),p=u&&u.res,d=u&&u.usedKey||a,h=u&&u.exactUsedKey||a,m=Object.prototype.toString.apply(p),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,v="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(g&&p&&v&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(m)&&!("string"==typeof f&&"[object Array]"===m)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,p,{...t,ns:r}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(s){let e="[object Array]"===m,i=e?[]:{},n=e?h:d;for(let e in p)if(Object.prototype.hasOwnProperty.call(p,e)){let a=`${n}${s}${e}`;i[e]=this.translate(a,{...t,joinArrays:!1,ns:r}),i[e]===a&&(i[e]=p[e])}p=i}}else if(g&&"string"==typeof f&&"[object Array]"===m)(p=p.join(f))&&(p=this.extendTranslation(p,e,t,i));else{let n=!1,r=!1,l=void 0!==t.count&&"string"!=typeof t.count,d=un.hasDefaultValue(t),h=l?this.pluralResolver.getSuffix(c,t.count,t):"",m=t.ordinal&&l?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",f=l&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=f&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${m}`]||t.defaultValue;!this.isValidLookup(p)&&d&&(n=!0,p=g),this.isValidLookup(p)||(r=!0,p=a);let v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:p,b=d&&g!==p&&this.options.updateMissing;if(r||n||b){if(this.logger.log(b?"updateKey":"missingKey",c,o,a,b?g:p),s){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let n=(e,i,n)=>{let s=d&&n!==p?n:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,i,s,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,i,s,b,t),this.emit("missingKey",e,o,i,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach(e=>{let i=this.pluralResolver.getSuffixes(e,t);f&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>i.indexOf(`${this.options.pluralSeparator}zero`)&&i.push(`${this.options.pluralSeparator}zero`),i.forEach(i=>{n([e],a+i,t[`defaultValue${i}`]||g)})}):n(e,a,g))}p=this.extendTranslation(p,e,t,u,i),r&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${o}:${a}`),(r||n)&&this.options.parseMissingKeyHandler&&(p="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${a}`:a,n?p:void 0):this.options.parseMissingKeyHandler(p))}return n?(u.res=p,u.usedParams=this.getUsedParamsDetails(t),u):p}extendTranslation(e,t,i,n,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){let r;i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let o="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){let t=e.match(this.interpolator.nestingRegexp);r=t&&t.length}let c=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,i.lng||this.language,i),o){let t=e.match(this.interpolator.nestingRegexp);r<(t&&t.length)&&(i.nest=!1)}!i.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(i.lng=n.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return s&&s[0]===n[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):a.translate(...n,t)},i)),i.interpolation&&this.interpolator.reset()}let r=i.postProcess||this.options.postProcess,o="string"==typeof r?[r]:r;return null!=e&&o&&o.length&&!1!==i.applyPostProcessor&&(e=ut.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t,i,n,s,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let o=this.extractFromKey(e,r),c=o.key;i=c;let l=o.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));let u=void 0!==r.count&&"string"!=typeof r.count,p=u&&!r.ordinal&&0===r.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==r.context&&("string"==typeof r.context||"number"==typeof r.context)&&""!==r.context,h=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);l.forEach(e=>{this.isValidLookup(t)||(a=e,!ui[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ui[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(i=>{let a;if(this.isValidLookup(t))return;s=i;let o=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,c,i,e,r);else{let e;u&&(e=this.pluralResolver.getSuffix(i,r.count,r));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(c+e),r.ordinal&&0===e.indexOf(n)&&o.push(c+e.replace(n,this.options.pluralSeparator)),p&&o.push(c+t)),d){let i=`${c}${this.options.contextSeparator}${r.context}`;o.push(i),u&&(o.push(i+e),r.ordinal&&0===e.indexOf(n)&&o.push(i+e.replace(n,this.options.pluralSeparator)),p&&o.push(i+t))}}for(;a=o.pop();)this.isValidLookup(t)||(n=a,t=this.getResource(i,e,a,r))}))})}),{res:t,usedKey:i,exactUsedKey:n,usedLng:s,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,i=t?e.replace:e;if(t&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!t)for(let e of(i={...i},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete i[e];return i}static hasDefaultValue(e){let t="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}function us(e){return e.charAt(0).toUpperCase()+e.slice(1)}class ua{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=lK.create("languageUtils")}getScriptPartFromCode(e){if(!(e=l7(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=l7(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(e=>e.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=us(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=us(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=us(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let i=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&(e.indexOf("-")>0&&0>i.indexOf("-")&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){let i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],s=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):"string"==typeof e&&s(this.formatLanguageCode(e)),i.forEach(e=>{0>n.indexOf(e)&&s(this.formatLanguageCode(e))}),n}}let ur=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],uo={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},uc=["v1","v2","v3"],ul=["v4"],uu={zero:0,one:1,two:2,few:3,many:4,other:5};class up{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=lK.create("pluralResolver"),(!this.options.compatibilityJSON||ul.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return ur.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:uo[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(l7("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((e,t)=>uu[e]-uu[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):i.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),n=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));let s=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!uc.includes(this.options.compatibilityJSON)}}function ud(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=function(e,t,i){let n=l1(e,i);return void 0!==n?n:l1(t,i)}(e,t,i);return!a&&s&&"string"==typeof i&&void 0===(a=l9(e,i,n))&&(a=l9(t,i,n)),a}class uh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=lK.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let t=e.interpolation;this.escape=void 0!==t.escape?t.escape:l4,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?l2(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?l2(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?l2(t.nestingPrefix):t.nestingPrefixEscaped||l2("$t("),this.nestingSuffix=t.nestingSuffix?l2(t.nestingSuffix):t.nestingSuffixEscaped||l2(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let s,a,r;let o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}let l=e=>{if(0>e.indexOf(this.formatSeparator)){let s=ud(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(s,void 0,i,{...n,...t,interpolationkey:e}):s}let s=e.split(this.formatSeparator),a=s.shift().trim(),r=s.join(this.formatSeparator).trim();return this.format(ud(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),r,i,{...n,...t,interpolationkey:a})};this.resetRegExp();let u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,p=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>c(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?c(this.escape(e)):c(e)}].forEach(t=>{for(r=0;s=t.regex.exec(e);){let i=s[1].trim();if(void 0===(a=l(i))){if("function"==typeof u){let t=u(e,s,n);a="string"==typeof t?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,i))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${i} for interpolating ${e}`),a=""}else"string"==typeof a||this.useRawValueToEscape||(a=lX(a));let o=t.safeValue(a);if(e=e.replace(s[0],o),p?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,++r>=this.maxReplaces)break}}),e}nest(e,t){let i,n,s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function r(e,t){let i=this.nestingOptionsSeparator;if(0>e.indexOf(i))return e;let n=e.split(RegExp(`${i}[ ]*{`)),a=`{${n[1]}`;e=n[0];let r=(a=this.interpolate(a,s)).match(/'/g),o=a.match(/"/g);(r&&r.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{s=JSON.parse(a),t&&(s={...t,...s})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${a}`}return delete s.defaultValue,e}for(;i=this.nestingRegexp.exec(e);){let o=[];(s=(s={...a}).replace&&"string"!=typeof s.replace?s.replace:s).applyPostProcessor=!1,delete s.defaultValue;let c=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){let e=i[1].split(this.formatSeparator).map(e=>e.trim());i[1]=e.shift(),o=e,c=!0}if((n=t(r.call(this,i[1].trim(),s),s))&&i[0]===e&&"string"!=typeof n)return n;"string"!=typeof n&&(n=lX(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),c&&(n=o.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}function um(e){let t={};return function(i,n,s){let a=n+JSON.stringify(s),r=t[a];return r||(r=e(l7(n),s),t[a]=r),r(i)}}class uf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=lK.create("formatter"),this.options=e,this.formats={number:um((e,t)=>{let i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)}),currency:um((e,t)=>{let i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)}),datetime:um((e,t)=>{let i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)}),relativetime:um((e,t)=>{let i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")}),list:um((e,t)=>{let i=new Intl.ListFormat(e,{...t});return e=>i.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=t.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=um(t)}format(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{let{formatName:s,formatOptions:a}=function(e){let t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let s=n[1].substring(0,n[1].length-1);"currency"===t&&0>s.indexOf(":")?i.currency||(i.currency=s.trim()):"relativetime"===t&&0>s.indexOf(":")?i.range||(i.range=s.trim()):s.split(";").forEach(e=>{if(!e)return;let[t,...n]=e.split(":"),s=n.join(":").trim().replace(/^'+|'+$/g,"");i[t.trim()]||(i[t.trim()]=s),"false"===s&&(i[t.trim()]=!1),"true"===s&&(i[t.trim()]=!0),isNaN(s)||(i[t.trim()]=parseInt(s,10))})}return{formatName:t,formatOptions:i}}(t);if(this.formats[s]){let t=e;try{let r=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},o=r.locale||r.lng||n.locale||n.lng||i;t=this.formats[s](e,o,{...a,...n,...r})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${s}`),e},e)}}class ug extends lJ{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=lK.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,t,i,n){let s={},a={},r={},o={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let r=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[r]=2:this.state[r]<0||(1===this.state[r]?void 0===a[r]&&(a[r]=!0):(this.state[r]=1,n=!1,void 0===a[r]&&(a[r]=!0),void 0===s[r]&&(s[r]=!0),void 0===o[t]&&(o[t]=!0)))}),n||(r[e]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(r),toLoadNamespaces:Object.keys(o)}}loaded(e,t,i){let n=e.split("|"),s=n[0],a=n[1];t&&this.emit("failedLoading",s,a,t),i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;let r={};this.queue.forEach(i=>{(function(e,t,i,n){let{obj:s,k:a}=lQ(e,t,Object);s[a]=s[a]||[],n&&(s[a]=s[a].concat(i)),n||s[a].push(i)})(i.loaded,[s],a),void 0!==i.pending[e]&&(delete i.pending[e],i.pendingCount--),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(e=>{r[e]||(r[e]={});let t=i.loaded[e];t.length&&t.forEach(t=>{void 0===r[e][t]&&(r[e][t]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",r),this.queue=this.queue.filter(e=>!e.done)}read(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:s,callback:a});return}this.readingCalls++;let r=(r,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(r&&o&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,2*s,a)},s);return}a(r,o)},o=this.backend[i].bind(this.backend);if(2===o.length){try{let i=o(e,t);i&&"function"==typeof i.then?i.then(e=>r(null,e)).catch(r):r(null,i)}catch(e){r(e)}return}return o(e,t,r)}prepareLoading(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let s=this.queueLoad(e,t,i,n);if(!s.toLoad.length)return s.pending.length||n(),null;s.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),n=i[0],s=i[1];this.read(n,s,"read",void 0,void 0,(i,a)=>{i&&this.logger.warn(`${t}loading namespace ${s} for language ${n} failed`,i),!i&&a&&this.logger.log(`${t}loaded namespace ${s} for language ${n}`,a),this.loaded(e,i,a)})}saveMissing(e,t,i,n,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=i&&""!==i){if(this.backend&&this.backend.create){let o={...a,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let s;(s=5===c.length?c(e,t,i,n,o):c(e,t,i,n))&&"function"==typeof s.then?s.then(e=>r(null,e)).catch(r):r(null,s)}catch(e){r(e)}else c(e,t,i,n,r,o)}e&&e[0]&&this.store.addResource(e[0],t,i,n)}}}function uv(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let i=e[3]||e[2];Object.keys(i).forEach(e=>{t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ub(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ux(){}class uy extends lJ{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ub(e),this.services={},this.logger=lK,this.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(i=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let n=uv();function s(e){return e?"function"==typeof e?new e:e:null}if(this.options={...n,...this.options,...ub(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?lK.init(s(this.modules.logger),this.options):lK.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=uf);let i=new ua(this.options);this.store=new ue(this.options.resources,this.options);let a=this.services;a.logger=lK,a.resourceStore=this.store,a.languageUtils=i,a.pluralResolver=new up(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(a.formatter=s(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new uh(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ug(s(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit(t,...n)}),this.modules.languageDetector&&(a.languageDetector=s(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=s(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new un(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,i||(i=ux),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let a=lY(),r=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),i(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?r():setTimeout(r,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ux,i=t,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return i();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};n?t(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),i(e)})}else i(null)}reloadResources(e,t,i){let n=lY();return e||(e=this.languages),t||(t=this.options.ns),i||(i=ux),this.services.backendConnector.reload(e,t,e=>{n.resolve(),i(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ut.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;let n=lY();this.emit("languageChanging",e);let s=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(s(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(e,function(){return i.t(...arguments)})},r=t=>{e||t||!this.services.languageDetector||(t=[]);let i="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);i&&(this.language||s(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(i)),this.loadResources(i,e=>{a(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),n}getFixedT(e,t,i){var n=this;let s=function(e,t){let a,r;if("object"!=typeof t){for(var o=arguments.length,c=Array(o>2?o-2:0),l=2;l<o;l++)c[l-2]=arguments[l];a=n.options.overloadTranslationOptionHandler([e,t].concat(c))}else a={...t};a.lng=a.lng||s.lng,a.lngs=a.lngs||s.lngs,a.ns=a.ns||s.ns,a.keyPrefix=a.keyPrefix||i||s.keyPrefix;let u=n.options.keySeparator||".";return r=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${u}${e}`):a.keyPrefix?`${a.keyPrefix}${u}${e}`:e,n.t(r,a)};return"string"==typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let a=(e,t)=>{let i=this.services.backendConnector.state[`${e}|${t}`];return -1===i||2===i};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!n||a(s,e)))}loadNamespaces(e,t){let i=lY();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){let i=lY();"string"==typeof e&&(e=[e]);let n=this.options.preload||[],s=e.filter(e=>0>n.indexOf(e));return s.length?(this.options.preload=n.concat(s),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new ua(uv())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new uy(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ux,i=e.forkResourceStore;i&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},s=new uy(n);return(void 0!==e.debug||void 0!==e.prefix)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(e=>{s[e]=this[e]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new ue(this.store.data,n),s.services.resourceStore=s.store),s.translator=new un(s.services,n),s.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];s.emit(e,...i)}),s.init(n,t),s.translator.options=n,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let uw=uy.createInstance();uw.createInstance=uy.createInstance,uw.createInstance,uw.dir,uw.init,uw.loadResources,uw.reloadResources,uw.use,uw.changeLanguage,uw.getFixedT,uw.t,uw.exists,uw.setDefaultNamespace,uw.hasLoadedNamespace,uw.loadNamespaces,uw.loadLanguages;let u_=(0,lW.createContext)(void 0),uk=()=>(0,lW.useContext)(u_),uS="stream-video",uE={debug:!1,currentLanguage:"en",fallbackLanguage:!1},uC=Object.entries({}).reduce((e,[t,i])=>(e[t]={[uS]:i},e),{}),uT=e=>e;class uR{constructor(e={}){this.t=uT,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;let i="undefined"!=typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||i),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=({lng:e,translations:t})=>{this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(e,uS,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);let{debug:t=uE.debug,currentLanguage:i=uE.currentLanguage,fallbackLanguage:n=uE.fallbackLanguage,translationsOverrides:s}=e;this.i18nInstance=uw.createInstance({debug:t,defaultNS:uS,fallbackLng:n,interpolation:{escapeValue:!1},keySeparator:!1,lng:i,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:uC}),s&&this.i18nInstance.on("initialized",()=>{Object.entries(s).forEach(([e,t])=>{this.registerTranslationsForLanguage({lng:e,translations:t})})})}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}let uO=(0,lW.createContext)({t:uT}),uI=({children:e,...t})=>{let{i18n:i,t:n}=uP(t);return(0,V.jsx)(uO.Provider,{value:{t:n,i18n:i},children:e})},uP=({i18nInstance:e,language:t,fallbackLanguage:i,translationsOverrides:n})=>{let[s]=(0,lW.useState)(()=>e||new uR({currentLanguage:t,fallbackLanguage:i,translationsOverrides:n})),[a,r]=(0,lW.useState)(()=>uT);return(0,lW.useEffect)(()=>{let{isInitialized:e}=s;if(!e){s.init().then(e=>r(()=>e.i18nInstance.t));return}t&&s?.currentLanguage!==t&&s.changeLanguage(t).catch(e=>{console.log("Error while changing language",e)})},[s,e,t,n]),{i18n:s,t:a}},uj=()=>(0,lW.useContext)(uO),uN=(0,lW.createContext)(void 0),uL=({children:e,client:t,i18nInstance:i,language:n,translationsOverrides:s})=>(0,V.jsx)(uN.Provider,{value:t,children:(0,V.jsx)(uI,{i18nInstance:i,language:n,translationsOverrides:s,children:e})}),uA=()=>(0,lW.useContext)(uN),uD=e=>{let[t,i]=(0,lW.useState)(()=>oU.getCurrentValue(e));return(0,lW.useEffect)(()=>{let t=e.subscribe(i);return()=>{t.unsubscribe()}},[e]),t},uU=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",uM=()=>{let e=uk();return e?e.state:(console.warn('You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.'),new o4)},uF=()=>{let{ownCapabilities$:e}=uM();return uD(e)};var uB=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{let{anonymousParticipantCount$:e}=uM();return uD(e)},useCallBlockedUserIds:()=>{let{blockedUserIds$:e}=uM();return uD(e)},useCallCallingState:()=>{let{callingState$:e}=uM();return uD(e)},useCallCreatedAt:()=>{let{createdAt$:e}=uM();return uD(e)},useCallCreatedBy:()=>{let{createdBy$:e}=uM();return uD(e)},useCallCustomData:()=>{let{custom$:e}=uM();return uD(e)},useCallEgress:()=>{let{egress$:e}=uM();return uD(e)},useCallEndedAt:()=>{let{endedAt$:e}=uM();return uD(e)},useCallEndedBy:()=>{let{endedBy$:e}=uM();return uD(e)},useCallIngress:()=>{let{ingress$:e}=uM();return uD(e)},useCallMembers:()=>{let{members$:e}=uM();return uD(e)},useCallSession:()=>{let{session$:e}=uM();return uD(e)},useCallSettings:()=>{let{settings$:e}=uM();return uD(e)},useCallStartedAt:()=>{let{startedAt$:e}=uM();return uD(e)},useCallStartsAt:()=>{let{startsAt$:e}=uM();return uD(e)},useCallState:uM,useCallStatsReport:()=>{let{callStatsReport$:e}=uM();return uD(e)},useCallThumbnail:()=>{let{thumbnails$:e}=uM();return uD(e)},useCallUpdatedAt:()=>{let{updatedAt$:e}=uM();return uD(e)},useCameraState:()=>{let{camera:e}=uk(),t=(0,lW.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=uD(i.status$),s=uD(i.direction$),a=uD(i.mediaStream$),r=uD(i.selectedDevice$);return{camera:e,status:n,isEnabled:"enabled"===n,direction:s,mediaStream:a,devices:uD(t),hasBrowserPermission:uD(i.hasBrowserPermission$),selectedDevice:r,isMute:"enabled"!==n}},useDominantSpeaker:()=>{let{dominantSpeaker$:e}=uM();return uD(e)},useHasOngoingScreenShare:()=>{let{hasOngoingScreenShare$:e}=uM();return uD(e)},useHasPermissions:(...e)=>{let t=uF();return e.every(e=>t?.includes(e))},useIsCallHLSBroadcastingInProgress:()=>{let{egress$:e}=uM(),t=uD(e);return!!t&&t.broadcasting},useIsCallLive:()=>{let{backstage$:e}=uM();return!uD(e)},useIsCallRecordingInProgress:()=>{let{recording$:e}=uM();return uD(e)},useIsCallTranscribingInProgress:()=>{let{transcribing$:e}=uM();return uD(e)},useLocalParticipant:()=>{let{localParticipant$:e}=uM();return uD(e)},useMicrophoneState:()=>{let{microphone:e}=uk(),t=(0,lW.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,n=uD(i.status$),s=uD(i.mediaStream$),a=uD(i.selectedDevice$),r=uD(t);return{microphone:e,status:n,isEnabled:"enabled"===n,mediaStream:s,devices:r,selectedDevice:a,hasBrowserPermission:uD(i.hasBrowserPermission$),isSpeakingWhileMuted:uD(i.speakingWhileMuted$),isMute:"enabled"!==n}},useOwnCapabilities:uF,useParticipantCount:()=>{let{participantCount$:e}=uM();return uD(e)},useParticipants:({sortBy:e}={})=>{let{participants$:t}=uM(),i=uD(t);return(0,lW.useMemo)(()=>e?[...i].sort(e):i,[i,e])},useRemoteParticipants:()=>{let{remoteParticipants$:e}=uM();return uD(e)},useScreenShareState:()=>{let{screenShare:e}=uk(),t=uD(e.state.status$),i=uD(e.state.mediaStream$);return{screenShare:e,mediaStream:i,status:t,isMute:"enabled"!==t}},useSpeakerState:()=>{if(uU())throw Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");let{speaker:e}=uk(),t=uD((0,lW.useMemo)(()=>e.listDevices(),[e])),i=uD(e.state.selectedDevice$);return{speaker:e,devices:t,selectedDevice:i,isDeviceSelectionSupported:e.state.isDeviceSelectionSupported}}});let u$=()=>{let e=uA();if(!e)throw Error("StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.");return e.readOnlyStateStore},uz=()=>{let{connectedUser$:e}=u$();return uD(e)},uV=()=>uB,uW=({canRequestOnly:e,hasPermissionsOnly:t,requiredGrants:i,requireAll:n=!0,children:s})=>{let a=uk(),{useCallSettings:r,useOwnCapabilities:o}=uV(),c=o(),l=r(),u=i[n?"every":"some"](e=>c?.includes(e));if(t)return u?(0,V.jsx)(V.Fragment,{children:s}):null;let p=i.some(e=>a?.permissionsContext.canRequest(e,l));return e?p?(0,V.jsx)(V.Fragment,{children:s}):null:u||p?(0,V.jsx)(V.Fragment,{children:s}):null};var uq=i(56815);String.raw;!function(e){e.LOW="low",e.HIGH="high"}(A||(A={}));var uH=i(21171);function uG(e){let t=e.activeElement;for(;(null==(i=t)||null==(i=i.shadowRoot)?void 0:i.activeElement)!=null;){var i;t=t.shadowRoot.activeElement}return t}function uK(e,t){if(!e||!t)return!1;let i=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(i&&(0,uH.Zq)(i)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function uJ(){let e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function uY(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}function uX(e){return 0===e.mozInputSource&&!!e.isTrusted||(u0()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function uZ(e){return!uY().includes("jsdom/")&&(!u0()&&0===e.width&&0===e.height||u0()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function uQ(){return/apple/i.test(navigator.vendor)}function u0(){let e=/android/i;return e.test(uJ())||e.test(uY())}function u1(e,t){let i=["mouse","pen"];return t||i.push("",void 0),i.includes(e)}function u2(e){return(null==e?void 0:e.ownerDocument)||document}function u3(e,t){return null!=t&&("composedPath"in e?e.composedPath().includes(t):null!=e.target&&t.contains(e.target))}function u4(e){return"composedPath"in e?e.composedPath()[0]:e.target}function u6(e){return(0,uH.Re)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function u5(e){e.preventDefault(),e.stopPropagation()}function u8(e){return!!e&&"combobox"===e.getAttribute("role")&&u6(e)}var u9=i(38668),u7=i(41714),pe='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',pt="undefined"==typeof Element,pi=pt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,pn=!pt&&Element.prototype.getRootNode?function(e){var t;return null==e?void 0:null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},ps=function e(t,i){void 0===i&&(i=!0);var n,s=null==t?void 0:null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===s||"true"===s||i&&t&&e(t.parentNode)},pa=function(e){var t,i=null==e?void 0:null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===i||"true"===i},pr=function(e,t,i){if(ps(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(pe));return t&&pi.call(e,pe)&&n.unshift(e),n=n.filter(i)},po=function e(t,i,n){for(var s=[],a=Array.from(t);a.length;){var r=a.shift();if(!ps(r,!1)){if("SLOT"===r.tagName){var o=r.assignedElements(),c=e(o.length?o:r.children,!0,n);n.flatten?s.push.apply(s,c):s.push({scopeParent:r,candidates:c})}else{pi.call(r,pe)&&n.filter(r)&&(i||!t.includes(r))&&s.push(r);var l=r.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(r),u=!ps(l,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(r));if(l&&u){var p=e(!0===l?r.children:l.children,!0,n);n.flatten?s.push.apply(s,p):s.push({scopeParent:r,candidates:p})}else a.unshift.apply(a,r.children)}}}return s},pc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},pl=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||pa(e))&&!pc(e)?0:e.tabIndex},pu=function(e,t){var i=pl(e);return i<0&&t&&!pc(e)?0:i},pp=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},pd=function(e){return"INPUT"===e.tagName},ph=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},pm=function(e){if(!e.name)return!0;var t,i=e.form||pn(e),n=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var s=ph(t,e.form);return!s||s===e},pf=function(e){var t,i,n,s,a,r,o,c=e&&pn(e),l=null===(t=c)||void 0===t?void 0:t.host,u=!1;if(c&&c!==e)for(u=!!(null!==(i=l)&&void 0!==i&&null!==(n=i.ownerDocument)&&void 0!==n&&n.contains(l)||null!=e&&null!==(s=e.ownerDocument)&&void 0!==s&&s.contains(e));!u&&l;)u=!!(null!==(r=l=null===(a=c=pn(l))||void 0===a?void 0:a.host)&&void 0!==r&&null!==(o=r.ownerDocument)&&void 0!==o&&o.contains(l));return u},pg=function(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return 0===i&&0===n},pv=function(e,t){var i=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var s=pi.call(e,"details>summary:first-of-type")?e.parentElement:e;if(pi.call(s,"details:not([open]) *"))return!0;if(i&&"full"!==i&&"legacy-full"!==i){if("non-zero-area"===i)return pg(e)}else{if("function"==typeof n){for(var a=e;e;){var r=e.parentElement,o=pn(e);if(r&&!r.shadowRoot&&!0===n(r))return pg(e);e=e.assignedSlot?e.assignedSlot:r||o===e.ownerDocument?r:o.host}e=a}if(pf(e))return!e.getClientRects().length;if("legacy-full"!==i)return!0}return!1},pb=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var n=t.children.item(i);if("LEGEND"===n.tagName)return!!pi.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1},px=function(e,t){var i,n,s;return!(pd(i=t)&&"radio"===i.type&&!pm(i)||0>pl(t))&&(n=e,!((s=t).disabled||ps(s)||pd(s)&&"hidden"===s.type||pv(s,n)||"DETAILS"===s.tagName&&Array.prototype.slice.apply(s.children).some(function(e){return"SUMMARY"===e.tagName})||pb(s)))},py=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},pw=function e(t){var i=[],n=[];return t.forEach(function(t,s){var a=!!t.scopeParent,r=a?t.scopeParent:t,o=pu(r,a),c=a?e(t.candidates):r;0===o?a?i.push.apply(i,c):i.push(r):n.push({documentOrder:s,tabIndex:o,item:t,isScope:a,content:c})}),n.sort(pp).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(i)},p_=function(e,t){return pw((t=t||{}).getShadowRoot?po([e],t.includeContainer,{filter:px.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:py}):pr(e,t.includeContainer,px.bind(null,t)))},pk=function(e,t){if(t=t||{},!e)throw Error("No node provided");return!1!==pi.call(e,pe)&&px(t,e)},pS=i(81202);let pE={...lq},pC=pE.useInsertionEffect||(e=>e());function pT(e){let t=lW.useRef(()=>{});return pC(()=>{t.current=e}),lW.useCallback(function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return null==t.current?void 0:t.current(...i)},[])}let pR="ArrowUp",pO="ArrowDown",pI="ArrowLeft",pP="ArrowRight";function pj(e,t,i){return Math.floor(e/t)!==i}function pN(e,t){return t<0||t>=e.current.length}function pL(e,t){return pD(e,{disabledIndices:t})}function pA(e,t){return pD(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function pD(e,t){let{startingIndex:i=-1,decrement:n=!1,disabledIndices:s,amount:a=1}=void 0===t?{}:t,r=e.current,o=s?e=>s.includes(e):e=>{let t=r[e];return null==t||t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled")},c=i;do c+=n?-a:a;while(c>=0&&c<=r.length-1&&o(c));return c}let pU=0;function pM(e,t){void 0===t&&(t={});let{preventScroll:i=!1,cancelPrevious:n=!0,sync:s=!1}=t;n&&cancelAnimationFrame(pU);let a=()=>null==e?void 0:e.focus({preventScroll:i});s?a():pU=requestAnimationFrame(a)}var pF="undefined"!=typeof document?lW.useLayoutEffect:lW.useEffect;function pB(e,t){let i=e.compareDocumentPosition(t);return i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS?1:0}let p$=lW.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function pz(e){let{children:t,elementsRef:i,labelsRef:n}=e,[s,a]=lW.useState(()=>new Map),r=lW.useCallback(e=>{a(t=>new Map(t).set(e,null))},[]),o=lW.useCallback(e=>{a(t=>{let i=new Map(t);return i.delete(e),i})},[]);return pF(()=>{let e=new Map(s);Array.from(e.keys()).sort(pB).forEach((t,i)=>{e.set(t,i)}),!function(e,t){if(e.size!==t.size)return!1;for(let[i,n]of e.entries())if(n!==t.get(i))return!1;return!0}(s,e)&&a(e)},[s]),lW.createElement(p$.Provider,{value:lW.useMemo(()=>({register:r,unregister:o,map:s,elementsRef:i,labelsRef:n}),[r,o,s,i,n])},t)}function pV(){return(pV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}let pW=!1,pq=0,pH=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pq++,pG=pE.useId||function(){let[e,t]=lW.useState(()=>pW?pH():void 0);return pF(()=>{null==e&&t(pH())},[]),lW.useEffect(()=>{pW=!0},[]),e},pK=lW.createContext(null),pJ=lW.createContext(null),pY=()=>{var e;return(null==(e=lW.useContext(pK))?void 0:e.id)||null},pX=()=>lW.useContext(pJ);function pZ(e){return"data-floating-ui-"+e}function pQ(e){let t=(0,lW.useRef)(e);return pF(()=>{t.current=e}),t}let p0=()=>{};function p1(e,t){let i=e.filter(e=>{var i;return e.parentId===t&&(null==(i=e.context)?void 0:i.open)}),n=i;for(;n.length;)n=e.filter(e=>{var t;return null==(t=n)?void 0:t.some(t=>{var i;return e.parentId===t.id&&(null==(i=e.context)?void 0:i.open)})}),i=i.concat(n);return i}let p2=new WeakMap,p3=new WeakSet,p4={},p6=0,p5=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,p8=e=>e&&(e.host||p8(e.parentNode)),p9=(e,t)=>t.map(t=>{if(e.contains(t))return t;let i=p8(t);return e.contains(i)?i:null}).filter(e=>null!=e);function p7(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);let n=u2(e[0]).body;return function(e,t,i,n){let s="data-floating-ui-inert",a=n?"inert":i?"aria-hidden":null,r=p9(t,e),o=new Set,c=new Set(r),l=[];p4[s]||(p4[s]=new WeakMap);let u=p4[s];return r.forEach(function e(t){!(!t||o.has(t))&&(o.add(t),t.parentNode&&e(t.parentNode))}),function e(t){!t||c.has(t)||Array.prototype.forEach.call(t.children,t=>{if(o.has(t))e(t);else{let e=a?t.getAttribute(a):null,i=null!==e&&"false"!==e,n=(p2.get(t)||0)+1,r=(u.get(t)||0)+1;p2.set(t,n),u.set(t,r),l.push(t),1===n&&i&&p3.add(t),1===r&&t.setAttribute(s,""),!i&&a&&t.setAttribute(a,"true")}})}(t),o.clear(),p6++,()=>{l.forEach(e=>{let t=(p2.get(e)||0)-1,i=(u.get(e)||0)-1;p2.set(e,t),u.set(e,i),t||(!p3.has(e)&&a&&e.removeAttribute(a),p3.delete(e)),i||e.removeAttribute(s)}),--p6||(p2=new WeakMap,p2=new WeakMap,p3=new WeakSet,p4={})}}(e.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,t,i)}let de=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function dt(e,t){let i=p_(e,de());"prev"===t&&i.reverse();let n=i.indexOf(uG(u2(e)));return i.slice(n+1)[0]}function di(){return dt(document.body,"next")}function dn(){return dt(document.body,"prev")}function ds(e,t){let i=t||e.currentTarget,n=e.relatedTarget;return!n||!uK(i,n)}let da={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function dr(e){"Tab"===e.key&&(e.target,clearTimeout(l))}let dc=lW.forwardRef(function(e,t){let[i,n]=lW.useState();pF(()=>(uQ()&&n("button"),document.addEventListener("keydown",dr),()=>{document.removeEventListener("keydown",dr)}),[]);let s={ref:t,tabIndex:0,role:i,"aria-hidden":!i||void 0,[pZ("focus-guard")]:"",style:da};return lW.createElement("span",pV({},e,s))}),dl=lW.createContext(null),du=pZ("portal");function dp(e){let{children:t,id:i,root:n=null,preserveTabOrder:s=!0}=e,a=function(e){void 0===e&&(e={});let{id:t,root:i}=e,n=pG(),s=dd(),[a,r]=lW.useState(null),o=lW.useRef(null);return pF(()=>()=>{null==a||a.remove(),queueMicrotask(()=>{o.current=null})},[a]),pF(()=>{if(o.current)return;let e=t?document.getElementById(t):null;if(!e)return;let i=document.createElement("div");i.id=n,i.setAttribute(du,""),e.appendChild(i),o.current=i,r(i)},[t,n]),pF(()=>{if(o.current)return;let e=i||(null==s?void 0:s.portalNode);e&&!(0,uH.kK)(e)&&(e=e.current),e=e||document.body;let a=null;t&&((a=document.createElement("div")).id=t,e.appendChild(a));let c=document.createElement("div");c.id=n,c.setAttribute(du,""),(e=a||e).appendChild(c),o.current=c,r(c)},[t,i,n,s]),a}({id:i,root:n}),[r,o]=lW.useState(null),c=lW.useRef(null),l=lW.useRef(null),u=lW.useRef(null),p=lW.useRef(null),d=!!r&&!r.modal&&r.open&&s&&!!(n||a);return lW.useEffect(()=>{if(a&&s&&(null==r||!r.modal))return a.addEventListener("focusin",e,!0),a.addEventListener("focusout",e,!0),()=>{a.removeEventListener("focusin",e,!0),a.removeEventListener("focusout",e,!0)};function e(e){a&&ds(e)&&("focusin"===e.type?function(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}:function(e){p_(e,de()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})})(a)}},[a,s,null==r?void 0:r.modal]),lW.createElement(dl.Provider,{value:lW.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:c,afterOutsideRef:l,beforeInsideRef:u,afterInsideRef:p,portalNode:a,setFocusManagerState:o}),[s,a])},d&&a&&lW.createElement(dc,{"data-type":"outside",ref:c,onFocus:e=>{if(ds(e,a)){var t;null==(t=u.current)||t.focus()}else{let e=dn()||(null==r?void 0:r.refs.domReference.current);null==e||e.focus()}}}),d&&a&&lW.createElement("span",{"aria-owns":a.id,style:da}),a&&(0,pS.createPortal)(t,a),d&&a&&lW.createElement(dc,{"data-type":"outside",ref:l,onFocus:e=>{if(ds(e,a)){var t;null==(t=p.current)||t.focus()}else{let t=di()||(null==r?void 0:r.refs.domReference.current);null==t||t.focus(),(null==r?void 0:r.closeOnFocusOut)&&(null==r||r.onOpenChange(!1,e.nativeEvent))}}}))}let dd=()=>lW.useContext(dl),dh=[];function dm(e){dh=dh.filter(e=>e.isConnected);let t=e;if(t&&"body"!==(0,uH.wk)(t)){if(!pk(t,de())){let e=p_(t,de())[0];if(!e)return;t=e}dh.push(t),dh.length>20&&(dh=dh.slice(-20))}}function df(){return dh.slice().reverse().find(e=>e.isConnected)}let dg=lW.forwardRef(function(e,t){return lW.createElement("button",pV({},e,{type:"button",ref:t,tabIndex:-1,style:da}))});function dv(e){let{context:t,children:i,disabled:n=!1,order:s=["content"],guards:a=!0,initialFocus:r=0,returnFocus:o=!0,modal:c=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:u=!0}=e,{open:p,refs:d,nodeId:h,onOpenChange:m,events:f,dataRef:g,elements:{domReference:v,floating:b}}=t,x="number"==typeof r&&r<0,y=u8(v)&&x,w=!p5()||a,_=pQ(s),k=pQ(r),S=pQ(o),E=pX(),C=dd(),T=lW.useRef(null),R=lW.useRef(null),O=lW.useRef(!1),I=lW.useRef(!1),P=null!=C,j=lW.useCallback(function(e){return void 0===e&&(e=b),e?p_(e,de()):[]},[b]),N=lW.useCallback(e=>{let t=j(e);return _.current.map(e=>v&&"reference"===e?v:b&&"floating"===e?b:t).filter(Boolean).flat()},[v,b,_,j]);function L(e){return!n&&l&&c?lW.createElement(dg,{ref:"start"===e?T:R,onClick:e=>m(!1,e.nativeEvent)},"string"==typeof l?l:"Dismiss"):null}lW.useEffect(()=>{if(n||!c)return;function e(e){if("Tab"===e.key){uK(b,uG(u2(b)))&&0===j().length&&!y&&u5(e);let t=N(),i=u4(e);"reference"===_.current[0]&&i===v&&(u5(e),e.shiftKey?pM(t[t.length-1]):pM(t[1])),"floating"===_.current[1]&&i===b&&e.shiftKey&&(u5(e),pM(t[0]))}}let t=u2(b);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[n,v,b,c,_,y,j,N]),lW.useEffect(()=>{if(!n&&u&&b&&(0,uH.Re)(v))return v.addEventListener("focusout",t),v.addEventListener("pointerdown",e),c||b.addEventListener("focusout",t),()=>{v.removeEventListener("focusout",t),v.removeEventListener("pointerdown",e),c||b.removeEventListener("focusout",t)};function e(){I.current=!0,setTimeout(()=>{I.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let i=!(uK(v,t)||uK(b,t)||uK(t,b)||uK(null==C?void 0:C.portalNode,t)||null!=t&&t.hasAttribute(pZ("focus-guard"))||E&&(p1(E.nodesRef.current,h).find(e=>{var i,n;return uK(null==(i=e.context)?void 0:i.elements.floating,t)||uK(null==(n=e.context)?void 0:n.elements.domReference,t)})||(function(e,t){var i;let n=[],s=null==(i=e.find(e=>e.id===t))?void 0:i.parentId;for(;s;){let t=e.find(e=>e.id===s);s=null==t?void 0:t.parentId,t&&(n=n.concat(t))}return n})(E.nodesRef.current,h).find(e=>{var i,n;return(null==(i=e.context)?void 0:i.elements.floating)===t||(null==(n=e.context)?void 0:n.elements.domReference)===t})));t&&i&&!I.current&&t!==df()&&(O.current=!0,m(!1,e))})}},[n,v,b,c,h,E,C,m,u]),lW.useEffect(()=>{var e;if(n)return;let t=Array.from((null==C||null==(e=C.portalNode)?void 0:e.querySelectorAll("["+pZ("portal")+"]"))||[]);if(b){let e=[b,...t,T.current,R.current,_.current.includes("reference")||y?v:null].filter(e=>null!=e),i=c||y?p7(e,w,!w):p7(e);return()=>{i()}}},[n,v,b,c,_,C,y,w]),pF(()=>{if(n||!b)return;let e=uG(u2(b));queueMicrotask(()=>{let t=N(b),i=k.current,n=("number"==typeof i?t[i]:i.current)||b,s=uK(b,e);x||s||!p||pM(n,{preventScroll:n===b})})},[n,p,b,x,N,k]),pF(()=>{if(n||!b)return;let e=!1,t=u2(b),i=uG(t),s=g.current;function a(t){let{reason:i,event:n,nested:s}=t;"escape-key"===i&&d.domReference.current&&dm(d.domReference.current),"hover"===i&&"mouseleave"===n.type&&(O.current=!0),"outside-press"===i&&(s?(O.current=!1,e=!0):O.current=!(uX(n)||uZ(n)))}return dm(i),f.on("openchange",a),()=>{f.off("openchange",a);let i=uG(t),n=uK(b,i)||E&&p1(E.nodesRef.current,h).some(e=>{var t;return uK(null==(t=e.context)?void 0:t.elements.floating,i)});(n||s.openEvent&&["click","mousedown"].includes(s.openEvent.type))&&d.domReference.current&&dm(d.domReference.current);let r=df();S.current&&!O.current&&(0,uH.Re)(r)&&(r===i||i===t.body||n)&&pM(r,{cancelPrevious:!1,preventScroll:e})}},[n,b,S,g,d,f,E,h]),pF(()=>{if(!n&&C)return C.setFocusManagerState({modal:c,closeOnFocusOut:u,open:p,onOpenChange:m,refs:d}),()=>{C.setFocusManagerState(null)}},[n,C,c,p,m,d,u]),pF(()=>{if(n||!b||"function"!=typeof MutationObserver||x)return;let e=()=>{let e=b.getAttribute("tabindex");_.current.includes("floating")||uG(u2(b))!==d.domReference.current&&0===j().length?"0"!==e&&b.setAttribute("tabindex","0"):"-1"!==e&&b.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(b,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[n,b,d,_,j,x]);let A=!n&&w&&(P||c);return lW.createElement(lW.Fragment,null,A&&lW.createElement(dc,{"data-type":"inside",ref:null==C?void 0:C.beforeInsideRef,onFocus:e=>{if(c){let e=N();pM("reference"===s[0]?e[0]:e[e.length-1])}else if(null!=C&&C.preserveTabOrder&&C.portalNode){if(O.current=!1,ds(e,C.portalNode)){let e=di()||v;null==e||e.focus()}else{var t;null==(t=C.beforeOutsideRef.current)||t.focus()}}}}),!y&&L("start"),i,L("end"),A&&lW.createElement(dc,{"data-type":"inside",ref:null==C?void 0:C.afterInsideRef,onFocus:e=>{if(c)pM(N()[0]);else if(null!=C&&C.preserveTabOrder&&C.portalNode){if(u&&(O.current=!0),ds(e,C.portalNode)){let e=dn()||v;null==e||e.focus()}else{var t;null==(t=C.afterOutsideRef.current)||t.focus()}}}}))}let db=new Set,dx=lW.forwardRef(function(e,t){let{lockScroll:i=!1,...n}=e,s=pG();return pF(()=>{if(!i)return;db.add(s);let e=/iP(hone|ad|od)|iOS/.test(uJ()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",a=window.innerWidth-document.documentElement.clientWidth,r=t.left?parseFloat(t.left):window.pageXOffset,o=t.top?parseFloat(t.top):window.pageYOffset;if(t.overflow="hidden",a&&(t[n]=a+"px"),e){var c,l;let e=(null==(c=window.visualViewport)?void 0:c.offsetLeft)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor((null==(l=window.visualViewport)?void 0:l.offsetTop)||0))+"px",left:-(r-Math.floor(e))+"px",right:"0"})}return()=>{db.delete(s),0===db.size&&(Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(r,o)))}},[s,i]),lW.createElement("div",pV({ref:t},n,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...n.style}}))});function dy(e){return(0,uH.Re)(e.target)&&"BUTTON"===e.target.tagName}let dw={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},d_={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},dk=e=>{var t,i;return{escapeKey:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"==typeof e?e:null==(i=null==e?void 0:e.outsidePress)||i}};function dS(e){var t;void 0===e&&(e={});let{open:i=!1,onOpenChange:n,nodeId:s}=e,[a,r]=lW.useState(null),[o,c]=lW.useState(null),l=(null==(t=e.elements)?void 0:t.reference)||a;pF(()=>{l&&(m.current=l)},[l]);let u=(0,u7.YF)({...e,elements:{...e.elements,...o&&{reference:o}}}),p=pX(),d=null!=pY(),h=pT((e,t,i)=>{f.current.openEvent=e?t:void 0,g.emit("openchange",{open:e,event:t,reason:i,nested:d}),null==n||n(e,t,i)}),m=lW.useRef(null),f=lW.useRef({}),g=lW.useState(()=>(function(){let e=new Map;return{emit(t,i){var n;null==(n=e.get(t))||n.forEach(e=>e(i))},on(t,i){e.set(t,[...e.get(t)||[],i])},off(t,i){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==i))||[])}}})())[0],v=pG(),b=lW.useCallback(e=>{let t=(0,uH.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;c(t),u.refs.setReference(t)},[u.refs]),x=lW.useCallback(e=>{((0,uH.kK)(e)||null===e)&&(m.current=e,r(e)),((0,uH.kK)(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!(0,uH.kK)(e))&&u.refs.setReference(e)},[u.refs]),y=lW.useMemo(()=>({...u.refs,setReference:x,setPositionReference:b,domReference:m}),[u.refs,x,b]),w=lW.useMemo(()=>({...u.elements,domReference:l}),[u.elements,l]),_=lW.useMemo(()=>({...u,refs:y,elements:w,dataRef:f,nodeId:s,floatingId:v,events:g,open:i,onOpenChange:h}),[u,s,v,g,i,h,y,w]);return pF(()=>{let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===s);e&&(e.context=_)}),lW.useMemo(()=>({...u,context:_,refs:y,elements:w}),[u,y,w,_])}let dE="active",dC="selected";function dT(e,t,i){let n=new Map,s="item"===i,a=e;if(s&&e){let{[dE]:t,[dC]:i,...n}=e;a=n}return{..."floating"===i&&{tabIndex:-1},...a,...t.map(t=>{let n=t?t[i]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[i,a]=t;if(!(s&&[dE,dC].includes(i))){if(0===i.indexOf("on")){if(n.has(i)||n.set(i,[]),"function"==typeof a){var r;null==(r=n.get(i))||r.push(a),e[i]=function(){for(var e,t=arguments.length,s=Array(t),a=0;a<t;a++)s[a]=arguments[a];return null==(e=n.get(i))?void 0:e.map(e=>e(...s)).find(e=>void 0!==e)}}}else e[i]=a}}),e),{})}}let dR=!1;function dO(e,t,i){switch(e){case"vertical":return t;case"horizontal":return i;default:return t||i}}function dI(e,t){return dO(t,e===pR||e===pO,e===pI||e===pP)}function dP(e,t,i){return dO(t,e===pO,i?e===pI:e===pP)||"Enter"===e||" "===e||""===e}function dj(e,t,i){return dO(t,i?e===pP:e===pI,e===pR)}let dN=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);var dL=i(42486),dA=i(84208);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function dD(e){return e+.5|0}let dU=(e,t,i)=>Math.max(Math.min(e,i),t);function dM(e){return dU(dD(2.55*e),0,255)}function dF(e){return dU(dD(255*e),0,255)}function dB(e){return dU(dD(e/2.55)/100,0,1)}function d$(e){return dU(dD(100*e),0,100)}let dz={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dV=[..."0123456789ABCDEF"],dW=e=>dV[15&e],dq=e=>dV[(240&e)>>4]+dV[15&e],dH=e=>(240&e)>>4==(15&e),dG=e=>dH(e.r)&&dH(e.g)&&dH(e.b)&&dH(e.a),dK=(e,t)=>e<255?t(e):"",dJ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dY(e,t,i){let n=t*Math.min(i,1-i),s=(t,s=(t+e/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function dX(e,t,i){let n=(n,s=(n+e/60)%6)=>i-i*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function dZ(e,t,i){let n;let s=dY(e,1,.5);for(t+i>1&&(n=1/(t+i),t*=n,i*=n),n=0;n<3;n++)s[n]*=1-t-i,s[n]+=t;return s}function dQ(e){let t,i,n;let s=e.r/255,a=e.g/255,r=e.b/255,o=Math.max(s,a,r),c=Math.min(s,a,r),l=(o+c)/2;return o!==c&&(n=o-c,i=l>.5?n/(2-o-c):n/(o+c),t=60*(t=s===o?(a-r)/n+(a<r?6:0):a===o?(r-s)/n+2:(s-a)/n+4)+.5),[0|t,i||0,l]}function d0(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(dF)}function d1(e){return(e%360+360)%360}let d2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},d3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},d4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,d6=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,d5=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function d8(e,t,i){if(e){let n=dQ(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=d0(dY,n,void 0,void 0),e.r=n[0],e.g=n[1],e.b=n[2]}}function d9(e,t){return e?Object.assign(t||{},e):e}function d7(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=dF(e[3]))):(t=d9(e,{r:0,g:0,b:0,a:1})).a=dF(t.a),t}class he{constructor(e){let t;if(e instanceof he)return e;let i=typeof e;"object"===i?t=d7(e):"string"===i&&(t=function(e){var t,i=e.length;return"#"===e[0]&&(4===i||5===i?t={r:255&17*dz[e[1]],g:255&17*dz[e[2]],b:255&17*dz[e[3]],a:5===i?17*dz[e[4]]:255}:(7===i||9===i)&&(t={r:dz[e[1]]<<4|dz[e[2]],g:dz[e[3]]<<4|dz[e[4]],b:dz[e[5]]<<4|dz[e[6]],a:9===i?dz[e[7]]<<4|dz[e[8]]:255})),t}(e)||function(e){u||((u=function(){let e,t,i,n,s;let a={},r=Object.keys(d3),o=Object.keys(d2);for(e=0;e<r.length;e++){for(t=0,n=s=r[e];t<o.length;t++)i=o[t],s=s.replace(i,d2[i]);i=parseInt(d3[n],16),a[s]=[i>>16&255,i>>8&255,255&i]}return a}()).transparent=[0,0,0,0]);let t=u[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||function(e){return"r"===e.charAt(0)?function(e){let t,i,n;let s=d4.exec(e),a=255;if(s){if(s[7]!==t){let e=+s[7];a=s[8]?dM(e):dU(255*e,0,255)}return t=+s[1],i=+s[3],n=+s[5],{r:t=255&(s[2]?dM(t):dU(t,0,255)),g:i=255&(s[4]?dM(i):dU(i,0,255)),b:n=255&(s[6]?dM(n):dU(n,0,255)),a:a}}}(e):function(e){let t;let i=dJ.exec(e),n=255;if(!i)return;i[5]!==t&&(n=i[6]?dM(+i[5]):dF(+i[5]));let s=d1(+i[2]),a=+i[3]/100,r=+i[4]/100;return{r:(t="hwb"===i[1]?d0(dZ,s,a,r):"hsv"===i[1]?d0(dX,s,a,r):d0(dY,s,a,r))[0],g:t[1],b:t[2],a:n}}(e)}(e)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var e=d9(this._rgb);return e&&(e.a=dB(e.a)),e}set rgb(e){this._rgb=d7(e)}rgbString(){var e;return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${dB(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0}hexString(){var e,t;return this._valid?(t=dG(e=this._rgb)?dW:dq,e?"#"+t(e.r)+t(e.g)+t(e.b)+dK(e.a,t):void 0):void 0}hslString(){return this._valid?function(e){if(!e)return;let t=dQ(e),i=t[0],n=d$(t[1]),s=d$(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${s}%, ${dB(e.a)})`:`hsl(${i}, ${n}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){let i;let n=this.rgb,s=e.rgb,a=t===i?.5:t,r=2*a-1,o=n.a-s.a,c=((r*o==-1?r:(r+o)/(1+r*o))+1)/2;i=1-c,n.r=255&c*n.r+i*s.r+.5,n.g=255&c*n.g+i*s.g+.5,n.b=255&c*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){let n=d5(dB(e.r)),s=d5(dB(e.g)),a=d5(dB(e.b));return{r:dF(d6(n+i*(d5(dB(t.r))-n))),g:dF(d6(s+i*(d5(dB(t.g))-s))),b:dF(d6(a+i*(d5(dB(t.b))-a))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new he(this.rgb)}alpha(e){return this._rgb.a=dF(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=dD(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return d8(this._rgb,2,e),this}darken(e){return d8(this._rgb,2,-e),this}saturate(e){return d8(this._rgb,1,e),this}desaturate(e){return d8(this._rgb,1,-e),this}rotate(e){var t,i;return(i=dQ(t=this._rgb))[0]=d1(i[0]+e),i=d0(dY,i,void 0,void 0),t.r=i[0],t.g=i[1],t.b=i[2],this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ht(){}let hi=(()=>{let e=0;return()=>e++})();function hn(e){return null==e}function hs(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ha(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function hr(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function ho(e,t){return hr(e)?e:t}function hc(e,t){return void 0===e?t:e}let hl=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,hu=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function hp(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function hd(e,t,i,n){let s,a,r;if(hs(e)){if(a=e.length,n)for(s=a-1;s>=0;s--)t.call(i,e[s],s);else for(s=0;s<a;s++)t.call(i,e[s],s)}else if(ha(e))for(s=0,a=(r=Object.keys(e)).length;s<a;s++)t.call(i,e[r[s]],r[s])}function hh(e,t){let i,n,s,a;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(s=e[i],a=t[i],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function hm(e){if(hs(e))return e.map(hm);if(ha(e)){let t=Object.create(null),i=Object.keys(e),n=i.length,s=0;for(;s<n;++s)t[i[s]]=hm(e[i[s]]);return t}return e}function hf(e){return -1===["__proto__","prototype","constructor"].indexOf(e)}function hg(e,t,i,n){if(!hf(e))return;let s=t[e],a=i[e];ha(s)&&ha(a)?hv(s,a,n):t[e]=hm(a)}function hv(e,t,i){let n;let s=hs(t)?t:[t],a=s.length;if(!ha(e))return e;let r=(i=i||{}).merger||hg;for(let t=0;t<a;++t){if(!ha(n=s[t]))continue;let a=Object.keys(n);for(let t=0,s=a.length;t<s;++t)r(a[t],e,n,i)}return e}function hb(e,t){return hv(e,t,{merger:hx})}function hx(e,t,i){if(!hf(e))return;let n=t[e],s=i[e];ha(n)&&ha(s)?hb(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=hm(s))}let hy={"":e=>e,x:e=>e.x,y:e=>e.y};function hw(e,t){return(hy[t]||(hy[t]=function(e){let t=function(e){let t=e.split("."),i=[],n="";for(let e of t)(n+=e).endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(let i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(e)}function h_(e){return e.charAt(0).toUpperCase()+e.slice(1)}let hk=e=>void 0!==e,hS=e=>"function"==typeof e,hE=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0},hC=Math.PI,hT=2*hC,hR=hT+hC,hO=Number.POSITIVE_INFINITY,hI=hC/180,hP=hC/2,hj=hC/4,hN=2*hC/3,hL=Math.log10,hA=Math.sign;function hD(e,t,i){return Math.abs(e-t)<i}function hU(e){let t=Math.round(e),i=Math.pow(10,Math.floor(hL(e=hD(e,t,e/1e3)?t:e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function hM(e){return!isNaN(parseFloat(e))&&isFinite(e)}function hF(e,t,i){let n,s,a;for(n=0,s=e.length;n<s;n++)isNaN(a=e[n][i])||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function hB(e){return hC/180*e}function h$(e){if(!hr(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function hz(e,t){let i=t.x-e.x,n=t.y-e.y,s=Math.atan2(n,i);return s<-.5*hC&&(s+=hT),{angle:s,distance:Math.sqrt(i*i+n*n)}}function hV(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hW(e,t){return(e-t+hR)%hT-hC}function hq(e){return(e%hT+hT)%hT}function hH(e,t,i,n){let s=hq(e),a=hq(t),r=hq(i),o=hq(a-s),c=hq(r-s),l=hq(s-a),u=hq(s-r);return s===a||s===r||n&&a===r||o>c&&l<u}function hG(e,t,i){return Math.max(t,Math.min(i,e))}function hK(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function hJ(e,t,i){let n;i=i||(i=>e[i]<t);let s=e.length-1,a=0;for(;s-a>1;)i(n=a+s>>1)?a=n:s=n;return{lo:a,hi:s}}let hY=(e,t,i,n)=>hJ(e,i,n?n=>{let s=e[n][t];return s<i||s===i&&e[n+1][t]===i}:n=>e[n][t]<i),hX=(e,t,i)=>hJ(e,i,n=>e[n][t]>=i),hZ=["push","pop","shift","splice","unshift"];function hQ(e,t){let i=e._chartjs;if(!i)return;let n=i.listeners,s=n.indexOf(t);-1!==s&&n.splice(s,1),n.length>0||(hZ.forEach(t=>{delete e[t]}),delete e._chartjs)}function h0(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}let h1="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function h2(e,t){let i=[],n=!1;return function(...s){i=s,n||(n=!0,h1.call(window,()=>{n=!1,e.apply(t,i)}))}}let h3=e=>"start"===e?"left":"end"===e?"right":"center",h4=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2;function h6(e,t,i){let n=t.length,s=0,a=n;if(e._sorted){let{iScale:r,_parsed:o}=e,c=r.axis,{min:l,max:u,minDefined:p,maxDefined:d}=r.getUserBounds();p&&(s=hG(Math.min(hY(o,c,l).lo,i?n:hY(t,c,r.getPixelForValue(l)).lo),0,n-1)),a=d?hG(Math.max(hY(o,r.axis,u,!0).hi+1,i?0:hY(t,c,r.getPixelForValue(u),!0).hi+1),s,n)-s:n-s}return{start:s,count:a}}function h5(e){let{xScale:t,yScale:i,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=s,!0;let a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),a}let h8=e=>0===e||1===e,h9=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*hT/i)),h7=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*hT/i)+1,me={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*hP)+1,easeOutSine:e=>Math.sin(e*hP),easeInOutSine:e=>-.5*(Math.cos(hC*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>h8(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(-Math.pow(2,-10*(2*e-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>h8(e)?e:h9(e,.075,.3),easeOutElastic:e=>h8(e)?e:h7(e,.075,.3),easeInOutElastic:e=>h8(e)?e:e<.5?.5*h9(2*e,.1125,.45):.5+.5*h7(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*(((t*=1.525)+1)*e-t)*.5:.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-me.easeOutBounce(1-e),easeOutBounce:e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,easeInOutBounce:e=>e<.5?.5*me.easeInBounce(2*e):.5*me.easeOutBounce(2*e-1)+.5};function mt(e){if(e&&"object"==typeof e){let t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function mi(e){return mt(e)?e:new he(e)}function mn(e){return mt(e)?e:new he(e).saturate(.5).darken(.1).hexString()}let ms=["x","y","borderWidth","radius","tension"],ma=["color","borderColor","backgroundColor"],mr=new Map;function mo(e,t,i){return(function(e,t){let i=e+JSON.stringify(t=t||{}),n=mr.get(i);return n||(n=new Intl.NumberFormat(e,t),mr.set(i,n)),n})(t,i).format(e)}let mc={values:e=>hs(e)?e:""+e,numeric(e,t,i){let n;if(0===e)return"0";let s=this.chart.options.locale,a=e;if(i.length>1){let t;let s=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(s<1e-4||s>1e15)&&(n="scientific"),Math.abs(t=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),a=t}let r=hL(Math.abs(a)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),mo(e,s,c)},logarithmic(e,t,i){return 0===e?"0":[1,2,3,5,10,15].includes(i[t].significand||e/Math.pow(10,Math.floor(hL(e))))||t>.8*i.length?mc.numeric.call(this,e,t,i):""}};var ml={formatters:mc};let mu=Object.create(null),mp=Object.create(null);function md(e,t){if(!t)return e;let i=t.split(".");for(let t=0,n=i.length;t<n;++t){let n=i[t];e=e[n]||(e[n]=Object.create(null))}return e}function mh(e,t,i){return"string"==typeof t?hv(md(e,t),i):hv(md(e,""),t)}class mm{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>mn(t.backgroundColor),this.hoverBorderColor=(e,t)=>mn(t.borderColor),this.hoverColor=(e,t)=>mn(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return mh(this,e,t)}get(e){return md(this,e)}describe(e,t){return mh(mp,e,t)}override(e,t){return mh(mu,e,t)}route(e,t,i,n){let s=md(this,e),a=md(this,i),r="_"+t;Object.defineProperties(s,{[r]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let e=this[r],t=a[n];return ha(e)?Object.assign({},t,e):hc(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach(e=>e(this))}}var mf=new mm({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ma},numbers:{type:"number",properties:ms}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ml.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function mg(e,t,i,n,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,i.push(s)),a>n&&(n=a),n}function mv(e,t,i){let n=e.currentDevicePixelRatio,s=0!==i?Math.max(i/2,.5):0;return Math.round((t-s)*n)/n+s}function mb(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function mx(e,t,i,n){(function(e,t,i,n,s){let a,r,o,c,l,u,p,d;let h=t.pointStyle,m=t.rotation,f=t.radius,g=(m||0)*hI;if(h&&"object"==typeof h&&("[object HTMLImageElement]"===(a=h.toString())||"[object HTMLCanvasElement]"===a)){e.save(),e.translate(i,n),e.rotate(g),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!isNaN(f)&&!(f<=0)){switch(e.beginPath(),h){default:s?e.ellipse(i,n,s/2,f,0,0,hT):e.arc(i,n,f,0,hT),e.closePath();break;case"triangle":u=s?s/2:f,e.moveTo(i+Math.sin(g)*u,n-Math.cos(g)*f),g+=hN,e.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*f),g+=hN,e.lineTo(i+Math.sin(g)*u,n-Math.cos(g)*f),e.closePath();break;case"rectRounded":l=.516*f,r=Math.cos(g+hj)*(c=f-l),p=Math.cos(g+hj)*(s?s/2-l:c),o=Math.sin(g+hj)*c,d=Math.sin(g+hj)*(s?s/2-l:c),e.arc(i-p,n-o,l,g-hC,g-hP),e.arc(i+d,n-r,l,g-hP,g),e.arc(i+p,n+o,l,g,g+hP),e.arc(i-d,n+r,l,g+hP,g+hC),e.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*f,u=s?s/2:c,e.rect(i-u,n-c,2*u,2*c);break}g+=hj;case"rectRot":p=Math.cos(g)*(s?s/2:f),r=Math.cos(g)*f,o=Math.sin(g)*f,d=Math.sin(g)*(s?s/2:f),e.moveTo(i-p,n-o),e.lineTo(i+d,n-r),e.lineTo(i+p,n+o),e.lineTo(i-d,n+r),e.closePath();break;case"crossRot":g+=hj;case"cross":p=Math.cos(g)*(s?s/2:f),r=Math.cos(g)*f,o=Math.sin(g)*f,d=Math.sin(g)*(s?s/2:f),e.moveTo(i-p,n-o),e.lineTo(i+p,n+o),e.moveTo(i+d,n-r),e.lineTo(i-d,n+r);break;case"star":p=Math.cos(g)*(s?s/2:f),r=Math.cos(g)*f,o=Math.sin(g)*f,d=Math.sin(g)*(s?s/2:f),e.moveTo(i-p,n-o),e.lineTo(i+p,n+o),e.moveTo(i+d,n-r),e.lineTo(i-d,n+r),g+=hj,p=Math.cos(g)*(s?s/2:f),r=Math.cos(g)*f,o=Math.sin(g)*f,d=Math.sin(g)*(s?s/2:f),e.moveTo(i-p,n-o),e.lineTo(i+p,n+o),e.moveTo(i+d,n-r),e.lineTo(i-d,n+r);break;case"line":r=s?s/2:Math.cos(g)*f,o=Math.sin(g)*f,e.moveTo(i-r,n-o),e.lineTo(i+r,n+o);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(g)*(s?s/2:f),n+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}})(e,t,i,n,null)}function my(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function mw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function m_(e){e.restore()}function mk(e,t,i,n,s){if(!t)return e.lineTo(i.x,i.y);if("middle"===s){let n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else"after"===s!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function mS(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function mE(e,t,i,n,s,a={}){let r,o;let c=hs(t)?t:[t],l=a.strokeWidth>0&&""!==a.strokeColor;for(e.save(),e.font=s.string,a.translation&&e.translate(a.translation[0],a.translation[1]),hn(a.rotation)||e.rotate(a.rotation),a.color&&(e.fillStyle=a.color),a.textAlign&&(e.textAlign=a.textAlign),a.textBaseline&&(e.textBaseline=a.textBaseline),r=0;r<c.length;++r)o=c[r],a.backdrop&&function(e,t){let i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),hn(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(o,i,n,a.maxWidth)),e.fillText(o,i,n,a.maxWidth),function(e,t,i,n,s){if(s.strikethrough||s.underline){let a=e.measureText(n),r=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,c=i-a.actualBoundingBoxAscent,l=i+a.actualBoundingBoxDescent,u=s.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,u),e.lineTo(o,u),e.stroke()}}(e,i,n,o,a),n+=Number(s.lineHeight);e.restore()}function mC(e,t){let{x:i,y:n,w:s,h:a,radius:r}=t;e.arc(i+r.topLeft,n+r.topLeft,r.topLeft,1.5*hC,hC,!0),e.lineTo(i,n+a-r.bottomLeft),e.arc(i+r.bottomLeft,n+a-r.bottomLeft,r.bottomLeft,hC,hP,!0),e.lineTo(i+s-r.bottomRight,n+a),e.arc(i+s-r.bottomRight,n+a-r.bottomRight,r.bottomRight,hP,0,!0),e.lineTo(i+s,n+r.topRight),e.arc(i+s-r.topRight,n+r.topRight,r.topRight,0,-hP,!0),e.lineTo(i+r.topLeft,n)}let mT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mR=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/,mO=e=>+e||0;function mI(e,t){let i={},n=ha(t),s=n?Object.keys(t):t,a=ha(e)?n?i=>hc(e[i],e[t[i]]):t=>e[t]:()=>e;for(let e of s)i[e]=mO(a(e));return i}function mP(e){return mI(e,{top:"y",right:"x",bottom:"y",left:"x"})}function mj(e){return mI(e,["topLeft","topRight","bottomLeft","bottomRight"])}function mN(e){let t=mP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mL(e,t){e=e||{},t=t||mf.font;let i=hc(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let n=hc(e.style,t.style);n&&!(""+n).match(mR)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let s={family:hc(e.family,t.family),lineHeight:function(e,t){let i=(""+e).match(mT);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}(hc(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:hc(e.weight,t.weight),string:""};return s.string=!s||hn(s.size)||hn(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family,s}function mA(e,t,i,n){let s,a,r,o=!0;for(s=0,a=e.length;s<a;++s)if(void 0!==(r=e[s])&&(void 0!==t&&"function"==typeof r&&(r=r(t),o=!1),void 0!==i&&hs(r)&&(r=r[i%r.length],o=!1),void 0!==r))return n&&!o&&(n.cacheable=!1),r}function mD(e,t){return Object.assign(Object.create(e),t)}function mU(e,t=[""],i,n,s=()=>e[0]){let a=i||e;void 0===n&&(n=mH("_fallback",e));let r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:s,override:i=>mU([i,...e],t,a,n)};return new Proxy(r,{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,n)=>mz(i,n,()=>(function(e,t,i,n){let s;for(let a of t)if(void 0!==(s=mH(mB(a,e),i)))return m$(e,s)?mW(i,n,e,s):s})(n,t,e,i)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>mG(e).includes(t),ownKeys:e=>mG(e),set(e,t,i){let n=e._storage||(e._storage=s());return e[t]=n[t]=i,delete e._keys,!0}})}function mM(e,t,i,n){let s={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:mF(e,n),setContext:t=>mM(e,t,i,n),override:s=>mM(e.override(s),t,i,n)};return new Proxy(s,{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>mz(e,t,()=>(function(e,t,i){let{_proxy:n,_context:s,_subProxy:a,_descriptors:r}=e,o=n[t];return hS(o)&&r.isScriptable(t)&&(o=function(e,t,i,n){let{_proxy:s,_context:a,_subProxy:r,_stack:o}=i;if(o.has(e))throw Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(a,r||n);return o.delete(e),m$(e,c)&&(c=mW(s._scopes,s,e,c)),c}(t,o,e,i)),hs(o)&&o.length&&(o=function(e,t,i,n){let{_proxy:s,_context:a,_subProxy:r,_descriptors:o}=i;if(void 0!==a.index&&n(e))return t[a.index%t.length];if(ha(t[0])){let i=t,n=s._scopes.filter(e=>e!==i);for(let c of(t=[],i)){let i=mW(n,s,e,c);t.push(mM(i,a,r&&r[e],o))}}return t}(t,o,e,r.isIndexable)),m$(t,o)&&(o=mM(o,s,a&&a[t],r)),o})(e,t,i)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,n)=>(e[i]=n,delete t[i],!0)})}function mF(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:n,isScriptable:hS(i)?i:()=>i,isIndexable:hS(n)?n:()=>n}}let mB=(e,t)=>e?e+h_(t):t,m$=(e,t)=>ha(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function mz(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];let n=i();return e[t]=n,n}let mV=(e,t)=>!0===e?t:"string"==typeof e?hw(t,e):void 0;function mW(e,t,i,n){var s;let a=t._rootScopes,r=hS(s=t._fallback)?s(i,n):s,o=[...e,...a],c=new Set;c.add(n);let l=mq(c,o,i,r||i,n);return null!==l&&(void 0===r||r===i||null!==(l=mq(c,o,r,l,n)))&&mU(Array.from(c),[""],a,r,()=>(function(e,t,i){let n=e._getTarget();t in n||(n[t]={});let s=n[t];return hs(s)&&ha(i)?i:s||{}})(t,i,n))}function mq(e,t,i,n,s){for(;i;)i=function(e,t,i,n,s){for(let r of t){let t=mV(i,r);if(t){var a;e.add(t);let r=hS(a=t._fallback)?a(i,s):a;if(void 0!==r&&r!==i&&r!==n)return r}else if(!1===t&&void 0!==n&&i!==n)return null}return!1}(e,t,i,n,s);return i}function mH(e,t){for(let i of t){if(!i)continue;let t=i[e];if(void 0!==t)return t}}function mG(e){let t=e._keys;return t||(t=e._keys=function(e){let t=new Set;for(let i of e)for(let e of Object.keys(i).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function mK(e,t,i,n){let s,a,r;let{iScale:o}=e,{key:c="r"}=this._parsing,l=Array(n);for(s=0;s<n;++s)r=t[a=s+i],l[s]={r:o.parse(hw(r,c),a)};return l}let mJ=Number.EPSILON||1e-14,mY=(e,t)=>t<e.length&&!e[t].skip&&e[t],mX=e=>"x"===e?"y":"x";function mZ(e,t,i){return Math.max(Math.min(e,i),t)}function mQ(){return"undefined"!=typeof window&&"undefined"!=typeof document}function m0(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function m1(e,t,i){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}let m2=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),m3=["top","right","bottom","left"];function m4(e,t,i){let n={};i=i?"-"+i:"";for(let s=0;s<4;s++){let a=m3[s];n[a]=parseFloat(e[t+"-"+a+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}let m6=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function m5(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:n}=t,s=m2(i),a="border-box"===s.boxSizing,r=m4(s,"padding"),o=m4(s,"border","width"),{x:c,y:l,box:u}=function(e,t){let i,n;let s=e.touches,a=s&&s.length?s[0]:e,{offsetX:r,offsetY:o}=a,c=!1;if(m6(r,o,e.target))i=r,n=o;else{let e=t.getBoundingClientRect();i=a.clientX-e.left,n=a.clientY-e.top,c=!0}return{x:i,y:n,box:c}}(e,i),p=r.left+(u&&o.left),d=r.top+(u&&o.top),{width:h,height:m}=t;return a&&(h-=r.width+o.width,m-=r.height+o.height),{x:Math.round((c-p)/h*i.width/n),y:Math.round((l-d)/m*i.height/n)}}let m8=e=>Math.round(10*e)/10;function m9(e,t,i){let n=t||1,s=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let r=e.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||r.height!==s||r.width!==a)&&(e.currentDevicePixelRatio=n,r.height=s,r.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}let m7=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};mQ()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(e){}return e}();function fe(e,t){let i=m2(e).getPropertyValue(t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ft(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function fi(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:"middle"===n?i<.5?e.y:t.y:"after"===n?i<1?e.y:t.y:i>0?t.y:e.y}}function fn(e,t,i,n){let s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},r=ft(e,s,i),o=ft(s,a,i),c=ft(a,t,i),l=ft(r,o,i),u=ft(o,c,i);return ft(l,u,i)}function fs(e,t,i){var n;return e?(n=i,{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function fa(e){return"angle"===e?{between:hH,compare:hW,normalize:hq}:{between:hK,compare:(e,t)=>e-t,normalize:e=>e}}function fr({start:e,end:t,count:i,loop:n,style:s}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i==0,style:s}}function fo(e,t,i){let n,s,a;if(!i)return[e];let{property:r,start:o,end:c}=i,l=t.length,{compare:u,between:p,normalize:d}=fa(r),{start:h,end:m,loop:f,style:g}=function(e,t,i){let n;let{property:s,start:a,end:r}=i,{between:o,normalize:c}=fa(s),l=t.length,{start:u,end:p,loop:d}=e;if(d){for(u+=l,p+=l,n=0;n<l&&o(c(t[u%l][s]),a,r);++n)u--,p--;u%=l,p%=l}return p<u&&(p+=l),{start:u,end:p,loop:d,style:e.style}}(e,t,i),v=[],b=!1,x=null,y=()=>p(o,a,n)&&0!==u(o,a),w=()=>0===u(c,n)||p(c,a,n),_=()=>b||y(),k=()=>!b||w();for(let e=h,i=h;e<=m;++e)(s=t[e%l]).skip||(n=d(s[r]))===a||(b=p(n,o,c),null===x&&_()&&(x=0===u(n,o)?e:i),null!==x&&k()&&(v.push(fr({start:x,end:e,loop:f,count:l,style:g})),x=null),i=e,a=n);return null!==x&&v.push(fr({start:x,end:m,loop:f,count:l,style:g})),v}function fc(e,t){let i=[],n=e.segments;for(let s=0;s<n.length;s++){let a=fo(n[s],e.points,t);a.length&&i.push(...a)}return i}function fl(e,t,i,n){return n&&n.setContext&&i?function(e,t,i,n){let s=e._chart.getContext(),a=fu(e.options),{_datasetIndex:r,options:{spanGaps:o}}=e,c=i.length,l=[],u=a,p=t[0].start,d=p;function h(e,t,n,s){let a=o?-1:1;if(e!==t){for(e+=c;i[e%c].skip;)e-=a;for(;i[t%c].skip;)t+=a;e%c!=t%c&&(l.push({start:e%c,end:t%c,loop:n,style:s}),u=s,p=t%c)}}for(let e of t){let t;let a=i[(p=o?p:e.start)%c];for(d=p+1;d<=e.end;d++){let o=i[d%c];(function(e,t){if(!t)return!1;let i=[],n=function(e,t){return mt(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)})(t=fu(n.setContext(mD(s,{type:"segment",p0:a,p1:o,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:r}))),u)&&h(p,d-1,e.loop,u),a=o,u=t}p<d-1&&h(p,d-1,e.loop,u)}return l}(e,t,i,n):t}function fu(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class fp{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){let s=t.listeners[n],a=t.duration;s.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=h1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{let s;if(!i.running||!i.items.length)return;let a=i.items,r=a.length-1,o=!1;for(;r>=0;--r)(s=a[r])._active?(s._total>i.duration&&(i.duration=s._total),s.tick(e),o=!0):(a[r]=a[a.length-1],a.pop());o&&(n.draw(),this._notify(n,i,e,"progress")),a.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!!t&&!!t.running&&!!t.items.length}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fd=new fp;let fh="transparent",fm={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){let n=mi(e||fh),s=n.valid&&mi(t||fh);return s&&s.valid?s.mix(n,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class ff{constructor(e,t,i,n){let s=t[i];n=mA([e.to,n,s,e.from]);let a=mA([e.from,s,n]);this._active=!0,this._fn=e.fn||fm[e.type||typeof a],this._easing=me[e.easing]||me.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let n=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=mA([e.to,t,n,e.from]),this._from=mA([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t;let i=e-this._start,n=this._duration,s=this._prop,a=this._from,r=this._loop,o=this._to;if(this._active=a!==o&&(r||i<n),!this._active){this._target[s]=o,this._notify(!0);return}if(i<0){this._target[s]=a;return}t=i/n%2,t=r&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[s]=this._fn(a,o,t)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}class fg{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ha(e))return;let t=Object.keys(mf.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{let s=e[n];if(!ha(s))return;let a={};for(let e of t)a[e]=s[e];(hs(s.properties)&&s.properties||[n]).forEach(e=>{e!==n&&i.has(e)||i.set(e,a)})})}_animateOptions(e,t){let i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}(e,i);if(!n)return[];let s=this._createAnimations(n,i);return i.$shared&&(function(e,t){let i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){let s=e[n[t]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)})(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){let i;let n=this._properties,s=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),o=Date.now();for(i=r.length-1;i>=0;--i){let c=r[i];if("$"===c.charAt(0))continue;if("options"===c){s.push(...this._animateOptions(e,t));continue}let l=t[c],u=a[c],p=n.get(c);if(u){if(p&&u.active()){u.update(p,l,o);continue}u.cancel()}if(!p||!p.duration){e[c]=l;continue}a[c]=u=new ff(p,e,c,l),s.push(u)}return s}update(e,t){if(0===this._properties.size){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return fd.add(this._chart,i),!0}}function fv(e,t){let i=e&&e.options||{},n=i.reverse,s=void 0===i.min?t:0,a=void 0===i.max?t:0;return{start:n?a:s,end:n?s:a}}function fb(e,t){let i,n;let s=[],a=e._getSortedDatasetMetas(t);for(i=0,n=a.length;i<n;++i)s.push(a[i].index);return s}function fx(e,t,i,n={}){let s,a,r,o;let c=e.keys,l="single"===n.mode;if(null!==t){for(s=0,a=c.length;s<a;++s){if((r=+c[s])===i){if(n.all)continue;break}hr(o=e.values[r])&&(l||0===t||hA(t)===hA(o))&&(t+=o)}return t}}function fy(e,t){let i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function fw(e,t,i,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let t=e[s.index];if(i&&t>0||!i&&t<0)return s.index}return null}function f_(e,t){let i;let{chart:n,_cachedMeta:s}=e,a=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:c}=s,l=r.axis,u=o.axis,p=`${r.id}.${o.id}.${s.stack||s.type}`,d=t.length;for(let e=0;e<d;++e){let n=t[e],{[l]:r,[u]:d}=n;(i=(n._stacks||(n._stacks={}))[u]=function(e,t,i){let n=e[t]||(e[t]={});return n[i]||(n[i]={})}(a,p,r))[c]=d,i._top=fw(i,o,!0,s.type),i._bottom=fw(i,o,!1,s.type),(i._visualValues||(i._visualValues={}))[c]=d}}function fk(e,t){let i=e.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function fS(e,t){let i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n)for(let s of t=t||e._parsed){let e=s._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}let fE=e=>"reset"===e||"none"===e,fC=(e,t)=>t?e:Object.assign({},e),fT=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:fb(i,!0),values:null};class fR{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fS(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,s=t.xAxisID=hc(i.xAxisID,fk(e,"x")),a=t.yAxisID=hc(i.yAxisID,fk(e,"y")),r=t.rAxisID=hc(i.rAxisID,fk(e,"r")),o=t.indexAxis,c=t.iAxisID=n(o,s,a,r),l=t.vAxisID=n(o,a,s,r);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&hQ(this._data,this),e._stacked&&fS(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ha(t))this._data=function(e){let t,i,n;let s=Object.keys(e),a=Array(s.length);for(t=0,i=s.length;t<i;++t)n=s[t],a[t]={x:n,y:e[n]};return a}(t);else if(i!==t){if(i){hQ(i,this);let e=this._cachedMeta;fS(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),hZ.forEach(t=>{let i="_onData"+h_(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){let s=n.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[i]&&e[i](...t)}),s}})})}(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,i=this.getDataset(),n=!1;this._dataCheck();let s=t._stacked;t._stacked=fy(t.vScale,t),t.stack!==i.stack&&(n=!0,fS(t),t.stack=i.stack),this._resyncElements(e),(n||s!==t._stacked)&&f_(this,t._parsed)}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let i,n,s;let{_cachedMeta:a,_data:r}=this,{iScale:o,_stacked:c}=a,l=o.axis,u=0===e&&t===r.length||a._sorted,p=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=r,a._sorted=!0,s=r;else{s=hs(r[e])?this.parseArrayData(a,r,e,t):ha(r[e])?this.parseObjectData(a,r,e,t):this.parsePrimitiveData(a,r,e,t);let o=()=>null===n[l]||p&&n[l]<p[l];for(i=0;i<t;++i)a._parsed[i+e]=n=s[i],u&&(o()&&(u=!1),p=n);a._sorted=u}c&&f_(this,s)}parsePrimitiveData(e,t,i,n){let s,a;let{iScale:r,vScale:o}=e,c=r.axis,l=o.axis,u=r.getLabels(),p=r===o,d=Array(n);for(s=0;s<n;++s)a=s+i,d[s]={[c]:p||r.parse(u[a],a),[l]:o.parse(t[a],a)};return d}parseArrayData(e,t,i,n){let s,a,r;let{xScale:o,yScale:c}=e,l=Array(n);for(s=0;s<n;++s)r=t[a=s+i],l[s]={x:o.parse(r[0],a),y:c.parse(r[1],a)};return l}parseObjectData(e,t,i,n){let s,a,r;let{xScale:o,yScale:c}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,p=Array(n);for(s=0;s<n;++s)r=t[a=s+i],p[s]={x:o.parse(hw(r,l),a),y:c.parse(hw(r,u),a)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){let n=this.chart,s=this._cachedMeta,a=t[e.axis];return fx({keys:fb(n,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(e,t,i,n){let s=i[t.axis],a=null===s?NaN:s,r=n&&i._stacks[t.axis];n&&r&&(n.values=r,a=fx(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let i,n;let s=this._cachedMeta,a=s._parsed,r=s._sorted&&e===s.iScale,o=a.length,c=this._getOtherScale(e),l=fT(t,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:d}=function(e){let{min:t,max:i,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}(c);function h(){let t=(n=a[i])[c.axis];return!hr(n[e.axis])||p>t||d<t}for(i=0;i<o&&(h()||(this.updateRangeFromParsed(u,e,n,l),!r));++i);if(r){for(i=o-1;i>=0;--i)if(!h()){this.updateRangeFromParsed(u,e,n,l);break}}return u}getAllParsedValues(e){let t,i,n;let s=this._cachedMeta._parsed,a=[];for(t=0,i=s.length;t<i;++t)hr(n=s[t][e.axis])&&a.push(n);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,i=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){var t;let i,n,s,a;let r=this._cachedMeta;this.update(e||"default"),r._clip=(ha(t=hc(this.options.clip,function(e,t,i){if(!1===i)return!1;let n=fv(e,i),s=fv(t,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(r.xScale,r.yScale,this.getMaxOverflow())))?(i=t.top,n=t.right,s=t.bottom,a=t.left):i=n=s=a=t,{top:i,right:n,bottom:s,left:a,disabled:!1===t})}update(e){}draw(){let e;let t=this._ctx,i=this.chart,n=this._cachedMeta,s=n.data||[],a=i.chartArea,r=[],o=this._drawStart||0,c=this._drawCount||s.length-o,l=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(t,a,o,c),e=o;e<o+c;++e){let i=s[e];i.hidden||(i.active&&l?r.push(i):i.draw(t,a))}for(e=0;e<r.length;++e)r[e].draw(t,a)}getStyle(e,t){let i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){var n;let s;let a=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(s=t.$context||(t.$context=mD(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else(s=this.$context||(this.$context=mD(this.chart.getContext(),{active:!1,dataset:void 0,datasetIndex:n=this.index,index:n,mode:"default",type:"dataset"}))).dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){let n="active"===t,s=this._cachedDataOpts,a=e+"-"+t,r=s[a],o=this.enableOptionSharing&&hk(i);if(r)return fC(r,o);let c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),u=n?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),l),d=Object.keys(mf.elements[e]),h=c.resolveNamedOptions(p,d,()=>this.getContext(i,n,t),u);return h.$shared&&(h.$shared=o,s[a]=Object.freeze(fC(h,o))),h}_resolveAnimations(e,t,i){let n;let s=this.chart,a=this._cachedDataOpts,r=`animation-${t}`,o=a[r];if(o)return o;if(!1!==s.options.animation){let s=this.chart.config,a=s.datasetAnimationScopeKeys(this._type,t),r=s.getOptionScopes(this.getDataset(),a);n=s.createResolver(r,this.getContext(e,i,t))}let c=new fg(s,n&&n.animations);return n&&n._cacheable&&(a[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||fE(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:a}}updateElement(e,t,i,n){fE(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!fE(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;let s=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,i=this._cachedMeta.data;for(let[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];let n=i.length,s=t.length,a=Math.min(s,n);a&&this.parse(0,a),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t,i=!0){let n;let s=this._cachedMeta,a=s.data,r=e+t,o=e=>{for(e.length+=t,n=e.length-1;n>=r;n--)e[n]=e[n-t]};for(o(a),n=e;n<r;++n)a[n]=new this.dataElementType;this._parsing&&o(s._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){let i=this._cachedMeta;if(this._parsing){let n=i._parsed.splice(e,t);i._stacked&&fS(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function fO(e,t,i,n){return hs(e)?function(e,t,i,n){let s=i.parse(e[0],n),a=i.parse(e[1],n),r=Math.min(s,a),o=Math.max(s,a),c=r,l=o;Math.abs(r)>Math.abs(o)&&(c=o,l=r),t[i.axis]=l,t._custom={barStart:c,barEnd:l,start:s,end:a,min:r,max:o}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function fI(e,t,i,n){let s,a,r,o;let c=e.iScale,l=e.vScale,u=c.getLabels(),p=c===l,d=[];for(s=i,a=i+n;s<a;++s)o=t[s],(r={})[c.axis]=p||c.parse(u[s],s),d.push(fO(o,r,l,s));return d}function fP(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function fj(e,t,i,n){var s;return e=n?fN(e=(s=e)===t?i:s===i?t:s,i,t):fN(e,t,i)}function fN(e,t,i){return"start"===e?t:"end"===e?i:e}class fL extends fR{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return fI(e,t,i,n)}parseArrayData(e,t,i,n){return fI(e,t,i,n)}parseObjectData(e,t,i,n){let s,a,r,o;let{iScale:c,vScale:l}=e,{xAxisKey:u="x",yAxisKey:p="y"}=this._parsing,d="x"===c.axis?u:p,h="x"===l.axis?u:p,m=[];for(s=i,a=i+n;s<a;++s)o=t[s],(r={})[c.axis]=c.parse(hw(o,d),s),m.push(fO(hw(o,h),r,l,s));return m}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);let s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let{iScale:t,vScale:i}=this._cachedMeta,n=this.getParsed(e),s=n._custom,a=fP(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(n[i.axis]);return{label:""+t.getLabelForValue(n[t.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){let s="reset"===n,{index:a,_cachedMeta:{vScale:r}}=this,o=r.getBasePixel(),c=r.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(t,n);for(let d=t;d<t+i;d++){let t=this.getParsed(d),i=s||hn(t[r.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),h=this._calculateBarIndexPixels(d,l),m=(t._stacks||{})[r.axis],f={horizontal:c,base:i.base,enableBorderRadius:!m||fP(t._custom)||a===m._top||a===m._bottom,x:c?i.head:h.center,y:c?h.center:i.head,height:c?h.size:Math.abs(i.size),width:c?Math.abs(i.size):h.size};p&&(f.options=u||this.resolveDataElementOptions(d,e[d].active?"active":n));let g=f.options||e[d].options;(function(e,t,i,n){let s,a,r,o,c,l=t.borderSkipped,u={};if(!l){e.borderSkipped=u;return}if(!0===l){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:p,end:d,reverse:h,top:m,bottom:f}=(e.horizontal?(s=e.base>e.x,a="left",r="right"):(s=e.base<e.y,a="bottom",r="top"),s?(o="end",c="start"):(o="start",c="end"),{start:a,end:r,reverse:s,top:o,bottom:c});"middle"===l&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?l=m:(i._bottom||0)===n?l=f:(u[fj(f,p,d,h)]=!0,l=m)),u[fj(l,p,d,h)]=!0,e.borderSkipped=u})(f,g,m,a),function(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}(f,g,l.ratio),this.updateElement(e[d],d,f,n)}}_getStacks(e,t){let{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=i.options.stacked,a=[],r=e=>{let i=e.controller.getParsed(t),n=i&&i[e.vScale.axis];if(hn(n)||isNaN(n))return!0};for(let i of n)if(!(void 0!==t&&r(i))&&((!1===s||-1===a.indexOf(i.stack)||void 0===s&&void 0===i.stack)&&a.push(i.stack),i.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){let n=this._getStacks(e,i),s=void 0!==t?n.indexOf(t):-1;return -1===s?n.length-1:s}_getRuler(){let e,t;let i=this.options,n=this._cachedMeta,s=n.iScale,a=[];for(e=0,t=n.data.length;e<t;++e)a.push(s.getPixelForValue(this.getParsed(e)[s.axis],e));let r=i.barThickness;return{min:r||function(e){let t,i,n,s;let a=e.iScale,r=function(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),n=[];for(let t=0,s=i.length;t<s;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=h0(n.sort((e,t)=>e-t))}return e._cache.$bar}(a,e.type),o=a._length,c=()=>{32767!==n&&-32768!==n&&(hk(s)&&(o=Math.min(o,Math.abs(n-s)||o)),s=n)};for(t=0,i=r.length;t<i;++t)n=a.getPixelForValue(r[t]),c();for(t=0,s=void 0,i=a.ticks.length;t<i;++t)n=a.getPixelForTick(t),c();return o}(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:i.grouped,ratio:r?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(e){let t,i;let{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:r,minBarLength:o}}=this,c=r||0,l=this.getParsed(e),u=l._custom,p=fP(u),d=l[n.axis],h=0,m=s?this.applyStack(n,l,s):d;m!==d&&(h=m-d,m=d),p&&(d=u.barStart,m=u.barEnd-u.barStart,0!==d&&hA(d)!==hA(u.barEnd)&&(h=0),h+=d);let f=hn(r)||p?h:r,g=n.getPixelForValue(f);if(Math.abs(i=(t=this.chart.getDataVisibility(e)?n.getPixelForValue(h+m):g)-g)<o){var v;i=(0!==(v=i)?hA(v):(n.isHorizontal()?1:-1)*(n.min>=c?1:-1))*o,d===c&&(g-=i/2);let e=n.getPixelForDecimal(0),r=n.getPixelForDecimal(1);t=(g=Math.max(Math.min(g,Math.max(e,r)),Math.min(e,r)))+i,s&&!p&&(l._stacks[n.axis]._visualValues[a]=n.getValueForPixel(t)-n.getValueForPixel(g))}if(g===n.getPixelForValue(c)){let e=hA(i)*n.getLineWidthForValue(c)/2;g+=e,i-=e}return{size:i,base:g,head:t,center:t+i/2}}_calculateBarIndexPixels(e,t){let i,n;let s=t.scale,a=this.options,r=a.skipNull,o=hc(a.maxBarThickness,1/0);if(t.grouped){let s=r?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,i,n){let s=t.pixels,a=s[e],r=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null,c=i.categoryPercentage;null===r&&(r=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-r);let l=a-(a-Math.min(r,o))/2*c;return{chunk:Math.abs(o-r)/2*c/n,ratio:i.barPercentage,start:l}}(e,t,a,s):function(e,t,i,n){let s,a;let r=i.barThickness;return hn(r)?(s=t.min*i.categoryPercentage,a=i.barPercentage):(s=r*n,a=1),{chunk:s/n,ratio:a,start:t.pixels[e]-s/2}}(e,t,a,s),l=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);i=c.start+c.chunk*l+c.chunk/2,n=Math.min(o,c.chunk*c.ratio)}else i=s.getPixelForValue(this.getParsed(e)[s.axis],e),n=Math.min(o,t.min*t.ratio);return{base:i-n/2,head:i+n/2,center:i,size:n}}draw(){let e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length,s=0;for(;s<n;++s)null!==this.getParsed(s)[t.axis]&&i[s].draw(this._ctx)}}class fA extends fR{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){let s=super.parsePrimitiveData(e,t,i,n);for(let e=0;e<s.length;e++)s[e]._custom=this.resolveDataElementOptions(e+i).radius;return s}parseArrayData(e,t,i,n){let s=super.parseArrayData(e,t,i,n);for(let e=0;e<s.length;e++){let n=t[i+e];s[e]._custom=hc(n[2],this.resolveDataElementOptions(e+i).radius)}return s}parseObjectData(e,t,i,n){let s=super.parseObjectData(e,t,i,n);for(let e=0;e<s.length;e++){let n=t[i+e];s[e]._custom=hc(n&&n.r&&+n.r,this.resolveDataElementOptions(e+i).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,a=this.getParsed(e),r=n.getLabelForValue(a.x),o=s.getLabelForValue(a.y),c=a._custom;return{label:i[e]||"",value:"("+r+", "+o+(c?", "+c:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){let s="reset"===n,{iScale:a,vScale:r}=this._cachedMeta,{sharedOptions:o,includeOptions:c}=this._getSharedOptions(t,n),l=a.axis,u=r.axis;for(let p=t;p<t+i;p++){let t=e[p],i=!s&&this.getParsed(p),d={},h=d[l]=s?a.getPixelForDecimal(.5):a.getPixelForValue(i[l]),m=d[u]=s?r.getBasePixel():r.getPixelForValue(i[u]);d.skip=isNaN(h)||isNaN(m),c&&(d.options=o||this.resolveDataElementOptions(p,t.active?"active":n),s&&(d.options.radius=0)),this.updateElement(t,p,d,n)}}resolveDataElementOptions(e,t){let i=this.getParsed(e),n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));let s=n.radius;return"active"!==t&&(n.radius=0),n.radius+=hc(i&&i._custom,s),n}}class fD extends fR{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,s)=>{let a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let s,a,r=e=>+i[e];if(ha(i[e])){let{key:e="value"}=this._parsing;r=t=>+hw(i[t],e)}for(s=e,a=e+t;s<a;++s)n._parsed[s]=r(s)}}_getRotation(){return hB(this.options.rotation-90)}_getCircumference(){return hB(this.options.circumference)}_getRotationExtents(){let e=hT,t=-hT;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let n=this.chart.getDatasetMeta(i).controller,s=n._getRotation(),a=n._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){let{chartArea:t}=this.chart,i=this._cachedMeta,n=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(t.width,t.height)-s)/2,0),r=Math.min(hl(this.options.cutout,a),1),o=this._getRingWeight(this.index),{circumference:c,rotation:l}=this._getRotationExtents(),{ratioX:u,ratioY:p,offsetX:d,offsetY:h}=function(e,t,i){let n=1,s=1,a=0,r=0;if(t<hT){let o=e+t,c=Math.cos(e),l=Math.sin(e),u=Math.cos(o),p=Math.sin(o),d=(t,n,s)=>hH(t,e,o,!0)?1:Math.max(n,n*i,s,s*i),h=(t,n,s)=>hH(t,e,o,!0)?-1:Math.min(n,n*i,s,s*i),m=d(0,c,u),f=d(hP,l,p),g=h(hC,c,u),v=h(hC+hP,l,p);n=(m-g)/2,s=(f-v)/2,a=-(m+g)/2,r=-(f+v)/2}return{ratioX:n,ratioY:s,offsetX:a,offsetY:r}}(l,c,r),m=(t.width-s)/u,f=(t.height-s)/p,g=hu(this.options.radius,Math.max(Math.min(m,f)/2,0)),v=Math.max(g*r,0),b=(g-v)/this._getVisibleDatasetWeightTotal();this.offsetX=d*g,this.offsetY=h*g,i.total=this.calculateTotal(),this.outerRadius=g-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*o,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){let i=this.options,n=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/hT)}updateElements(e,t,i,n){let s;let a="reset"===n,r=this.chart,o=r.chartArea,c=r.options.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,p=a&&c.animateScale,d=p?0:this.innerRadius,h=p?0:this.outerRadius,{sharedOptions:m,includeOptions:f}=this._getSharedOptions(t,n),g=this._getRotation();for(s=0;s<t;++s)g+=this._circumference(s,a);for(s=t;s<t+i;++s){let t=this._circumference(s,a),i=e[s],r={x:l+this.offsetX,y:u+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};f&&(r.options=m||this.resolveDataElementOptions(s,i.active?"active":n)),g+=t,this.updateElement(i,s,r,n)}}calculateTotal(){let e;let t=this._cachedMeta,i=t.data,n=0;for(e=0;e<i.length;e++){let s=t._parsed[e];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(e)&&!i[e].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Math.abs(e)/t*hT:0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=mo(t._parsed[e],i.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let t,i,n,s,a,r=0,o=this.chart;if(!e){for(t=0,i=o.data.datasets.length;t<i;++t)if(o.isDatasetVisible(t)){e=(n=o.getDatasetMeta(t)).data,s=n.controller;break}}if(!e)return 0;for(t=0,i=e.length;t<i;++t)"inner"!==(a=s.resolveDataElementOptions(t)).borderAlign&&(r=Math.max(r,a.borderWidth||0,a.hoverBorderWidth||0));return r}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){let e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(hc(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class fU extends fR{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:i,data:n=[],_dataset:s}=t,a=this.chart._animationsDisabled,{start:r,count:o}=h6(t,n,a);this._drawStart=r,this._drawCount=o,h5(t)&&(r=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;let c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:c},e),this.updateElements(n,r,o,e)}updateElements(e,t,i,n){let s="reset"===n,{iScale:a,vScale:r,_stacked:o,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,n),p=a.axis,d=r.axis,{spanGaps:h,segment:m}=this.options,f=hM(h)?h:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===n,v=t+i,b=e.length,x=t>0&&this.getParsed(t-1);for(let i=0;i<b;++i){let h=e[i],b=g?h:{};if(i<t||i>=v){b.skip=!0;continue}let y=this.getParsed(i),w=hn(y[d]),_=b[p]=a.getPixelForValue(y[p],i),k=b[d]=s||w?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,y,o):y[d],i);b.skip=isNaN(_)||isNaN(k)||w,b.stop=i>0&&Math.abs(y[p]-x[p])>f,m&&(b.parsed=y,b.raw=c.data[i]),u&&(b.options=l||this.resolveDataElementOptions(i,h.active?"active":n)),g||this.updateElement(h,i,b,n),x=y}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];return n.length?Math.max(i,n[0].size(this.resolveDataElementOptions(0)),n[n.length-1].size(this.resolveDataElementOptions(n.length-1)))/2:i}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class fM extends fR{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((t,s)=>{let a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=mo(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:s}}parseObjectData(e,t,i,n){return mK.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,i)=>{let n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,i=e.options,n=Math.max(Math.min(t.right-t.left,t.bottom-t.top)/2,0),s=Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0),a=(n-s)/e.getVisibleDatasetCount();this.outerRadius=n-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,i,n){let s;let a="reset"===n,r=this.chart,o=r.options.animation,c=this._cachedMeta.rScale,l=c.xCenter,u=c.yCenter,p=c.getIndexAngle(0)-.5*hC,d=p,h=360/this.countVisibleElements();for(s=0;s<t;++s)d+=this._computeAngle(s,n,h);for(s=t;s<t+i;s++){let t=e[s],i=d,m=d+this._computeAngle(s,n,h),f=r.getDataVisibility(s)?c.getDistanceFromCenterForValue(this.getParsed(s).r):0;d=m,a&&(o.animateScale&&(f=0),o.animateRotate&&(i=m=p));let g={x:l,y:u,innerRadius:0,outerRadius:f,startAngle:i,endAngle:m,options:this.resolveDataElementOptions(s,t.active?"active":n)};this.updateElement(t,s,g,n)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?hB(this.resolveDataElementOptions(e,t).angle||i):0}}class fF extends fD{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class fB extends fR{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return mK.bind(this)(e,t,i,n)}update(e){let t=this._cachedMeta,i=t.dataset,n=t.data||[],s=t.iScale.getLabels();if(i.points=n,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);let a={_loop:!0,_fullLoop:s.length===n.length,options:t};this.updateElement(i,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){let s=this._cachedMeta.rScale,a="reset"===n;for(let r=t;r<t+i;r++){let t=e[r],i=this.resolveDataElementOptions(r,t.active?"active":n),o=s.getPointPositionForValue(r,this.getParsed(r).r),c=a?s.xCenter:o.x,l=a?s.yCenter:o.y,u={x:c,y:l,angle:o.angle,skip:isNaN(c)||isNaN(l),options:i};this.updateElement(t,r,u,n)}}}class f$ extends fR{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,a=this.getParsed(e),r=n.getLabelForValue(a.x),o=s.getLabelForValue(a.y);return{label:i[e]||"",value:"("+r+", "+o+")"}}update(e){let t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled,{start:s,count:a}=h6(t,i,n);if(this._drawStart=s,this._drawCount=a,h5(t)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:s,_dataset:a}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;let r=this.resolveDatasetElementOptions(e);r.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:r},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){let s="reset"===n,{iScale:a,vScale:r,_stacked:o,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(t,n),u=this.getSharedOptions(l),p=this.includeOptions(n,u),d=a.axis,h=r.axis,{spanGaps:m,segment:f}=this.options,g=hM(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===n,b=t>0&&this.getParsed(t-1);for(let l=t;l<t+i;++l){let t=e[l],i=this.getParsed(l),m=v?t:{},x=hn(i[h]),y=m[d]=a.getPixelForValue(i[d],l),w=m[h]=s||x?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,i,o):i[h],l);m.skip=isNaN(y)||isNaN(w)||x,m.stop=l>0&&Math.abs(i[d]-b[d])>g,f&&(m.parsed=i,m.raw=c.data[l]),p&&(m.options=u||this.resolveDataElementOptions(l,t.active?"active":n)),v||this.updateElement(t,l,m,n),b=i}this.updateSharedOptions(u,n,l)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}let i=e.dataset,n=i.options&&i.options.borderWidth||0;return t.length?Math.max(n,t[0].size(this.resolveDataElementOptions(0)),t[t.length-1].size(this.resolveDataElementOptions(t.length-1)))/2:n}}function fz(){throw Error("This method is not implemented: Check that a complete date adapter is provided.")}class fV{static override(e){Object.assign(fV.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return fz()}parse(){return fz()}format(){return fz()}add(){return fz()}diff(){return fz()}startOf(){return fz()}endOf(){return fz()}}var fW={_date:fV};function fq(e,t,i,n,s){let a=e.getSortedVisibleDatasetMetas(),r=i[t];for(let e=0,i=a.length;e<i;++e){let{index:i,data:o}=a[e],{lo:c,hi:l}=function(e,t,i,n){let{controller:s,data:a,_sorted:r}=e,o=s._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&r&&a.length){let e=o._reversePixels?hX:hY;if(!n)return e(a,t,i);if(s._sharedOptions){let n=a[0],s="function"==typeof n.getRange&&n.getRange(t);if(s){let n=e(a,t,i-s),r=e(a,t,i+s);return{lo:n.lo,hi:r.hi}}}}return{lo:0,hi:a.length-1}}(a[e],t,r,s);for(let e=c;e<=l;++e){let t=o[e];t.skip||n(t,i,e)}}}function fH(e,t,i,n,s){let a=[];return(s||e.isPointInArea(t))&&fq(e,i,t,function(i,r,o){(s||my(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&a.push({element:i,datasetIndex:r,index:o})},!0),a}function fG(e,t,i,n,s,a){let r;return a||e.isPointInArea(t)?"r"!==i||n?function(e,t,i,n,s,a){let r=[],o=function(e){let t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){return Math.sqrt(Math.pow(t?Math.abs(e.x-n.x):0,2)+Math.pow(i?Math.abs(e.y-n.y):0,2))}}(i),c=Number.POSITIVE_INFINITY;return fq(e,i,t,function(i,l,u){let p=i.inRange(t.x,t.y,s);if(n&&!p)return;let d=i.getCenterPoint(s);if(!(a||e.isPointInArea(d))&&!p)return;let h=o(t,d);h<c?(r=[{element:i,datasetIndex:l,index:u}],c=h):h===c&&r.push({element:i,datasetIndex:l,index:u})}),r}(e,t,i,n,s,a):(r=[],fq(e,i,t,function(e,i,n){let{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],s),{angle:c}=hz(e,{x:t.x,y:t.y});hH(c,a,o)&&r.push({element:e,datasetIndex:i,index:n})}),r):[]}function fK(e,t,i,n,s){let a=[],r="x"===i?"inXRange":"inYRange",o=!1;return(fq(e,i,t,(e,n,c)=>{e[r](t[i],s)&&(a.push({element:e,datasetIndex:n,index:c}),o=o||e.inRange(t.x,t.y,s))}),n&&!o)?[]:a}var fJ={modes:{index(e,t,i,n){let s=m5(t,e),a=i.axis||"x",r=i.includeInvisible||!1,o=i.intersect?fH(e,s,a,n,r):fG(e,s,a,!1,n,r),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{let t=o[0].index,i=e.data[t];i&&!i.skip&&c.push({element:i,datasetIndex:e.index,index:t})}),c):[]},dataset(e,t,i,n){let s=m5(t,e),a=i.axis||"xy",r=i.includeInvisible||!1,o=i.intersect?fH(e,s,a,n,r):fG(e,s,a,!1,n,r);if(o.length>0){let t=o[0].datasetIndex,i=e.getDatasetMeta(t).data;o=[];for(let e=0;e<i.length;++e)o.push({element:i[e],datasetIndex:t,index:e})}return o},point(e,t,i,n){let s=m5(t,e);return fH(e,s,i.axis||"xy",n,i.includeInvisible||!1)},nearest(e,t,i,n){let s=m5(t,e),a=i.axis||"xy",r=i.includeInvisible||!1;return fG(e,s,a,i.intersect,n,r)},x(e,t,i,n){let s=m5(t,e);return fK(e,s,"x",i.intersect,n)},y(e,t,i,n){let s=m5(t,e);return fK(e,s,"y",i.intersect,n)}}};let fY=["left","top","right","bottom"];function fX(e,t){return e.filter(e=>e.pos===t)}function fZ(e,t){return e.filter(e=>-1===fY.indexOf(e.pos)&&e.box.axis===t)}function fQ(e,t){return e.sort((e,i)=>{let n=t?i:e,s=t?e:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight})}function f0(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function f1(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function f2(e,t,i,n){let s,a,r,o,c,l;let u=[];for(s=0,a=e.length,c=0;s<a;++s){(o=(r=e[s]).box).update(r.width||t.w,r.height||t.h,function(e,t){let i=t.maxPadding;return function(e){let n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],i[e])}),n}(e?["left","right"]:["top","bottom"])}(r.horizontal,t));let{same:a,other:p}=function(e,t,i,n){let{pos:s,box:a}=i,r=e.maxPadding;if(!ha(s)){i.size&&(e[s]-=i.size);let t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?a.height:a.width),i.size=t.size/t.count,e[s]+=i.size}a.getPadding&&f1(r,a.getPadding());let o=Math.max(0,t.outerWidth-f0(r,e,"left","right")),c=Math.max(0,t.outerHeight-f0(r,e,"top","bottom")),l=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,i.horizontal?{same:l,other:u}:{same:u,other:l}}(t,i,r,n);c|=a&&u.length,l=l||p,o.fullSize||u.push(r)}return c&&f2(u,t,i,n)||l}function f3(e,t,i,n,s){e.top=i,e.left=t,e.right=t+n,e.bottom=i+s,e.width=n,e.height=s}function f4(e,t,i,n){let s=i.padding,{x:a,y:r}=t;for(let o of e){let e=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},l=o.stackWeight/c.weight||1;if(o.horizontal){let n=t.w*l,a=c.size||e.height;hk(c.start)&&(r=c.start),e.fullSize?f3(e,s.left,r,i.outerWidth-s.right-s.left,a):f3(e,t.left+c.placed,r,n,a),c.start=r,c.placed+=n,r=e.bottom}else{let n=t.h*l,r=c.size||e.width;hk(c.start)&&(a=c.start),e.fullSize?f3(e,a,s.top,r,i.outerHeight-s.bottom-s.top):f3(e,a,t.top+c.placed,r,n),c.start=a,c.placed+=n,a=e.right}}t.x=a,t.y=r}var f6={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;let s=mN(e.options.layout.padding),a=Math.max(t-s.width,0),r=Math.max(i-s.height,0),o=function(e){let t=function(e){let t,i,n,s,a,r;let o=[];for(t=0,i=(e||[]).length;t<i;++t)n=e[t],({position:s,options:{stack:a,stackWeight:r=1}}=n),o.push({index:t,box:n,pos:s,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&s+a,stackWeight:r});return o}(e),i=fQ(t.filter(e=>e.box.fullSize),!0),n=fQ(fX(t,"left"),!0),s=fQ(fX(t,"right")),a=fQ(fX(t,"top"),!0),r=fQ(fX(t,"bottom")),o=fZ(t,"x"),c=fZ(t,"y");return{fullSize:i,leftAndTop:n.concat(a),rightAndBottom:s.concat(c).concat(r).concat(o),chartArea:fX(t,"chartArea"),vertical:n.concat(s).concat(c),horizontal:a.concat(r).concat(o)}}(e.boxes),c=o.vertical,l=o.horizontal;hd(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});let u=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/(c.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1),hBoxMaxHeight:r/2}),p=Object.assign({},s);f1(p,mN(n));let d=Object.assign({maxPadding:p,w:a,h:r,x:s.left,y:s.top},s),h=function(e,t){let i,n,s;let a=function(e){let t={};for(let i of e){let{stack:e,pos:n,stackWeight:s}=i;if(!e||!fY.includes(n))continue;let a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;for(i=0,n=e.length;i<n;++i){let{fullSize:n}=(s=e[i]).box,c=a[s.stack],l=c&&s.stackWeight/c.weight;s.horizontal?(s.width=l?l*r:n&&t.availableWidth,s.height=o):(s.width=r,s.height=l?l*o:n&&t.availableHeight)}return a}(c.concat(l),u);f2(o.fullSize,d,u,h),f2(c,d,u,h),f2(l,d,u,h)&&f2(c,d,u,h),function(e){let t=e.maxPadding;function i(i){let n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(d),f4(o.leftAndTop,d,u,h),d.x+=d.w,d.y+=d.h,f4(o.rightAndBottom,d,u,h),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},hd(o.chartArea,t=>{let i=t.box;Object.assign(i,e.chartArea),i.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class f5{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class f8 extends f5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}let f9="$chartjs",f7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ge=e=>null===e||""===e,gt=!!m7&&{passive:!0};function gi(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function gn(e,t,i){let n=e.canvas,s=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||gi(i.addedNodes,n))&&!gi(i.removedNodes,n);t&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}function gs(e,t,i){let n=e.canvas,s=new MutationObserver(e=>{let t=!1;for(let i of e)t=(t=t||gi(i.removedNodes,n))&&!gi(i.addedNodes,n);t&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}let ga=new Map,gr=0;function go(){let e=window.devicePixelRatio;e!==gr&&(gr=e,ga.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function gc(e,t,i){let n=e.canvas,s=n&&m0(n);if(!s)return;let a=h2((e,t)=>{let n=s.clientWidth;i(e,t),n<s.clientWidth&&i()},window),r=new ResizeObserver(e=>{let t=e[0],i=t.contentRect.width,n=t.contentRect.height;(0!==i||0!==n)&&a(i,n)});return r.observe(s),ga.size||window.addEventListener("resize",go),ga.set(e,a),r}function gl(e,t,i){i&&i.disconnect(),"resize"===t&&(ga.delete(e),ga.size||window.removeEventListener("resize",go))}function gu(e,t,i){let n=e.canvas,s=h2(t=>{null!==e.ctx&&i(function(e,t){let i=f7[e.type]||e.type,{x:n,y:s}=m5(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(t,e))},e);return n&&n.addEventListener(t,s,gt),s}class gp extends f5{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){let i=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[f9]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ge(s)){let t=fe(e,"width");void 0!==t&&(e.width=t)}if(ge(n)){if(""===e.style.height)e.height=e.width/(t||2);else{let t=fe(e,"height");void 0!==t&&(e.height=t)}}}(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[f9])return!1;let i=t[f9].initial;["height","width"].forEach(e=>{let n=i[e];hn(n)?t.removeAttribute(e):t.setAttribute(e,n)});let n=i.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[f9],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let n=e.$proxies||(e.$proxies={}),s={attach:gn,detach:gs,resize:gc}[t]||gu;n[t]=s(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),n=i[t];n&&((({attach:gl,detach:gl,resize:gl})[t]||function(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,gt)})(e,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return function(e,t,i,n){let s=m2(e),a=m4(s,"margin"),r=m1(s.maxWidth,e,"clientWidth")||hO,o=m1(s.maxHeight,e,"clientHeight")||hO,c=function(e,t,i){let n,s;if(void 0===t||void 0===i){let a=m0(e);if(a){let e=a.getBoundingClientRect(),r=m2(a),o=m4(r,"border","width"),c=m4(r,"padding");t=e.width-c.width-o.width,i=e.height-c.height-o.height,n=m1(r.maxWidth,a,"clientWidth"),s=m1(r.maxHeight,a,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||hO,maxHeight:s||hO}}(e,t,i),{width:l,height:u}=c;if("content-box"===s.boxSizing){let e=m4(s,"border","width"),t=m4(s,"padding");l-=t.width+e.width,u-=t.height+e.height}return l=Math.max(0,l-a.width),u=Math.max(0,n?l/n:u-a.height),l=m8(Math.min(l,r,c.maxWidth)),u=m8(Math.min(u,o,c.maxHeight)),l&&!u&&(u=m8(l/2)),(void 0!==t||void 0!==i)&&n&&c.height&&u>c.height&&(l=m8(Math.floor((u=c.height)*n))),{width:l,height:u}}(e,t,i,n)}isAttached(e){let t=m0(e);return!!(t&&t.isConnected)}}class gd{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return hM(this.x)&&hM(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let n={};return e.forEach(e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]}),n}}function gh(e,t,i,n,s){let a,r,o;let c=hc(n,0),l=Math.min(hc(s,e.length),e.length),u=0;for(i=Math.ceil(i),s&&(i=(a=s-n)/Math.floor(a/i)),o=c;o<0;)o=Math.round(c+ ++u*i);for(r=Math.max(c,0);r<l;r++)r===o&&(t.push(e[r]),o=Math.round(c+ ++u*i))}let gm=e=>"left"===e?"right":"right"===e?"left":e,gf=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,gg=(e,t)=>Math.min(t||e,e);function gv(e,t){let i=[],n=e.length/t,s=e.length,a=0;for(;a<s;a+=n)i.push(e[Math.floor(a)]);return i}function gb(e){return e.drawTicks?e.tickLength:0}function gx(e,t){if(!e.display)return 0;let i=mL(e.font,t),n=mN(e.padding);return(hs(e.text)?e.text.length:1)*i.lineHeight+n.height}class gy extends gd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=ho(e,Number.POSITIVE_INFINITY),t=ho(t,Number.NEGATIVE_INFINITY),i=ho(i,Number.POSITIVE_INFINITY),n=ho(n,Number.NEGATIVE_INFINITY),{min:ho(e,i),max:ho(t,n),minDefined:hr(e),maxDefined:hr(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:i,max:n};let r=this.getMatchingVisibleMetas();for(let o=0,c=r.length;o<c;++o)t=r[o].controller.getMinMax(this,e),s||(i=Math.min(i,t.min)),a||(n=Math.max(n,t.max));return i=a&&i>n?n:i,n=s&&i>n?i:n,{min:ho(i,ho(n,i)),max:ho(n,ho(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){hp(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:n,grace:s,ticks:a}=this.options,r=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){let{min:n,max:s}=e,a=hu(t,(s-n)/2),r=(e,t)=>i&&0===e?0:e+t;return{min:r(n,-Math.abs(a)),max:r(s,a)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let o=r<this.ticks.length;this._convertTicksToLabels(o?gv(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function(e,t){let i=e.options.ticks,n=function(e){let t=e.options.offset,i=e._tickSize();return Math.floor(Math.min(e._length/i+(t?0:1),e._maxLength/i))}(e),s=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(e){let t,i;let n=[];for(t=0,i=e.length;t<i;t++)e[t].major&&n.push(t);return n}(t):[],r=a.length,o=a[0],c=a[r-1],l=[];if(r>s)return function(e,t,i,n){let s,a=0,r=i[0];for(s=0,n=Math.ceil(n);s<e.length;s++)s===r&&(t.push(e[s]),r=i[++a*n])}(t,l,a,r/s),l;let u=function(e,t,i){let n=function(e){let t,i;let n=e.length;if(n<2)return!1;for(i=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==i)return!1;return i}(e),s=t.length/i;if(!n)return Math.max(s,1);let a=function(e){let t;let i=[],n=Math.sqrt(e);for(t=1;t<n;t++)e%t==0&&(i.push(t),i.push(e/t));return n===(0|n)&&i.push(n),i.sort((e,t)=>e-t).pop(),i}(n);for(let e=0,t=a.length-1;e<t;e++){let t=a[e];if(t>s)return t}return Math.max(s,1)}(a,t,s);if(r>0){let e,i;let n=r>1?Math.round((c-o)/(r-1)):null;for(gh(t,l,u,hn(n)?0:o-n,o),e=0,i=r-1;e<i;e++)gh(t,l,u,a[e],a[e+1]);return gh(t,l,u,c,hn(n)?t.length:c+n),l}return gh(t,l,u),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){hp(this.options.afterUpdate,[this])}beforeSetDimensions(){hp(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){hp(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),hp(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){hp(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t,i,n;let s=this.options.ticks;for(t=0,i=e.length;t<i;t++)(n=e[t]).label=hp(s.callback,[n.value,t,e],this)}afterTickToLabelConversion(){hp(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){hp(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e,t,i;let n=this.options,s=n.ticks,a=gg(this.ticks.length,n.ticks.maxTicksLimit),r=s.minRotation||0,o=s.maxRotation,c=r;if(!this._isVisible()||!s.display||r>=o||a<=1||!this.isHorizontal()){this.labelRotation=r;return}let l=this._getLabelSizes(),u=l.widest.width,p=l.highest.height,d=hG(this.chart.width-u,0,this.maxWidth);u+6>(e=n.offset?this.maxWidth/a:d/(a-1))&&(e=d/(a-(n.offset?.5:1)),t=this.maxHeight-gb(n.grid)-s.padding-gx(n.title,this.chart.options.font),i=Math.sqrt(u*u+p*p),c=Math.max(r,Math.min(o,c=180/hC*Math.min(Math.asin(hG((l.highest.height+6)/e,-1,1)),Math.asin(hG(t/i,-1,1))-Math.asin(hG(p/i,-1,1)))))),this.labelRotation=c}afterCalculateLabelRotation(){hp(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){hp(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:s}}=this,a=this._isVisible(),r=this.isHorizontal();if(a){let a=gx(n,t.options.font);if(r?(e.width=this.maxWidth,e.height=gb(s)+a):(e.height=this.maxHeight,e.width=gb(s)+a),i.display&&this.ticks.length){let{first:t,last:n,widest:s,highest:a}=this._getLabelSizes(),o=2*i.padding,c=hB(this.labelRotation),l=Math.cos(c),u=Math.sin(c);if(r){let t=i.mirror?0:u*s.width+l*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{let t=i.mirror?0:l*s.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,u,l)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){let{ticks:{align:s,padding:a},position:r}=this.options,o=0!==this.labelRotation,c="top"!==r&&"x"===this.axis;if(this.isHorizontal()){let r=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1),u=0,p=0;o?c?(u=n*e.width,p=i*t.height):(u=i*e.height,p=n*t.width):"start"===s?p=t.width:"end"===s?u=e.width:"inner"!==s&&(u=e.width/2,p=t.width/2),this.paddingLeft=Math.max((u-r+a)*this.width/(this.width-r),0),this.paddingRight=Math.max((p-l+a)*this.width/(this.width-l),0)}else{let i=t.height/2,n=e.height/2;"start"===s?(i=0,n=e.height):"end"===s&&(i=t.height,n=0),this.paddingTop=i+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){hp(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)hn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=gv(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let n,s,a,r,o,c,l,u,p,d,h;let{ctx:m,_longestTextCache:f}=this,g=[],v=[],b=Math.floor(t/gg(t,i)),x=0,y=0;for(n=0;n<t;n+=b){if(r=e[n].label,o=this._resolveTickFontOptions(n),m.font=c=o.string,l=f[c]=f[c]||{data:{},gc:[]},u=o.lineHeight,p=d=0,hn(r)||hs(r)){if(hs(r))for(s=0,a=r.length;s<a;++s)hn(h=r[s])||hs(h)||(p=mg(m,l.data,l.gc,p,h),d+=u)}else p=mg(m,l.data,l.gc,p,r),d=u;g.push(p),v.push(d),x=Math.max(p,x),y=Math.max(d,y)}hd(f,e=>{let i;let n=e.gc,s=n.length/2;if(s>t){for(i=0;i<s;++i)delete e.data[n[i]];n.splice(0,s)}});let w=g.indexOf(x),_=v.indexOf(y),k=e=>({width:g[e]||0,height:v[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(_),widths:g,heights:v}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return hG(this._alignToPixels?mv(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=mD(this.getContext(),{tick:i,index:e,type:"tick"}))}return this.$context||(this.$context=mD(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){let e=this.options.ticks,t=hB(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,r=s?s.widest.width+a:0,o=s?s.highest.height+a:0;return this.isHorizontal()?o*i>r*n?r/i:o/n:o*n<r*i?o/i:r/n}_isVisible(){let e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t,i,n,s,a,r,o,c,l,u,p,d;let h=this.axis,m=this.chart,f=this.options,{grid:g,position:v,border:b}=f,x=g.offset,y=this.isHorizontal(),w=this.ticks.length+(x?1:0),_=gb(g),k=[],S=b.setContext(this.getContext()),E=S.display?S.width:0,C=E/2,T=function(e){return mv(m,e,E)};if("top"===v)t=T(this.bottom),r=this.bottom-_,c=t-C,u=T(e.top)+C,d=e.bottom;else if("bottom"===v)t=T(this.top),u=e.top,d=T(e.bottom)-C,r=t+C,c=this.top+_;else if("left"===v)t=T(this.right),a=this.right-_,o=t-C,l=T(e.left)+C,p=e.right;else if("right"===v)t=T(this.left),l=e.left,p=T(e.right)-C,a=t+C,o=this.left+_;else if("x"===h){if("center"===v)t=T((e.top+e.bottom)/2+.5);else if(ha(v)){let e=Object.keys(v)[0],i=v[e];t=T(this.chart.scales[e].getPixelForValue(i))}u=e.top,d=e.bottom,c=(r=t+C)+_}else if("y"===h){if("center"===v)t=T((e.left+e.right)/2);else if(ha(v)){let e=Object.keys(v)[0],i=v[e];t=T(this.chart.scales[e].getPixelForValue(i))}o=(a=t-C)-_,l=e.left,p=e.right}let R=hc(f.ticks.maxTicksLimit,w),O=Math.max(1,Math.ceil(w/R));for(i=0;i<w;i+=O){let e=this.getContext(i),t=g.setContext(e),h=b.setContext(e),f=t.lineWidth,v=t.color,w=h.dash||[],_=h.dashOffset,S=t.tickWidth,E=t.tickColor,C=t.tickBorderDash||[],T=t.tickBorderDashOffset;void 0!==(n=function(e,t,i){let n;let s=e.ticks.length,a=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,c=e.getPixelForTick(a);if(!i||(n=1===s?Math.max(c-r,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,!((c+=a<t?n:-n)<r-1e-6)&&!(c>o+1e-6)))return c}(this,i,x))&&(s=mv(m,n,f),y?a=o=l=p=s:r=c=u=d=s,k.push({tx1:a,ty1:r,tx2:o,ty2:c,x1:l,y1:u,x2:p,y2:d,width:f,color:v,borderDash:w,borderDashOffset:_,tickWidth:S,tickColor:E,tickBorderDash:C,tickBorderDashOffset:T}))}return this._ticksLength=w,this._borderValue=t,k}_computeLabelItems(e){let t,i,n,s,a,r,o,c,l,u,p;let d=this.axis,h=this.options,{position:m,ticks:f}=h,g=this.isHorizontal(),v=this.ticks,{align:b,crossAlign:x,padding:y,mirror:w}=f,_=gb(h.grid),k=_+y,S=w?-y:k,E=-hB(this.labelRotation),C=[],T="middle";if("top"===m)a=this.bottom-S,r=this._getXAxisLabelAlignment();else if("bottom"===m)a=this.top+S,r=this._getXAxisLabelAlignment();else if("left"===m){let e=this._getYAxisLabelAlignment(_);r=e.textAlign,s=e.x}else if("right"===m){let e=this._getYAxisLabelAlignment(_);r=e.textAlign,s=e.x}else if("x"===d){if("center"===m)a=(e.top+e.bottom)/2+k;else if(ha(m)){let e=Object.keys(m)[0],t=m[e];a=this.chart.scales[e].getPixelForValue(t)+k}r=this._getXAxisLabelAlignment()}else if("y"===d){if("center"===m)s=(e.left+e.right)/2-k;else if(ha(m)){let e=Object.keys(m)[0],t=m[e];s=this.chart.scales[e].getPixelForValue(t)}r=this._getYAxisLabelAlignment(_).textAlign}"y"===d&&("start"===b?T="top":"end"===b&&(T="bottom"));let R=this._getLabelSizes();for(t=0,i=v.length;t<i;++t){let e;n=v[t].label;let d=f.setContext(this.getContext(t));o=this.getPixelForTick(t)+f.labelOffset,l=(c=this._resolveTickFontOptions(t)).lineHeight;let h=(u=hs(n)?n.length:1)/2,b=d.color,y=d.textStrokeColor,_=d.textStrokeWidth,k=r;if(g?(s=o,"inner"===r&&(k=t===i-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),p="top"===m?"near"===x||0!==E?-u*l+l/2:"center"===x?-R.highest.height/2-h*l+l:-R.highest.height+l/2:"near"===x||0!==E?l/2:"center"===x?R.highest.height/2-h*l:R.highest.height-u*l,w&&(p*=-1),0===E||d.showLabelBackdrop||(s+=l/2*Math.sin(E))):(a=o,p=(1-u)*l/2),d.showLabelBackdrop){let n=mN(d.backdropPadding),s=R.heights[t],a=R.widths[t],o=p-n.top,c=0-n.left;switch(T){case"middle":o-=s/2;break;case"bottom":o-=s}switch(r){case"center":c-=a/2;break;case"right":c-=a;break;case"inner":t===i-1?c-=a:t>0&&(c-=a/2)}e={left:c,top:o,width:a+n.width,height:s+n.height,color:d.backdropColor}}C.push({label:n,font:c,textOffset:p,options:{rotation:E,color:b,strokeColor:y,strokeWidth:_,textAlign:k,textBaseline:T,translation:[s,a],backdrop:e}})}return C}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-hB(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){let t,i;let{position:n,ticks:{crossAlign:s,mirror:a,padding:r}}=this.options,o=this._getLabelSizes(),c=e+r,l=o.widest.width;return"left"===n?a?(i=this.right+r,"near"===s?t="left":"center"===s?(t="center",i+=l/2):(t="right",i+=l)):(i=this.right-c,"near"===s?t="right":"center"===s?(t="center",i-=l/2):(t="left",i=this.left)):"right"===n?a?(i=this.left+r,"near"===s?t="right":"center"===s?(t="center",i-=l/2):(t="left",i-=l)):(i=this.left+c,"near"===s?t="left":"center"===s?(t="center",i+=l/2):(t="right",i=this.right)):t="right",{textAlign:t,x:i}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:n,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,s,a),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(t=>t.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t,i;let n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),r=(e,t,i)=>{i.width&&i.color&&(s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.setLineDash(i.borderDash||[]),s.lineDashOffset=i.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(n.display)for(t=0,i=a.length;t<i;++t){let e=a[t];n.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),n.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){let e,t,i,n;let{chart:s,ctx:a,options:{border:r,grid:o}}=this,c=r.setContext(this.getContext()),l=r.display?c.width:0;if(!l)return;let u=o.setContext(this.getContext(0)).lineWidth,p=this._borderValue;this.isHorizontal()?(e=mv(s,this.left,l)-l/2,t=mv(s,this.right,u)+u/2,i=n=p):(i=mv(s,this.top,l)-l/2,n=mv(s,this.bottom,u)+u/2,e=t=p),a.save(),a.lineWidth=c.width,a.strokeStyle=c.color,a.beginPath(),a.moveTo(e,i),a.lineTo(t,n),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;let t=this.ctx,i=this._computeLabelArea();for(let n of(i&&mw(t,i),this.getLabelItems(e))){let e=n.options,i=n.font;mE(t,n.label,0,n.textOffset,i,e)}i&&function(e){e.restore()}(t)}drawTitle(){let e;let{ctx:t,options:{position:i,title:n,reverse:s}}=this;if(!n.display)return;let a=mL(n.font),r=mN(n.padding),o=n.align,c=a.lineHeight/2;"bottom"===i||"center"===i||ha(i)?(c+=r.bottom,hs(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=r.top;let{titleX:l,titleY:u,maxWidth:p,rotation:d}=function(e,t,i,n){let s,a,r;let{top:o,left:c,bottom:l,right:u,chart:p}=e,{chartArea:d,scales:h}=p,m=0,f=l-o,g=u-c;if(e.isHorizontal()){if(a=h4(n,c,u),ha(i)){let e=Object.keys(i)[0],n=i[e];r=h[e].getPixelForValue(n)+f-t}else r="center"===i?(d.bottom+d.top)/2+f-t:gf(e,i,t);s=u-c}else{if(ha(i)){let e=Object.keys(i)[0],n=i[e];a=h[e].getPixelForValue(n)-g+t}else a="center"===i?(d.left+d.right)/2-g+t:gf(e,i,t);r=h4(n,l,o),m="left"===i?-hP:hP}return{titleX:a,titleY:r,maxWidth:s,rotation:m}}(this,c,i,o);mE(t,n.text,0,0,a,{color:n.color,maxWidth:p,rotation:d,textAlign:(e=h3(o),(s&&"right"!==i||!s&&"right"===i)&&(e=gm(e)),e),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=hc(e.grid&&e.grid.z,-1),n=hc(e.border&&e.border.z,0);return this._isVisible()&&this.draw===gy.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){let t,i;let n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];for(t=0,i=n.length;t<i;++t){let i=n[t];i[s]!==this.id||e&&i.type!==e||a.push(i)}return a}_resolveTickFontOptions(e){return mL(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gw{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t;let i=Object.getPrototypeOf(e);"id"in i&&"defaults"in i&&(t=this.register(i));let n=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw Error("class does not have id: "+e);return s in n||(n[s]=e,function(e,t,i){let n=hv(Object.create(null),[i?mf.get(i):{},mf.get(t),e.defaults]);mf.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(i=>{let n=i.split("."),s=n.pop(),a=[e].concat(n).join("."),r=t[i].split("."),o=r.pop(),c=r.join(".");mf.route(a,s,c,o)})}(t,e.defaultRoutes),e.descriptors&&mf.describe(t,e.descriptors)}(e,a,t),this.override&&mf.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in mf[n]&&(delete mf[n][i],this.override&&delete mu[i])}}class g_{constructor(){this.controllers=new gw(fR,"datasets",!0),this.elements=new gw(gd,"elements"),this.plugins=new gw(Object,"plugins"),this.scales=new gw(gy,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(t=>{let n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):hd(t,t=>{let n=i||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,i){let n=h_(e);hp(i["before"+n],[],i),t[e](i),hp(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let n=t.get(e);if(void 0===n)throw Error('"'+e+'" is not a registered '+i+".");return n}}var gk=new g_;class gS{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,n){for(let s of(n=n||{},e)){let e=s.plugin;if(!1===hp(e[i],[t,n,s.options],e)&&n.cancelable)return!1}return!0}invalidate(){hn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,n=hc(i.options&&i.options.plugins,{}),s=function(e){let t={},i=[],n=Object.keys(gk.plugins.items);for(let e=0;e<n.length;e++)i.push(gk.getPlugin(n[e]));let s=e.plugins||[];for(let e=0;e<s.length;e++){let n=s[e];-1===i.indexOf(n)&&(i.push(n),t[n.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,{plugins:t,localIds:i},n,s){let a=[],r=e.getContext();for(let c of t){var o;let t=c.id,l=(o=n[t],s||!1!==o?!0===o?{}:o:null);null!==l&&a.push({plugin:c,options:function(e,{plugin:t,local:i},n,s){let a=e.pluginScopeKeys(t),r=e.getOptionScopes(n,a);return i&&t.defaults&&r.push(t.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(e.config,{plugin:c,local:i[t]},l,r)})}return a}(e,s,n,t):[]}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function gE(e,t){let i=mf.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function gC(e){if("x"===e||"y"===e||"r"===e)return e}function gT(e,...t){if(gC(e))return e;for(let n of t){var i;let t=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&gC(e[0].toLowerCase());if(t)return t}throw Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function gR(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function gO(e){let t=e.options||(e.options={});t.plugins=hc(t.plugins,{}),t.scales=function(e,t){let i=mu[e.type]||{scales:{}},n=t.scales||{},s=gE(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{let r=n[t];if(!ha(r))return console.error(`Invalid scale configuration for scale: ${t}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);let o=gT(t,r,function(e,t){if(t.data&&t.data.datasets){let i=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(i.length)return gR(e,"x",i[0])||gR(e,"y",i[0])}return{}}(t,e),mf.scales[r.type]),c=o===s?"_index_":"_value_",l=i.scales||{};a[t]=hb(Object.create(null),[{axis:o},r,l[o],l[c]])}),e.data.datasets.forEach(i=>{let s=i.type||e.type,r=i.indexAxis||gE(s,t),o=(mu[s]||{}).scales||{};Object.keys(o).forEach(e=>{let t;let s=(t=e,"_index_"===e?t=r:"_value_"===e&&(t="x"===r?"y":"x"),t),c=i[s+"AxisID"]||s;a[c]=a[c]||Object.create(null),hb(a[c],[{axis:s},n[c],o[e]])})}),Object.keys(a).forEach(e=>{let t=a[e];hb(t,[mf.scales[t.type],mf.scale])}),a}(e,t)}function gI(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}let gP=new Map,gj=new Set;function gN(e,t){let i=gP.get(e);return i||(i=t(),gP.set(e,i),gj.add(i)),i}let gL=(e,t,i)=>{let n=hw(t,i);void 0!==n&&e.add(n)};class gA{constructor(e){this._config=function(e){return(e=e||{}).data=gI(e.data),gO(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),gO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gN(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return gN(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return gN(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return gN(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){let{options:n,type:s}=this,a=this._cachedScopes(e,i),r=a.get(t);if(r)return r;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>gL(o,e,t))),t.forEach(e=>gL(o,n,e)),t.forEach(e=>gL(o,mu[s]||{},e)),t.forEach(e=>gL(o,mf,e)),t.forEach(e=>gL(o,mp,e))});let c=Array.from(o);return 0===c.length&&c.push(Object.create(null)),gj.has(t)&&a.set(t,c),c}chartOptionScopes(){let{options:e,type:t}=this;return[e,mu[t]||{},mf.datasets[t]||{},{type:t},mf,mp]}resolveNamedOptions(e,t,i,n=[""]){let s={$shared:!0},{resolver:a,subPrefixes:r}=gD(this._resolverCache,e,n),o=a;if(function(e,t){let{isScriptable:i,isIndexable:n}=mF(e);for(let s of t){let t=i(s),a=n(s),r=(a||t)&&e[s];if(t&&(hS(r)||gU(r))||a&&hs(r))return!0}return!1}(a,t)){s.$shared=!1,i=hS(i)?i():i;let t=this.createResolver(e,i,r);o=mM(a,i,t)}for(let e of t)s[e]=o[e];return s}createResolver(e,t,i=[""],n){let{resolver:s}=gD(this._resolverCache,e,i);return ha(t)?mM(s,t,void 0,n):s}}function gD(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));let s=i.join(),a=n.get(s);return a||(a={resolver:mU(t,i),subPrefixes:i.filter(e=>!e.toLowerCase().includes("hover"))},n.set(s,a)),a}let gU=e=>ha(e)&&Object.getOwnPropertyNames(e).some(t=>hS(e[t])),gM=["top","bottom","left","right","chartArea"];function gF(e,t){return"top"===e||"bottom"===e||-1===gM.indexOf(e)&&"x"===t}function gB(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function g$(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),hp(i&&i.onComplete,[e],t)}function gz(e){let t=e.chart,i=t.options.animation;hp(i&&i.onProgress,[e],t)}function gV(e){return mQ()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}let gW={},gq=e=>{let t=gV(e);return Object.values(gW).filter(e=>e.canvas===t).pop()};function gH(e,t,i){return e.options.clip?e[i]:t[i]}class gG{static defaults=mf;static instances=gW;static overrides=mu;static registry=gk;static version="4.4.2";static getChart=gq;static register(...e){gk.add(...e),gK()}static unregister(...e){gk.remove(...e),gK()}constructor(e,t){let i=this.config=new gA(t),n=gV(e),s=gq(n);if(s)throw Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||(!mQ()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?f8:gp)),this.platform.updateConfig(i);let r=this.platform.acquireContext(n,a.aspectRatio),o=r&&r.canvas,c=o&&o.height,l=o&&o.width;if(this.id=hi(),this.ctx=r,this.canvas=o,this.width=l,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],gW[this.id]=this,!r||!o){console.error("Failed to create chart: can't acquire context from the given item");return}fd.listen(this,"complete",g$),fd.listen(this,"progress",gz),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:s}=this;return hn(e)?t&&s?s:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gk}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():m9(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mb(this.canvas,this.ctx),this}stop(){return fd.stop(this),this}resize(e,t){fd.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,s),r=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,m9(this,r,!0)&&(this.notifyPlugins("resize",{size:a}),hp(i.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){hd(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){let e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((e,t)=>(e[t]=!1,e),{}),s=[];t&&(s=s.concat(Object.keys(t).map(e=>{let i=t[e],n=gT(e,i),s="r"===n,a="x"===n;return{options:i,dposition:s?"chartArea":a?"bottom":"left",dtype:s?"radialLinear":a?"category":"linear"}}))),hd(s,t=>{let s=t.options,a=s.id,r=gT(a,s),o=hc(s.type,t.dtype);(void 0===s.position||gF(s.position,r)!==gF(t.dposition))&&(s.position=t.dposition),n[a]=!0;let c=null;a in i&&i[a].type===o?c=i[a]:i[(c=new(gk.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this})).id]=c,c.init(s,e)}),hd(n,(e,t)=>{e||delete i[t]}),hd(i,e=>{f6.configure(this,e,e.options),f6.addBox(this,e)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((e,t)=>e.index-t.index),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(gB("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,i)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let e,t;let i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=n.length;e<t;e++){let t=n[e],s=this.getDatasetMeta(e),a=t.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(e),s=this.getDatasetMeta(e)),s.type=a,s.indexAxis=t.indexAxis||gE(a,this.options),s.order=t.order||0,s.index=e,s.label=""+t.label,s.visible=this.isDatasetVisible(e),s.controller)s.controller.updateIndex(e),s.controller.linkScales();else{let t=gk.getController(a),{datasetElementType:n,dataElementType:r}=mf.datasets[a];Object.assign(t,{dataElementType:gk.getElement(r),datasetElementType:n&&gk.getElement(n)}),s.controller=new t(this,e),i.push(s.controller)}}return this._updateMetasets(),i}_resetElements(){hd(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){let{controller:t}=this.getDatasetMeta(e),i=!n&&-1===s.indexOf(t);t.buildOrUpdateElements(i),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),n||hd(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(gB("z","_idx"));let{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){hd(this.scales,e=>{f6.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options;hE(new Set(Object.keys(this._listeners)),new Set(e.events))&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this;for(let{method:t,start:i,count:n}of this._getUniformDataChanges()||[])!function(e,t,i){for(let n of Object.keys(e)){let s=+n;if(s>=t){let a=e[n];delete e[n],(i>0||s>t)&&(e[s+i]=a)}}}(e,i,"_removeElements"===t?-n:n)}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,i=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=i(0);for(let e=1;e<t;e++)if(!hE(n,i(e)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;f6.update(this,this.width,this.height,e);let t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],hd(this.boxes,e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,hS(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(fd.has(this)?this.attached&&!fd.running(this)&&fd.start(this):(this.draw(),g$({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t,i;let n=this._sortedMetasets,s=[];for(t=0,i=n.length;t<i;++t){let i=n[t];(!e||i.visible)&&s.push(i)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,i=e._clip,n=!i.disabled,s=function(e,t){let{xScale:i,yScale:n}=e;return i&&n?{left:gH(i,t,"left"),right:gH(i,t,"right"),top:gH(n,t,"top"),bottom:gH(n,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(n&&mw(t,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),e.controller.draw(),n&&function(e){e.restore()}(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return my(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){let s=fJ.modes[t];return"function"==typeof s?s(this,e,i,n):[]}getDatasetMeta(e){let t=this.data.datasets[e],i=this._metasets,n=i.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=mD(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){let n=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,n);hk(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),fd.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete gW[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};hd(this.options.events,e=>i(e,n))}bindResponsiveEvents(){let e;this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,n=(e,n)=>{i.addEventListener(this,e,n),t[e]=n},s=(e,n)=>{t[e]&&(i.removeEventListener(this,e,n),delete t[e])},a=(e,t)=>{this.canvas&&this.resize(e,t)},r=()=>{s("attach",r),this.attached=!0,this.resize(),n("resize",a),n("detach",e)};e=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),n("attach",r)},i.isAttached(this.canvas)?r():e()}unbindEvents(){hd(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},hd(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){let n,s,a;let r=i?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+r+"DatasetHoverStyle"](),s=0,a=e.length;s<a;++s){let t=(n=e[s])&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[r+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],i=e.map(({datasetIndex:e,index:t})=>{let i=this.getDatasetMeta(e);if(!i)throw Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}});hh(i,t)||(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){let n=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=s(t,e),r=i?e:s(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),r.length&&n.mode&&this.updateHoverStyle(r,n.mode,!0)}_eventHandler(e,t){let i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;let s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){var n;let{_active:s=[],options:a}=this,r=this._getActiveElements(e,s,i,t),o="mouseup"===e.type||"click"===e.type||"contextmenu"===e.type,c=(n=this._lastEvent,i&&"mouseout"!==e.type?o?n:e:null);i&&(this._lastEvent=null,hp(a.onHover,[e,r,this],this),o&&hp(a.onClick,[e,r,this],this));let l=!hh(r,s);return(l||t)&&(this._active=r,this._updateHoverStyles(r,s,t)),this._lastEvent=c,l}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}function gK(){return hd(gG.instances,e=>e._plugins.invalidate())}function gJ(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function gY(e,t,i,n,s,a){let{x:r,y:o,startAngle:c,pixelMargin:l,innerRadius:u}=t,p=Math.max(t.outerRadius+n+i-l,0),d=u>0?u+n+i+l:0,h=0,m=s-c;if(n){let e=p>0?p-n:0,t=((u>0?u-n:0)+e)/2;h=(m-(0!==t?m*t/(t+n):m))/2}let f=Math.max(.001,m*p-i/hC)/p,g=(m-f)/2,v=c+g+h,b=s-g-h,{outerStart:x,outerEnd:y,innerStart:w,innerEnd:_}=function(e,t,i,n){let s=mI(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(i-t)/2,r=Math.min(a,n*t/2),o=e=>{let t=(i-Math.min(a,e))*n/2;return hG(e,0,Math.min(a,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:hG(s.innerStart,0,r),innerEnd:hG(s.innerEnd,0,r)}}(t,d,p,b-v),k=p-x,S=p-y,E=v+x/k,C=b-y/S,T=d+w,R=d+_,O=v+w/T,I=b-_/R;if(e.beginPath(),a){let t=(E+C)/2;if(e.arc(r,o,p,E,t),e.arc(r,o,p,t,C),y>0){let t=gJ(S,C,r,o);e.arc(t.x,t.y,y,C,b+hP)}let i=gJ(R,b,r,o);if(e.lineTo(i.x,i.y),_>0){let t=gJ(R,I,r,o);e.arc(t.x,t.y,_,b+hP,I+Math.PI)}let n=(b-_/d+(v+w/d))/2;if(e.arc(r,o,d,b-_/d,n,!0),e.arc(r,o,d,n,v+w/d,!0),w>0){let t=gJ(T,O,r,o);e.arc(t.x,t.y,w,O+Math.PI,v-hP)}let s=gJ(k,v,r,o);if(e.lineTo(s.x,s.y),x>0){let t=gJ(k,E,r,o);e.arc(t.x,t.y,x,v-hP,E)}}else{e.moveTo(r,o);let t=Math.cos(E)*p+r,i=Math.sin(E)*p+o;e.lineTo(t,i);let n=Math.cos(C)*p+r,s=Math.sin(C)*p+o;e.lineTo(n,s)}e.closePath()}class gX extends gd{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let{angle:n,distance:s}=hz(this.getProps(["x","y"],i),{x:e,y:t}),{startAngle:a,endAngle:r,innerRadius:o,outerRadius:c,circumference:l}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,p=hc(l,r-a)>=hT||hH(n,a,r),d=hK(s,o+u,c+u);return p&&d}getCenterPoint(e){let{x:t,y:i,startAngle:n,endAngle:s,innerRadius:a,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:c}=this.options,l=(n+s)/2,u=(a+r+c+o)/2;return{x:t+Math.cos(l)*u,y:i+Math.sin(l)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,n=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>hT?Math.floor(i/hT):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*n,Math.sin(r)*n);let o=n*(1-Math.sin(Math.min(hC,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,i,n,s){let{fullCircles:a,startAngle:r,circumference:o}=t,c=t.endAngle;if(a){gY(e,t,i,n,c,s);for(let t=0;t<a;++t)e.fill();isNaN(o)||(c=r+(o%hT||hT))}gY(e,t,i,n,c,s),e.fill()}(e,this,o,s,a),function(e,t,i,n,s){let{fullCircles:a,startAngle:r,circumference:o,options:c}=t,{borderWidth:l,borderJoinStyle:u,borderDash:p,borderDashOffset:d}=c,h="inner"===c.borderAlign;if(!l)return;e.setLineDash(p||[]),e.lineDashOffset=d,h?(e.lineWidth=2*l,e.lineJoin=u||"round"):(e.lineWidth=l,e.lineJoin=u||"bevel");let m=t.endAngle;if(a){gY(e,t,i,n,m,s);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=r+(o%hT||hT))}h&&function(e,t,i){let{startAngle:n,pixelMargin:s,x:a,y:r,outerRadius:o,innerRadius:c}=t,l=s/o;e.beginPath(),e.arc(a,r,o,n-l,i+l),c>s?(l=s/c,e.arc(a,r,c,i+l,n-l,!0)):e.arc(a,r,s,i+hP,n-hP),e.closePath(),e.clip()}(e,t,m),a||(gY(e,t,i,n,m,s),e.stroke())}(e,this,o,s,a),e.restore()}}function gZ(e,t,i=t){e.lineCap=hc(i.borderCapStyle,t.borderCapStyle),e.setLineDash(hc(i.borderDash,t.borderDash)),e.lineDashOffset=hc(i.borderDashOffset,t.borderDashOffset),e.lineJoin=hc(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=hc(i.borderWidth,t.borderWidth),e.strokeStyle=hc(i.borderColor,t.borderColor)}function gQ(e,t,i){e.lineTo(i.x,i.y)}function g0(e,t,i={}){let n=e.length,{start:s=0,end:a=n-1}=i,{start:r,end:o}=t,c=Math.max(s,r),l=Math.min(a,o);return{count:n,start:c,loop:t.loop,ilen:l<c&&!(s<r&&a<r||s>o&&a>o)?n+l-c:l-c}}function g1(e,t,i,n){let s,a,r;let{points:o,options:c}=t,{count:l,start:u,loop:p,ilen:d}=g0(o,i,n),h=c.stepped?mk:c.tension||"monotone"===c.cubicInterpolationMode?mS:gQ,{move:m=!0,reverse:f}=n||{};for(s=0;s<=d;++s)(a=o[(u+(f?d-s:s))%l]).skip||(m?(e.moveTo(a.x,a.y),m=!1):h(e,r,a,f,c.stepped),r=a);return p&&h(e,r,a=o[(u+(f?d:0))%l],f,c.stepped),!!p}function g2(e,t,i,n){let s,a,r,o,c,l;let u=t.points,{count:p,start:d,ilen:h}=g0(u,i,n),{move:m=!0,reverse:f}=n||{},g=0,v=0,b=e=>(d+(f?h-e:e))%p,x=()=>{o!==c&&(e.lineTo(g,c),e.lineTo(g,o),e.lineTo(g,l))};for(m&&(a=u[b(0)],e.moveTo(a.x,a.y)),s=0;s<=h;++s){if((a=u[b(s)]).skip)continue;let t=a.x,i=a.y,n=0|t;n===r?(i<o?o=i:i>c&&(c=i),g=(v*g+t)/++v):(x(),e.lineTo(t,i),r=n,v=0,o=c=i),l=i}x()}function g3(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i?g1:g2}let g4="function"==typeof Path2D;class g6 extends gd{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){let n=i.spanGaps?this._loop:this._fullLoop;(function(e,t,i,n,s){let a,r,o,c;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){let i,n,s;let a=mX(t),r=e.length,o=Array(r).fill(0),c=Array(r),l=mY(e,0);for(i=0;i<r;++i)if(n=s,s=l,l=mY(e,i+1),s){if(l){let e=l[t]-s[t];o[i]=0!==e?(l[a]-s[a])/e:0}c[i]=n?l?hA(o[i-1])!==hA(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}(function(e,t,i){let n,s,a,r,o;let c=e.length,l=mY(e,0);for(let u=0;u<c-1;++u)if(o=l,l=mY(e,u+1),o&&l){if(hD(t[u],0,mJ)){i[u]=i[u+1]=0;continue}(r=Math.pow(n=i[u]/t[u],2)+Math.pow(s=i[u+1]/t[u],2))<=9||(a=3/Math.sqrt(r),i[u]=n*a*t[u],i[u+1]=s*a*t[u])}})(e,o,c),function(e,t,i="x"){let n,s,a;let r=mX(i),o=e.length,c=mY(e,0);for(let l=0;l<o;++l){if(s=a,a=c,c=mY(e,l+1),!a)continue;let o=a[i],u=a[r];s&&(n=(o-s[i])/3,a[`cp1${i}`]=o-n,a[`cp1${r}`]=u-n*t[l]),c&&(n=(c[i]-o)/3,a[`cp2${i}`]=o+n,a[`cp2${r}`]=u+n*t[l])}}(e,c,t)}(e,s);else{let i=n?e[e.length-1]:e[0];for(a=0,r=e.length;a<r;++a)c=function(e,t,i,n){let s=e.skip?t:e,a=i.skip?t:i,r=hV(t,s),o=hV(a,t),c=r/(r+o),l=o/(r+o);c=isNaN(c)?0:c,l=isNaN(l)?0:l;let u=n*c,p=n*l;return{previous:{x:t.x-u*(a.x-s.x),y:t.y-u*(a.y-s.y)},next:{x:t.x+p*(a.x-s.x),y:t.y+p*(a.y-s.y)}}}(i,o=e[a],e[Math.min(a+1,r-(n?0:1))%r],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,i=o}t.capBezierPoints&&function(e,t){let i,n,s,a,r;let o=my(e[0],t);for(i=0,n=e.length;i<n;++i)r=a,a=o,o=i<n-1&&my(e[i+1],t),a&&(s=e[i],r&&(s.cp1x=mZ(s.cp1x,t.left,t.right),s.cp1y=mZ(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=mZ(s.cp2x,t.left,t.right),s.cp2y=mZ(s.cp2y,t.top,t.bottom)))}(e,i)})(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){let i=e.points,n=e.options.spanGaps,s=i.length;if(!s)return[];let a=!!e._loop,{start:r,end:o}=function(e,t,i,n){let s=0,a=t-1;if(i&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,i&&(a+=s);a>s&&e[a%t].skip;)a--;return{start:s,end:a%=t}}(i,s,a,n);if(!0===n)return fl(e,[{start:r,end:o,loop:a}],i,t);let c=o<r?o+s:o,l=!!e._fullLoop&&0===r&&o===s-1;return fl(e,function(e,t,i,n){let s;let a=e.length,r=[],o=t,c=e[t];for(s=t+1;s<=i;++s){let i=e[s%a];i.skip||i.stop?c.skip||(n=!1,r.push({start:t%a,end:(s-1)%a,loop:n}),t=o=i.stop?s:null):(o=s,c.skip&&(t=s)),c=i}return null!==o&&r.push({start:t%a,end:o%a,loop:n}),r}(i,r,c,l),i,t)}(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){let i,n;let s=this.options,a=e[t],r=this.points,o=fc(this,{property:t,start:a,end:a});if(!o.length)return;let c=[],l=s.stepped?fi:s.tension||"monotone"===s.cubicInterpolationMode?fn:ft;for(i=0,n=o.length;i<n;++i){let{start:n,end:u}=o[i],p=r[n],d=r[u];if(p===d){c.push(p);continue}let h=Math.abs((a-p[t])/(d[t]-p[t])),m=l(p,d,h,s.stepped);m[t]=e[t],c.push(m)}return 1===c.length?c[0]:c}pathSegment(e,t,i){return g3(this)(e,this,t,i)}path(e,t,i){let n=this.segments,s=g3(this),a=this._loop;for(let r of(t=t||0,i=i||this.points.length-t,n))a&=s(e,this,r,{start:t,end:t+i-1});return!!a}draw(e,t,i,n){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),function(e,t,i,n){if(g4&&!t.options.segment){let s;(s=t._path)||(s=t._path=new Path2D,t.path(s,i,n)&&s.closePath()),gZ(e,t.options),e.stroke(s)}else!function(e,t,i,n){let{segments:s,options:a}=t,r=g3(t);for(let o of s)gZ(e,a,o.style),e.beginPath(),r(e,t,o,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}(e,t,i,n)}(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function g5(e,t,i,n){let s=e.options,{[i]:a}=e.getProps([i],n);return Math.abs(t-a)<s.radius+s.hitRadius}class g8 extends gd{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){let n=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return g5(this,e,"x",t)}inYRange(e,t){return g5(this,e,"y",t)}getCenterPoint(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0,i=(t=Math.max(t,t&&e.hoverRadius||0))&&e.borderWidth||0;return(t+i)*2}draw(e,t){let i=this.options;!this.skip&&!(i.radius<.1)&&my(this,t,this.size(i)/2)&&(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,mx(e,i,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}function g9(e,t){let i,n,s,a,r;let{x:o,y:c,base:l,width:u,height:p}=e.getProps(["x","y","base","width","height"],t);return e.horizontal?(r=p/2,i=Math.min(o,l),n=Math.max(o,l),s=c-r,a=c+r):(i=o-(r=u/2),n=o+r,s=Math.min(c,l),a=Math.max(c,l)),{left:i,top:s,right:n,bottom:a}}function g7(e,t,i,n){return e?0:hG(t,i,n)}function ve(e,t,i,n){let s=null===t,a=null===i,r=e&&!(s&&a)&&g9(e,n);return r&&(s||hK(t,r.left,r.right))&&(a||hK(i,r.top,r.bottom))}function vt(e,t){e.rect(t.x,t.y,t.w,t.h)}function vi(e,t,i={}){let n=e.x!==i.x?-t:0,s=e.y!==i.y?-t:0,a=(e.x+e.w!==i.x+i.w?t:0)-n,r=(e.y+e.h!==i.y+i.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+a,h:e.h+r,radius:e.radius}}class vn extends gd{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){var t;let{inflateAmount:i,options:{borderColor:n,backgroundColor:s}}=this,{inner:a,outer:r}=function(e){let t=g9(e),i=t.right-t.left,n=t.bottom-t.top,s=function(e,t,i){let n=e.options.borderWidth,s=e.borderSkipped,a=mP(n);return{t:g7(s.top,a.top,0,i),r:g7(s.right,a.right,0,t),b:g7(s.bottom,a.bottom,0,i),l:g7(s.left,a.left,0,t)}}(e,i/2,n/2),a=function(e,t,i){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=mj(s),r=Math.min(t,i),o=e.borderSkipped,c=n||ha(s);return{topLeft:g7(!c||o.top||o.left,a.topLeft,0,r),topRight:g7(!c||o.top||o.right,a.topRight,0,r),bottomLeft:g7(!c||o.bottom||o.left,a.bottomLeft,0,r),bottomRight:g7(!c||o.bottom||o.right,a.bottomRight,0,r)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}(this),o=(t=r.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?mC:vt;e.save(),(r.w!==a.w||r.h!==a.h)&&(e.beginPath(),o(e,vi(r,i,a)),e.clip(),o(e,vi(a,-i,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,vi(a,i)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return ve(this,e,t,i)}inXRange(e,t){return ve(this,e,null,t)}inYRange(e,t){return ve(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+n)/2:t,y:s?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function vs(e,t,i,n){if(n)return;let s=t[e],a=i[e];return"angle"===e&&(s=hq(s),a=hq(a)),{property:e,start:s,end:a}}function va(e,t,i){for(;t>e;t--){let e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function vr(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}e=>e.replace("rgb(","rgba(").replace(")",", 0.5)");function vo(e,t,i,n){let s=t.interpolate(i,n);s&&e.lineTo(s.x,s.y)}new WeakMap;let vc={average(e){let t,i;if(!e.length)return!1;let n=new Set,s=0,a=0;for(t=0,i=e.length;t<i;++t){let i=e[t].element;if(i&&i.hasValue()){let e=i.tooltipPosition();n.add(e.x),s+=e.y,++a}}return{x:[...n].reduce((e,t)=>e+t)/n.size,y:s/a}},nearest(e,t){let i,n,s;if(!e.length)return!1;let a=t.x,r=t.y,o=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){let n=e[i].element;if(n&&n.hasValue()){let e=hV(t,n.getCenterPoint());e<o&&(o=e,s=n)}}if(s){let e=s.tooltipPosition();a=e.x,r=e.y}return{x:a,y:r}}};function vl(e,t){return t&&(hs(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function vu(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function vp(e,t){let i=e.chart.ctx,{body:n,footer:s,title:a}=e,{boxWidth:r,boxHeight:o}=t,c=mL(t.bodyFont),l=mL(t.titleFont),u=mL(t.footerFont),p=a.length,d=s.length,h=n.length,m=mN(t.padding),f=m.height,g=0,v=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);v+=e.beforeBody.length+e.afterBody.length,p&&(f+=p*l.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),v&&(f+=h*(t.displayColors?Math.max(o,c.lineHeight):c.lineHeight)+(v-h)*c.lineHeight+(v-1)*t.bodySpacing),d&&(f+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let b=0,x=function(e){g=Math.max(g,i.measureText(e).width+b)};return i.save(),i.font=l.string,hd(e.title,x),i.font=c.string,hd(e.beforeBody.concat(e.afterBody),x),b=t.displayColors?r+2+t.boxPadding:0,hd(n,e=>{hd(e.before,x),hd(e.lines,x),hd(e.after,x)}),b=0,i.font=u.string,hd(e.footer,x),i.restore(),{width:g+=m.width,height:f}}function vd(e,t,i){let n=i.yAlign||t.yAlign||function(e,t){let{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||function(e,t,i,n){let{x:s,width:a}=i,{width:r,chartArea:{left:o,right:c}}=e,l="center";return"center"===n?l=s<=(o+c)/2?"left":"right":s<=a/2?l="left":s>=r-a/2&&(l="right"),function(e,t,i,n){let{x:s,width:a}=n,r=i.caretSize+i.caretPadding;if("left"===e&&s+a+r>t.width||"right"===e&&s-a-r<0)return!0}(l,e,t,i)&&(l="center"),l}(e,t,i,n),yAlign:n}}function vh(e,t,i,n){let{caretSize:s,caretPadding:a,cornerRadius:r}=e,{xAlign:o,yAlign:c}=i,l=s+a,{topLeft:u,topRight:p,bottomLeft:d,bottomRight:h}=mj(r),m=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,o),f=function(e,t,i){let{y:n,height:s}=e;return"top"===t?n+=i:"bottom"===t?n-=s+i:n-=s/2,n}(t,c,l);return"center"===c?"left"===o?m+=l:"right"===o&&(m-=l):"left"===o?m-=Math.max(u,d)+s:"right"===o&&(m+=Math.max(p,h)+s),{x:hG(m,0,n.width-t.width),y:hG(f,0,n.height-t.height)}}function vm(e,t,i){let n=mN(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function vf(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}let vg={beforeTitle:ht,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:ht,beforeBody:ht,beforeLabel:ht,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return hn(i)||(t+=i),t},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ht,afterBody:ht,beforeFooter:ht,footer:ht,afterFooter:ht};function vv(e,t,i,n){let s=e[t].call(i,n);return void 0===s?vg[t].call(i,n):s}class vb extends gd{static positioners=vc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,s=new fg(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mD(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(e,t){let{callbacks:i}=t,n=vv(i,"beforeTitle",this,e),s=vv(i,"title",this,e),a=vv(i,"afterTitle",this,e),r=[];return r=vl(r,vu(n)),r=vl(r,vu(s)),r=vl(r,vu(a))}getBeforeBody(e,t){return vl([],vu(vv(t.callbacks,"beforeBody",this,e)))}getBody(e,t){let{callbacks:i}=t,n=[];return hd(e,e=>{let t={before:[],lines:[],after:[]},s=vf(i,e);vl(t.before,vu(vv(s,"beforeLabel",this,e))),vl(t.lines,vv(s,"label",this,e)),vl(t.after,vu(vv(s,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return vl([],vu(vv(t.callbacks,"afterBody",this,e)))}getFooter(e,t){let{callbacks:i}=t,n=vv(i,"beforeFooter",this,e),s=vv(i,"footer",this,e),a=vv(i,"afterFooter",this,e),r=[];return r=vl(r,vu(n)),r=vl(r,vu(s)),r=vl(r,vu(a))}_createItems(e){let t,i;let n=this._active,s=this.chart.data,a=[],r=[],o=[],c=[];for(t=0,i=n.length;t<i;++t)c.push(function(e,t){let{element:i,datasetIndex:n,index:s}=t,a=e.getDatasetMeta(n).controller,{label:r,value:o}=a.getLabelAndValue(s);return{chart:e,label:r,parsed:a.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:n,element:i}}(this.chart,n[t]));return e.filter&&(c=c.filter((t,i,n)=>e.filter(t,i,n,s))),e.itemSort&&(c=c.sort((t,i)=>e.itemSort(t,i,s))),hd(c,t=>{let i=vf(e.callbacks,t);a.push(vv(i,"labelColor",this,t)),r.push(vv(i,"labelPointStyle",this,t)),o.push(vv(i,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){let i;let n=this.options.setContext(this.getContext()),s=this._active,a=[];if(s.length){let e=vc[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let t=this._size=vp(this,n),r=Object.assign({},e,t),o=vd(this.chart,n,r),c=vh(n,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){let s=this.getCaretPosition(e,i,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){let n,s,a,r,o,c;let{xAlign:l,yAlign:u}=this,{caretSize:p,cornerRadius:d}=i,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:g}=mj(d),{x:v,y:b}=e,{width:x,height:y}=t;return"center"===u?(o=b+y/2,"left"===l?(s=(n=v)-p,r=o+p,c=o-p):(s=(n=v+x)+p,r=o-p,c=o+p),a=n):(s="left"===l?v+Math.max(h,f)+p:"right"===l?v+x-Math.max(m,g)-p:this.caretX,"top"===u?(o=(r=b)-p,n=s-p,a=s+p):(o=(r=b+y)+p,n=s+p,a=s-p),c=r),{x1:n,x2:s,x3:a,y1:r,y2:o,y3:c}}drawTitle(e,t,i){let n,s,a;let r=this.title,o=r.length;if(o){let c=fs(i.rtl,this.x,this.width);for(a=0,e.x=vm(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",n=mL(i.titleFont),s=i.titleSpacing,t.fillStyle=i.titleColor,t.font=n.string;a<o;++a)t.fillText(r[a],c.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+s,a+1===o&&(e.y+=i.titleMarginBottom-s)}}_drawColorBox(e,t,i,n,s){let a=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:o,boxWidth:c}=s,l=mL(s.bodyFont),u=vm(this,"left",s),p=n.x(u),d=o<l.lineHeight?(l.lineHeight-o)/2:0,h=t.y+d;if(s.usePointStyle){let t={radius:Math.min(c,o)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=n.leftForLtr(p,c)+c/2,l=h+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,mx(e,t,i,l),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,mx(e,t,i,l)}else{e.lineWidth=ha(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let t=n.leftForLtr(p,c),i=n.leftForLtr(n.xPlus(p,1),c-2),r=mj(a.borderRadius);Object.values(r).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,mC(e,{x:t,y:h,w:c,h:o,radius:r}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),mC(e,{x:i,y:h+1,w:c-2,h:o-2,radius:r}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,h,c,o),e.strokeRect(t,h,c,o),e.fillStyle=a.backgroundColor,e.fillRect(i,h+1,c-2,o-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){let n,s,a,r,o,c,l;let{body:u}=this,{bodySpacing:p,bodyAlign:d,displayColors:h,boxHeight:m,boxWidth:f,boxPadding:g}=i,v=mL(i.bodyFont),b=v.lineHeight,x=0,y=fs(i.rtl,this.x,this.width),w=function(i){t.fillText(i,y.x(e.x+x),e.y+b/2),e.y+=b+p},_=y.textAlign(d);for(t.textAlign=d,t.textBaseline="middle",t.font=v.string,e.x=vm(this,_,i),t.fillStyle=i.bodyColor,hd(this.beforeBody,w),x=h&&"right"!==_?"center"===d?f/2+g:f+2+g:0,r=0,c=u.length;r<c;++r){for(n=u[r],s=this.labelTextColors[r],t.fillStyle=s,hd(n.before,w),a=n.lines,h&&a.length&&(this._drawColorBox(t,e,r,y,i),b=Math.max(v.lineHeight,m)),o=0,l=a.length;o<l;++o)w(a[o]),b=v.lineHeight;hd(n.after,w)}x=0,b=v.lineHeight,hd(this.afterBody,w),e.y-=p}drawFooter(e,t,i){let n,s;let a=this.footer,r=a.length;if(r){let o=fs(i.rtl,this.x,this.width);for(e.x=vm(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=o.textAlign(i.footerAlign),t.textBaseline="middle",n=mL(i.footerFont),t.fillStyle=i.footerColor,t.font=n.string,s=0;s<r;++s)t.fillText(a[s],o.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){let{xAlign:s,yAlign:a}=this,{x:r,y:o}=e,{width:c,height:l}=i,{topLeft:u,topRight:p,bottomLeft:d,bottomRight:h}=mj(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(r+u,o),"top"===a&&this.drawCaret(e,t,i,n),t.lineTo(r+c-p,o),t.quadraticCurveTo(r+c,o,r+c,o+p),"center"===a&&"right"===s&&this.drawCaret(e,t,i,n),t.lineTo(r+c,o+l-h),t.quadraticCurveTo(r+c,o+l,r+c-h,o+l),"bottom"===a&&this.drawCaret(e,t,i,n),t.lineTo(r+d,o+l),t.quadraticCurveTo(r,o+l,r,o+l-d),"center"===a&&"left"===s&&this.drawCaret(e,t,i,n),t.lineTo(r,o+u),t.quadraticCurveTo(r,o,r+u,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){let i=vc[e.position].call(this,this._active,this._eventPosition);if(!i)return;let a=this._size=vp(this,e),r=Object.assign({},i,this._size),o=vd(t,e,r),c=vh(e,r,o,t);(n._to!==c.x||s._to!==c.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){var t,i,n,s;let a,r,o=this.options.setContext(this.getContext()),c=this.opacity;if(!c)return;this._updateAnimationTarget(o);let l={width:this.width,height:this.height},u={x:this.x,y:this.y};c=.001>Math.abs(c)?0:c;let p=mN(o.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;o.enabled&&d&&(e.save(),e.globalAlpha=c,this.drawBackground(u,e,l,o),t=e,("ltr"===(i=o.textDirection)||"rtl"===i)&&(r=[(a=t.canvas.style).getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",i,"important"),t.prevTextDirection=r),u.y+=p.top,this.drawTitle(u,e,o),this.drawBody(u,e,o),this.drawFooter(u,e,o),n=e,void 0!==(s=o.textDirection)&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",s[0],s[1])),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let i=this._active,n=e.map(({datasetIndex:e,index:t})=>{let i=this.chart.getDatasetMeta(e);if(!i)throw Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}),s=!hh(i,n),a=this._positionChanged(n,t);(s||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let n=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,i),r=this._positionChanged(a,e),o=t||!hh(a,s)||r;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,i,n){let s=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));let a=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:i,caretY:n,options:s}=this,a=vc[s.position].call(this,e,t);return!1!==a&&(i!==a.x||n!==a.y)}}let vx=(e,t,i,n)=>("string"==typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i),vy=(e,t)=>null===e?null:hG(Math.round(e),0,t);function vw(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class v_ extends gy{static id="category";static defaults={ticks:{callback:vw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let e=this.getLabels();for(let{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(hn(e))return null;let i=this.getLabels();return vy(t=isFinite(t)&&i[t]===e?t:function(e,t,i,n){let s=e.indexOf(t);return -1===s?vx(e,t,i,n):s!==e.lastIndexOf(t)?i:s}(i,e,hc(t,e),this._addedLabels),i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:i,max:n}=this.getMinMax(!0);"ticks"!==this.options.bounds||(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){let e=this.min,t=this.max,i=this.options.offset,n=[],s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return vw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function vk(e,t,{horizontal:i,minRotation:n}){let s=hB(n),a=.75*t*(""+e).length;return Math.min(t/((i?Math.sin(s):Math.cos(s))||.001),a)}class vS extends gy{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return hn(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:n,max:s}=this,a=e=>n=t?n:e,r=e=>s=i?s:e;if(e){let e=hA(n),t=hA(s);e<0&&t<0?r(0):e>0&&t>0&&a(0)}if(n===s){let t=0===s?1:Math.abs(.05*s);r(s+t),e||a(n-t)}this.min=n,this.max=s}getTickLimit(){let e;let{maxTicksLimit:t,stepSize:i}=this.options.ticks;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3):(e=this.computeTickLimit(),t=t||11),t&&(e=Math.min(t,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit(),n=function(e,t){let i,n,s,a;let r=[],{bounds:o,step:c,min:l,max:u,precision:p,count:d,maxTicks:h,maxDigits:m,includeBounds:f}=e,g=c||1,v=h-1,{min:b,max:x}=t,y=!hn(l),w=!hn(u),_=!hn(d),k=(x-b)/(m+1),S=hU((x-b)/v/g)*g;if(S<1e-14&&!y&&!w)return[{value:b},{value:x}];(a=Math.ceil(x/S)-Math.floor(b/S))>v&&(S=hU(a*S/v/g)*g),hn(p)||(S=Math.ceil(S*(i=Math.pow(10,p)))/i),"ticks"===o?(n=Math.floor(b/S)*S,s=Math.ceil(x/S)*S):(n=b,s=x),y&&w&&c&&function(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}((u-l)/c,S/1e3)?(a=Math.round(Math.min((u-l)/S,h)),S=(u-l)/a,n=l,s=u):_?(n=y?l:n,S=((s=w?u:s)-n)/(a=d-1)):a=hD(a=(s-n)/S,Math.round(a),S/1e3)?Math.round(a):Math.ceil(a);let E=Math.max(h$(S),h$(n));n=Math.round(n*(i=Math.pow(10,hn(p)?E:p)))/i,s=Math.round(s*i)/i;let C=0;for(y&&(f&&n!==l?(r.push({value:l}),n<l&&C++,hD(Math.round((n+C*S)*i)/i,l,vk(l,k,e))&&C++):n<l&&C++);C<a;++C){let e=Math.round((n+C*S)*i)/i;if(w&&e>u)break;r.push({value:e})}return w&&f&&s!==u?r.length&&hD(r[r.length-1].value,u,vk(u,k,e))?r[r.length-1].value=u:r.push({value:u}):w&&s!==u||r.push({value:s}),r}({maxTicks:i=Math.max(2,i),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&hF(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return mo(e,this.chart.options.locale,this.options.ticks.format)}}class vE extends vS{static id="linear";static defaults={ticks:{callback:ml.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=hr(e)?e:0,this.max=hr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=hB(this.options.ticks.minRotation);return Math.ceil(t/Math.min(40,this._resolveTickFontOptions(0).lineHeight/((e?Math.sin(i):Math.cos(i))||.001)))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}let vC=e=>Math.floor(hL(e)),vT=(e,t)=>Math.pow(10,vC(e)+t);function vR(e){return 1==e/Math.pow(10,vC(e))}function vO(e,t,i){let n=Math.pow(10,i);return Math.ceil(t/n)-Math.floor(e/n)}class vI extends gy{static id="logarithmic";static defaults={ticks:{callback:ml.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=vS.prototype.parse.apply(this,[e,t]);if(0===i){this._zero=!0;return}return hr(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=hr(e)?Math.max(0,e):null,this.max=hr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!hr(this._userMin)&&(this.min=e===vT(this.min,0)?vT(this.min,-1):vT(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,n=this.max,s=t=>i=e?i:t,a=e=>n=t?n:e;i===n&&(i<=0?(s(1),a(10)):(s(vT(i,-1)),a(vT(n,1)))),i<=0&&s(vT(n,-1)),n<=0&&a(vT(i,1)),this.min=i,this.max=n}buildTicks(){let e=this.options,t=function(e,{min:t,max:i}){t=ho(e.min,t);let n=[],s=vC(t),a=function(e,t){let i=vC(t-e);for(;vO(e,t,i)>10;)i++;for(;10>vO(e,t,i);)i--;return Math.min(i,vC(e))}(t,i),r=a<0?Math.pow(10,Math.abs(a)):1,o=Math.pow(10,a),c=s>a?Math.pow(10,s):0,l=Math.round((t-c)*r)/r,u=Math.floor((t-c)/o/10)*o*10,p=Math.floor((l-u)/Math.pow(10,a)),d=ho(e.min,Math.round((c+u+p*Math.pow(10,a))*r)/r);for(;d<i;)n.push({value:d,major:vR(d),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(p=2,r=++a>=0?1:r),d=Math.round((c+u+p*Math.pow(10,a))*r)/r;let h=ho(e.max,d);return n.push({value:h,major:vR(h),significand:p}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&hF(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":mo(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=hL(e),this._valueRange=hL(this.max)-hL(e)}getPixelForValue(e){return((void 0===e||0===e)&&(e=this.min),null===e||isNaN(e))?NaN:this.getPixelForDecimal(e===this.min?0:(hL(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function vP(e){let t=e.ticks;if(t.display&&e.display){let e=mN(t.backdropPadding);return hc(t.font&&t.font.size,mf.font.size)+e.height}return 0}function vj(e,t,i,n,s){return e===n||e===s?{start:t-i/2,end:t+i/2}:e<n||e>s?{start:t-i,end:t}:{start:t,end:t+i}}function vN(e,t,i,n){let{ctx:s}=e;if(i)s.arc(e.xCenter,e.yCenter,t,0,hT);else{let i=e.getPointPosition(0,t);s.moveTo(i.x,i.y);for(let a=1;a<n;a++)i=e.getPointPosition(a,t),s.lineTo(i.x,i.y)}}class vL extends vS{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ml.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=mN(vP(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=hr(e)&&!isNaN(e)?e:0,this.max=hr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/vP(this.options))}generateTickLabels(e){vS.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{let i=hp(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let e=this.options;e.display&&e.pointLabels.display?function(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],s=[],a=e._pointLabels.length,r=e.options.pointLabels,o=r.centerPointLabels?hC/a:0;for(let u=0;u<a;u++){var c,l;let a=r.setContext(e.getPointLabelContext(u));s[u]=a.padding;let p=e.getPointPosition(u,e.drawingArea+s[u],o),d=mL(a.font),h=(c=e.ctx,l=hs(l=e._pointLabels[u])?l:[l],{w:function(e,t,i,n){let s,a,r,o,c;let l=(n=n||{}).data=n.data||{},u=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(l=n.data={},u=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let p=0,d=i.length;for(s=0;s<d;s++)if(null==(o=i[s])||hs(o)){if(hs(o))for(a=0,r=o.length;a<r;a++)null==(c=o[a])||hs(c)||(p=mg(e,l,u,p,c))}else p=mg(e,l,u,p,o);e.restore();let h=u.length/2;if(h>i.length){for(s=0;s<h;s++)delete l[u[s]];u.splice(0,h)}return p}(c,d.string,l),h:l.length*d.lineHeight});n[u]=h;let m=hq(e.getIndexAngle(u)+o),f=Math.round(180/hC*m);(function(e,t,i,n,s){let a=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i)),o=0,c=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(c=(t.t-s.start)/r,e.t=Math.min(e.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/r,e.b=Math.max(e.b,t.b+c))})(i,t,m,vj(f,p.x,h.w,0,180),vj(f,p.y,h.h,90,270))}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){let n;let s=[],a=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:c}=r.pointLabels,l={extra:vP(r)/2,additionalAngle:o?hC/a:0};for(let r=0;r<a;r++){l.padding=i[r],l.size=t[r];let a=function(e,t,i){var n,s,a,r;let o=e.drawingArea,{extra:c,additionalAngle:l,padding:u,size:p}=i,d=e.getPointPosition(t,o+c+u,l),h=Math.round(180/hC*hq(d.angle+hP)),m=(n=d.y,s=p.h,90===h||270===h?n-=s/2:(h>270||h<90)&&(n-=s),n),f=0===h||180===h?"center":h<180?"left":"right",g=(a=d.x,r=p.w,"right"===f?a-=r:"center"===f&&(a-=r/2),a);return{visible:!0,x:d.x,y:m,textAlign:f,left:g,top:m,right:g+p.w,bottom:m+p.h}}(e,r,l);s.push(a),"auto"===c&&(a.visible=function(e,t){if(!t)return!0;let{left:i,top:n,right:s,bottom:a}=e;return!(my({x:i,y:n},t)||my({x:i,y:a},t)||my({x:s,y:n},t)||my({x:s,y:a},t))}(a,n),a.visible&&(n=a))}return s}(e,n,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){return hq(hT/(this._pointLabels.length||1)*e+hB(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(hn(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(hn(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return mD(this.getContext(),{label:i,index:e,type:"pointLabel"})}}getPointPosition(e,t,i=0){let n=this.getIndexAngle(e)-hP+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:n,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),vN(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e,t,i;let n=this.ctx,s=this.options,{angleLines:a,grid:r,border:o}=s,c=this._pointLabels.length;if(s.pointLabels.display&&function(e,t){let{ctx:i,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){let t=e._pointLabelItems[s];if(!t.visible)continue;let a=n.setContext(e.getPointLabelContext(s));!function(e,t,i){let{left:n,top:s,right:a,bottom:r}=i,{backdropColor:o}=t;if(!hn(o)){let i=mj(t.borderRadius),c=mN(t.backdropPadding);e.fillStyle=o;let l=n-c.left,u=s-c.top,p=a-n+c.width,d=r-s+c.height;Object.values(i).some(e=>0!==e)?(e.beginPath(),mC(e,{x:l,y:u,w:p,h:d,radius:i}),e.fill()):e.fillRect(l,u,p,d)}}(i,a,t);let r=mL(a.font),{x:o,y:c,textAlign:l}=t;mE(i,e._pointLabels[s],o,c+r.lineHeight/2,r,{color:a.color,textAlign:l,textBaseline:"middle"})}}(this,c),r.display&&this.ticks.forEach((e,i)=>{if(0!==i||0===i&&this.min<0){t=this.getDistanceFromCenterForValue(e.value);let n=this.getContext(i),s=r.setContext(n),a=o.setContext(n);!function(e,t,i,n,s){let a=e.ctx,r=t.circular,{color:o,lineWidth:c}=t;(r||n)&&o&&c&&!(i<0)&&(a.save(),a.strokeStyle=o,a.lineWidth=c,a.setLineDash(s.dash),a.lineDashOffset=s.dashOffset,a.beginPath(),vN(e,i,r,n),a.closePath(),a.stroke(),a.restore())}(this,s,t,c,a)}}),a.display){for(n.save(),e=c-1;e>=0;e--){let r=a.setContext(this.getPointLabelContext(e)),{color:o,lineWidth:c}=r;c&&o&&(n.lineWidth=c,n.strokeStyle=o,n.setLineDash(r.borderDash),n.lineDashOffset=r.borderDashOffset,t=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),i=this.getPointPosition(e,t),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(i.x,i.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let e,t;let i=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;let a=this.getIndexAngle(0);i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(a),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((a,r)=>{if(0===r&&this.min>=0&&!n.reverse)return;let o=s.setContext(this.getContext(r)),c=mL(o.font);if(e=this.getDistanceFromCenterForValue(this.ticks[r].value),o.showLabelBackdrop){i.font=c.string,t=i.measureText(a.label).width,i.fillStyle=o.backdropColor;let n=mN(o.backdropPadding);i.fillRect(-t/2-n.left,-e-c.size/2-n.top,t+n.width,c.size+n.height)}mE(i,a.label,0,-e,c,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),i.restore()}drawTitle(){}}let vA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vD=Object.keys(vA);function vU(e,t){return e-t}function vM(e,t){if(hn(t))return null;let i=e._adapter,{parser:n,round:s,isoWeekday:a}=e._parseOpts,r=t;return("function"==typeof n&&(r=n(r)),hr(r)||(r="string"==typeof n?i.parse(r,n):i.parse(r)),null===r)?null:(s&&(r="week"===s&&(hM(a)||!0===a)?i.startOf(r,"isoWeek",a):i.startOf(r,s)),+r)}function vF(e,t,i,n){let s=vD.length;for(let a=vD.indexOf(e);a<s-1;++a){let e=vA[vD[a]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(s*e.size))<=n)return vD[a]}return vD[s-1]}function vB(e,t,i){if(i){if(i.length){let{lo:n,hi:s}=hJ(i,t);e[i[n]>=t?i[n]:i[s]]=!0}}else e[t]=!0}function v$(e,t,i){let n,s;let a=[],r={},o=t.length;for(n=0;n<o;++n)r[s=t[n]]=n,a.push({value:s,major:!1});return 0!==o&&i?function(e,t,i,n){let s,a;let r=e._adapter,o=+r.startOf(t[0].value,n),c=t[t.length-1].value;for(s=o;s<=c;s=+r.add(s,1,n))(a=i[s])>=0&&(t[a].major=!0);return t}(e,a,r,i):a}class vz extends gy{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let i=e.time||(e.time={}),n=this._adapter=new fW._date(e.adapters.date);n.init(t),hb(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:vM(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,i=e.time.unit||"day",{min:n,max:s,minDefined:a,maxDefined:r}=this.getUserBounds();function o(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),r||isNaN(e.max)||(s=Math.max(s,e.max))}a&&r||(o(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&o(this.getMinMax(!1))),n=hr(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),s=hr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){let e=this.options,t=e.time,i=e.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);let s=this.min,a=function(e,t,i){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>i;)s--;return n>0||s<e.length?e.slice(n,s):e}(n,s,this.max);return this._unit=t.unit||(i.autoSkip?vF(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,i,n,s){for(let a=vD.length-1;a>=vD.indexOf(i);a--){let i=vD[a];if(vA[i].common&&e._adapter.diff(s,n,i)>=t-1)return i}return vD[i?vD.indexOf(i):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=vD.indexOf(e)+1,i=vD.length;t<i;++t)if(vA[vD[t]].common)return vD[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),v$(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t,i,n=0,s=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),n=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),s=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;n=hG(n,0,a),s=hG(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){let e,t;let i=this._adapter,n=this.min,s=this.max,a=this.options,r=a.time,o=r.unit||vF(r.minUnit,n,s,this._getLabelCapacity(n)),c=hc(a.ticks.stepSize,1),l="week"===o&&r.isoWeekday,u=hM(l)||!0===l,p={},d=n;if(u&&(d=+i.startOf(d,"isoWeek",l)),d=+i.startOf(d,u?"day":o),i.diff(s,n,o)>1e5*c)throw Error(n+" and "+s+" are too far apart with stepSize of "+c+" "+o);let h="data"===a.ticks.source&&this.getDataTimestamps();for(e=d,t=0;e<s;e=+i.add(e,c,o),t++)vB(p,e,h);return(e===s||"ticks"===a.bounds||1===t)&&vB(p,e,h),Object.keys(p).sort(vU).map(e=>+e)}getLabelForValue(e){let t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){let i=this.options.time.displayFormats,n=this._unit,s=t||i[n];return this._adapter.format(e,s)}_tickFormatFunction(e,t,i,n){let s=this.options,a=s.ticks.callback;if(a)return hp(a,[e,t,i],this);let r=s.time.displayFormats,o=this._unit,c=this._majorUnit,l=o&&r[o],u=c&&r[c],p=i[t],d=c&&u&&p&&p.major;return this._adapter.format(e,n||(d?u:l))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)(n=e[t]).label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,i=this.ctx.measureText(e).width,n=hB(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(n),a=Math.sin(n),r=this._resolveTickFontOptions(0).size;return{w:i*s+r*a,h:i*a+r*s}}_getLabelCapacity(e){let t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,v$(this,[e],this._majorUnit),n),a=this._getLabelSize(s),r=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;let n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)i=i.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let e,t;let i=this._cache.labels||[];if(i.length)return i;let n=this.getLabels();for(e=0,t=n.length;e<t;++e)i.push(vM(this,n[e]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(e){return h0(e.sort(vU))}}function vV(e,t,i){let n,s,a,r,o=0,c=e.length-1;i?(t>=e[o].pos&&t<=e[c].pos&&({lo:o,hi:c}=hY(e,"pos",t)),{pos:n,time:a}=e[o],{pos:s,time:r}=e[c]):(t>=e[o].time&&t<=e[c].time&&({lo:o,hi:c}=hY(e,"time",t)),{time:n,pos:a}=e[o],{time:s,pos:r}=e[c]);let l=s-n;return l?a+(r-a)*(t-n)/l:a}class vW extends vz{static id="timeseries";static defaults=vz.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vV(t,this.min),this._tableRange=vV(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let t,i,n;let{min:s,max:a}=this,r=[],o=[];for(t=0,i=e.length;t<i;++t)(n=e[t])>=s&&n<=a&&r.push(n);if(r.length<2)return[{time:s,pos:0},{time:a,pos:1}];for(t=0,i=r.length;t<i;++t)Math.round((r[t+1]+r[t-1])/2)!==(n=r[t])&&o.push({time:n,pos:t/(i-1)});return o}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e}getDecimalForValue(e){return(vV(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return vV(this._table,i*this._tableRange+this._minPos,!0)}}let vq=({participant:e,trackType:t="audioTrack",...i})=>{let n=uk(),[s,a]=(0,lW.useState)(null),{userId:r,sessionId:o}=e;return(0,lW.useEffect)(()=>{if(!n||!s)return;let e=n.bindAudioElement(s,o,t);return()=>{e?.()}},[n,o,s,t]),(0,V.jsx)("audio",{autoPlay:!0,...i,ref:a,"data-user-id":r,"data-session-id":o,"data-track-type":t})},vH=e=>{let{participants:t,audioProps:i}=e;return(0,V.jsx)(V.Fragment,{children:t.map(e=>{if(e.isLocalParticipant)return null;let{publishedTracks:t,audioStream:n,screenShareAudioStream:s,sessionId:a}=e,r=t.includes(aF.TrackType.AUDIO)&&n&&(0,V.jsx)(vq,{...i,trackType:"audioTrack",participant:e}),o=t.includes(aF.TrackType.SCREEN_SHARE_AUDIO)&&s&&(0,V.jsx)(vq,{...i,trackType:"screenShareAudioTrack",participant:e});return(0,V.jsxs)(lW.Fragment,{children:[r,o]},a)})})},vG=(0,lW.createContext)(void 0),vK=()=>(0,lW.useContext)(vG),vJ=({imageSrc:e,name:t,style:i,className:n,...s})=>{let[a,r]=(0,lW.useState)(!1);return(0,V.jsxs)(V.Fragment,{children:[(!e||a)&&t&&(0,V.jsx)(vY,{className:n,style:i,names:[t]}),e&&!a&&(0,V.jsx)("img",{onError:()=>r(!0),alt:"avatar",className:(0,uq.Z)("str-video__avatar",n),src:e,style:i,...s})]})},vY=({className:e,names:t,style:i})=>(0,V.jsx)("div",{className:(0,uq.Z)("str-video__avatar--initials-fallback",e),style:i,children:(0,V.jsxs)("div",{children:[t[0][0],t[1]?.[0]]})});(0,lW.createContext)(void 0);let vX=({placement:e,strategy:t,offset:i=10})=>{let{refs:n,x:s,y:a,update:r,elements:{domReference:o,floating:c}}=dS({placement:e,strategy:t,middleware:[(0,dL.cv)(i),(0,dA.uY)(),(0,dA.RR)(),(0,dA.dp)({padding:10,apply:({availableHeight:e,elements:t})=>{Object.assign(t.floating.style,{maxHeight:`${e}px`})}})]});return(0,lW.useEffect)(()=>{if(!o||!c)return;let e=(0,dA.Me)(o,c,r);return()=>e()},[o,c,r]),{refs:n,x:s,y:a,domReference:o,floating:c,strategy:t}},vZ=10,vQ=(e,t=vZ)=>{let[i,n]=(0,lW.useState)(null);return(0,lW.useEffect)(()=>{if(!e)return;let i=()=>e.scrollHeight>e.clientHeight?e.scrollTop<=t?n("top"):Math.abs(e.scrollHeight-e.scrollTop-e.clientHeight)<=t?n("bottom"):void n("between"):n(null),s=new ResizeObserver(i);return s.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),s.disconnect()}},[e,t]),i},v0=(e,t=vZ)=>{let[i,n]=(0,lW.useState)(null);return(0,lW.useEffect)(()=>{if(!e)return;let i=()=>e.scrollWidth>e.clientWidth?e.scrollLeft<=t?n("start"):Math.abs(e.scrollWidth-e.scrollLeft-e.clientWidth)<=t?n("end"):void n("between"):n(null),s=new ResizeObserver(i);return s.observe(e),e.addEventListener("scroll",i),()=>{e.removeEventListener("scroll",i),s.disconnect()}},[e,t]),i},v1=()=>{let e=uk(),{useIsCallRecordingInProgress:t}=uV(),i=t(),[n,s]=(0,lW.useState)(!1);return(0,lW.useEffect)(()=>{s(e=>!e&&e)},[i]),{toggleCallRecording:(0,lW.useCallback)(async()=>{try{s(!0),i?await e?.stopRecording():await e?.startRecording()}catch(e){console.error("Failed start recording",e)}},[e,i]),isAwaitingResponse:n,isCallRecordingInProgress:i}},v2=e=>{let t=uk(),{useHasPermissions:i}=uV(),n=i(e),[s,a]=(0,lW.useState)(!1);return(0,lW.useEffect)(()=>{n&&a(!1)},[n]),{requestPermission:(0,lW.useCallback)(async()=>{if(n)return!0;let i=!!t?.permissionsContext.canRequest(e);if(s||!i)return!1;a(!0);try{await t?.requestPermissions({permissions:[e]})}catch(e){throw a(!1),Error(`requestPermission failed: ${e}`)}return!1},[t,n,s,e]),hasPermission:n,canRequestPermission:!!t?.permissionsContext.canRequest(e),isAwaitingPermission:s}};!function(e){e.PORTAL="portal",e.MENU="menu"}(D||(D={}));let v3=(0,lW.createContext)({}),v4=()=>(0,lW.useContext)(v3),v6=({children:e,refs:t})=>{let i=(0,lW.useMemo)(()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`,[]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{id:i,className:"str-video__portal"}),(0,V.jsx)(dx,{children:(0,V.jsx)(dp,{id:i,children:(0,V.jsx)("div",{className:"str-video__portal-content",ref:t.setFloating,children:e})})})]})},v5=({ToggleButton:e,placement:t="top-start",strategy:i="absolute",offset:n,visualType:s=D.MENU,children:a})=>{let[r,o]=(0,lW.useState)(!1),{floating:c,domReference:l,refs:u,x:p,y:d}=vX({placement:t,strategy:i,offset:n});return(0,lW.useEffect)(()=>{let e=e=>{!c&&l?.contains(e.target)?o(!0):c&&!c?.contains(e.target)&&o(!1)},t=e=>{"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||o(!1)};return document?.addEventListener("click",e,{capture:!0}),document?.addEventListener("keydown",t),()=>{document?.removeEventListener("click",e,{capture:!0}),document?.removeEventListener("keydown",t)}},[c,l]),(0,V.jsxs)(V.Fragment,{children:[r&&(0,V.jsx)(v3.Provider,{value:{close:()=>o(!1)},children:s===D.PORTAL?(0,V.jsx)(v6,{refs:u,children:a}):s===D.MENU?(0,V.jsx)("div",{className:"str-video__menu-container",ref:u.setFloating,style:{position:i,top:d??0,left:p??0,overflowY:"auto"},children:a}):null}),(0,V.jsx)(e,{menuShown:r,ref:u.setReference})]})},v8=({children:e,onItemClick:t})=>{let i=(0,lW.useRef)(null);return(0,V.jsx)("ul",{className:"str-video__generic-menu",ref:i,onClick:e=>{t&&e.target!==i.current&&i.current?.contains(e.target)&&t(e)},children:e})},v9=({children:e,...t})=>(0,V.jsx)("li",{className:"str-video__generic-menu--item",children:(0,V.jsx)("button",{...t,children:e})}),v7=({className:e,icon:t})=>(0,V.jsx)("span",{className:(0,uq.Z)("str-video__icon",t&&`str-video__icon--${t}`,e)}),be=(0,lW.forwardRef)(function(e,t){let{icon:i,enabled:n,variant:s,onClick:a,className:r,...o}=e;return(0,V.jsx)("button",{className:(0,uq.Z)("str-video__call-controls__button",r,{[`str-video__call-controls__button--variant-${s}`]:s,"str-video__call-controls__button--enabled":n}),onClick:e=>{e.preventDefault(),a?.(e)},ref:t,...o,children:(0,V.jsx)(v7,{icon:i})})}),bt=e=>null!==e&&!(0,lW.isValidElement)(e),bi=(e,t)=>{if(e){if("function"==typeof e)return e(t);e.current=t}},bn=(0,lW.forwardRef)(function({caption:e,children:t,className:i,active:n,Menu:s,menuPlacement:a,menuOffset:r,title:o,ToggleMenuButton:c=bs,variant:l,onClick:u,...p},d){return(0,V.jsxs)("div",{className:(0,uq.Z)("str-video__composite-button",i,{"str-video__composite-button--caption":e,"str-video__composite-button--menu":s}),title:o,ref:d,children:[(0,V.jsxs)("div",{className:(0,uq.Z)("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":n,"str-video__composite-button__button-group--active-primary":n&&"primary"===l,"str-video__composite-button__button-group--active-secondary":n&&"secondary"===l}),children:[(0,V.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),u?.(e)},...p,children:t}),s&&(0,V.jsx)(v5,{offset:r,placement:a,ToggleButton:c,children:bt(s)?(0,V.jsx)(s,{}):s})]}),e&&(0,V.jsx)("div",{className:"str-video__composite-button__caption",children:e})]})}),bs=(0,lW.forwardRef)(function({menuShown:e},t){return(0,V.jsx)(be,{className:(0,uq.Z)("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":e}),icon:e?"caret-down":"caret-up",ref:t})}),ba=({children:e,...t})=>(0,V.jsx)("button",{...t,className:"str-video__text-button",children:e}),br=e=>{let{isVisible:t,message:i,children:n,visibilityTimeout:s,resetIsVisible:a,placement:r="top",iconClassName:o="str-video__notification__icon",close:c}=e,{refs:l,x:u,y:p,strategy:d}=vX({placement:r,strategy:"absolute"});return(0,lW.useEffect)(()=>{if(!t||!s||!a)return;let e=setTimeout(()=>{a()},s);return()=>clearTimeout(e)},[t,a,s]),(0,V.jsxs)("div",{ref:l.setReference,children:[t&&(0,V.jsxs)("div",{className:"str-video__notification",ref:l.setFloating,style:{position:d,top:p??0,left:u??0,overflowY:"auto"},children:[o&&(0,V.jsx)("i",{className:o}),(0,V.jsx)("span",{className:"str-video__notification__message",children:i}),c?(0,V.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:c}):null]}),n]})},bo=e=>{let{permission:t,isAwaitingApproval:i,messageApproved:n,messageAwaitingApproval:s,messageRevoked:a,visibilityTimeout:r=3500,children:o}=e,{useHasPermissions:c}=uV(),l=c(t),u=(0,lW.useRef)(l),[p,d]=(0,lW.useState)();(0,lW.useEffect)(()=>{l&&!u.current?(d("granted"),u.current=!0):!l&&u.current&&(d("revoked"),u.current=!1)},[l]);let h=(0,lW.useCallback)(()=>d(void 0),[]);return i?(0,V.jsx)(br,{isVisible:i&&!l,message:s,children:o}):(0,V.jsx)(br,{isVisible:!!p,visibilityTimeout:r,resetIsVisible:h,message:"granted"===p?n:a,children:o})},bc=({children:e,text:t,placement:i})=>{let{useMicrophoneState:n}=uV(),{isSpeakingWhileMuted:s}=n(),{t:a}=uj(),r=t??a("You are muted. Unmute to speak.");return(0,V.jsx)(br,{message:r,isVisible:s,placement:i||"top-start",children:e})},bl=({className:e,type:t="spinner",text:i,tooltip:n})=>(0,V.jsxs)("div",{className:(0,uq.Z)("str-video__loading-indicator",e),title:n,children:[(0,V.jsx)("div",{className:(0,uq.Z)("str-video__loading-indicator__icon",t)}),i&&(0,V.jsx)("p",{className:"str-video__loading-indicator-text",children:i})]});(0,lW.forwardRef)(function(e,t){return(0,V.jsx)(bn,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,V.jsx)(v7,{icon:"recording-off"})})});let bu=({caption:e})=>{let{t}=uj(),{toggleCallRecording:i,isAwaitingResponse:n,isCallRecordingInProgress:s}=v1(),a=e||t("Record call");return n&&(a=t(s?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,V.jsx)(uW,{requiredGrants:[s6.START_RECORD_CALL,s6.STOP_RECORD_CALL],children:(0,V.jsx)(bn,{active:s,caption:e,variant:"secondary","data-testid":s?"recording-stop-button":"recording-start-button",title:a,onClick:n?void 0:i,children:n?(0,V.jsx)(bl,{}):(0,V.jsx)(v7,{icon:s?"recording-on":"recording-off"})})})},bp={":like:":"\uD83D\uDC4D",":raise-hand:":"",":fireworks:":"\uD83C\uDF89",":dislike:":"\uD83D\uDC4E",":heart:":"",":smile:":"\uD83D\uDE00"},bd=({participant:{reaction:e,sessionId:t},hideAfterTimeoutInMs:i=5500,emojiReactionMap:n=bp})=>{let s=uk();if((0,lW.useEffect)(()=>{if(!s||!e)return;let n=setTimeout(()=>{s.resetReaction(t)},i);return()=>{clearTimeout(n)}},[s,i,e,t]),!e)return null;let{emoji_code:a}=e;return(0,V.jsx)("div",{className:"str-video__reaction",children:(0,V.jsx)("span",{className:"str-video__reaction__emoji",children:a&&n[a]})})},bh=[{type:"reaction",emoji_code:":like:"},{type:"raised-hand",emoji_code:":raise-hand:"},{type:"reaction",emoji_code:":fireworks:"},{type:"reaction",emoji_code:":dislike:"},{type:"reaction",emoji_code:":heart:"},{type:"reaction",emoji_code:":smile:"}],bm=({reactions:e=bh})=>(0,V.jsx)(uW,{requiredGrants:[s6.CREATE_REACTION],children:(0,V.jsx)(v5,{placement:"top",ToggleButton:bf,visualType:D.MENU,children:(0,V.jsx)(bg,{reactions:e})})}),bf=(0,lW.forwardRef)(function({menuShown:e},t){let{t:i}=uj();return(0,V.jsx)(bn,{ref:t,active:e,variant:"primary",title:i("Reactions"),children:(0,V.jsx)(v7,{icon:"reactions"})})}),bg=({reactions:e,layout:t="horizontal"})=>{let i=uk();return(0,V.jsx)("div",{className:(0,uq.Z)("str-video__reactions-menu",{"str-video__reactions-menu--horizontal":"horizontal"===t,"str-video__reactions-menu--vertical":"vertical"===t}),children:e.map(e=>(0,V.jsx)("button",{type:"button",className:"str-video__reactions-menu__button",onClick:()=>{i?.sendReaction(e)},children:e.emoji_code&&bp[e.emoji_code]},e.emoji_code))})},bv=e=>{let{t}=uj(),{caption:i}=e,{useHasOngoingScreenShare:n,useScreenShareState:s,useCallSettings:a}=uV(),r=n(),{hasPermission:o,requestPermission:c,isAwaitingPermission:l}=v2(s6.SCREENSHARE),u=a(),p=u?.screensharing.enabled,{screenShare:d,isMute:h}=s(),m=!!h&&(r||!1===p);return(0,V.jsx)(uW,{requiredGrants:[s6.SCREENSHARE],children:(0,V.jsx)(bo,{permission:s6.SCREENSHARE,isAwaitingApproval:l,messageApproved:t("You can now share your screen."),messageAwaitingApproval:t("Awaiting for an approval to share screen."),messageRevoked:t("You can no longer share your screen."),children:(0,V.jsx)(bn,{active:r,caption:i,title:i||t("Share screen"),variant:"primary","data-testid":r?"screen-share-stop-button":"screen-share-start-button",disabled:m,onClick:async()=>{o?await d.toggle():await c()},children:(0,V.jsx)(v7,{icon:r?"screen-share-on":"screen-share-off"})})})})},bb=(0,lW.createContext)({}),bx=e=>{let{children:t,icon:i,defaultSelectedLabel:n,defaultSelectedIndex:s,handleSelect:a}=e,[r,o]=(0,lW.useState)(!1),[c,l]=(0,lW.useState)(null),[u,p]=(0,lW.useState)(s),[d,h]=(0,lW.useState)(n),{refs:m,context:f}=dS({placement:"bottom-start",open:r,onOpenChange:o,whileElementsMounted:dA.Me,middleware:[(0,dA.RR)()]}),g=(0,lW.useRef)([]),v=(0,lW.useRef)([]),b=(0,lW.useCallback)(e=>{p(e),a(e||0),o(!1),null!==e&&h(v.current[e])},[a]),x=function(e,t){let{open:i,onOpenChange:n,refs:s,elements:{domReference:a,floating:r}}=e,{listRef:o,activeIndex:c,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:p=null,allowEscape:d=!1,loop:h=!1,nested:m=!1,rtl:f=!1,virtual:g=!1,focusItemOnOpen:v="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:x=!0,disabledIndices:y,orientation:w="vertical",cols:_=1,scrollItemIntoView:k=!0,virtualItemRef:S,itemSizes:E,dense:C=!1}=t,T=pY(),R=pX(),O=pT(l),I=lW.useRef(v),P=lW.useRef(null!=p?p:-1),j=lW.useRef(null),N=lW.useRef(!0),L=lW.useRef(O),A=lW.useRef(!!r),D=lW.useRef(!1),U=lW.useRef(!1),M=pQ(y),F=pQ(i),B=pQ(k),[$,z]=lW.useState(),[V,W]=lW.useState(),q=pT(function(e,t,i){void 0===i&&(i=!1);let n=e.current[t.current];n&&(g?(z(n.id),null==R||R.events.emit("virtualfocus",n),S&&(S.current=n)):pM(n,{preventScroll:!0,sync:!!(uJ().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints&&uQ())&&(dR||D.current)}),requestAnimationFrame(()=>{let e=B.current;e&&n&&(i||!N.current)&&(null==n.scrollIntoView||n.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))}))});pF(()=>{document.createElement("div").focus({get preventScroll(){return dR=!0,!1}})},[]),pF(()=>{u&&(i&&r?I.current&&null!=p&&(U.current=!0,P.current=p,O(p)):A.current&&(P.current=-1,L.current(null)))},[u,i,r,p,O]),pF(()=>{if(u&&i&&r){if(null==c){if(D.current=!1,null==p&&(A.current&&(P.current=-1,q(o,P)),!A.current&&I.current&&(null!=j.current||!0===I.current&&null==j.current))){let e=0,t=()=>{null==o.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(P.current=null==j.current||dP(j.current,w,f)||m?pL(o,M.current):pA(o,M.current),j.current=null,O(P.current))};t()}}else pN(o,c)||(P.current=c,q(o,P,U.current),U.current=!1)}},[u,i,r,c,p,m,o,w,f,O,q,M]),pF(()=>{var e;if(!u||r||!R||g||!A.current)return;let t=R.nodesRef.current,i=null==(e=t.find(e=>e.id===T))||null==(e=e.context)?void 0:e.elements.floating,n=uG(u2(r)),s=t.some(e=>e.context&&uK(e.context.elements.floating,n));i&&!s&&N.current&&i.focus({preventScroll:!0})},[u,r,R,T,g]),pF(()=>{if(u&&R&&g&&!T)return R.events.on("virtualfocus",e),()=>{R.events.off("virtualfocus",e)};function e(e){W(e.id),S&&(S.current=e)}},[u,R,g,T,S]),pF(()=>{L.current=O,A.current=!!r}),pF(()=>{i||(j.current=null)},[i]);let H=null!=c,G=lW.useMemo(()=>{function e(e){if(!i)return;let t=o.current.indexOf(e);-1!==t&&O(t)}return{onFocus(t){let{currentTarget:i}=t;e(i)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...b&&{onMouseMove(t){let{currentTarget:i}=t;e(i)},onPointerLeave(e){let{pointerType:t}=e;N.current&&"touch"!==t&&(P.current=-1,q(o,P),O(null),g||pM(s.floating.current,{preventScroll:!0}))}}}},[i,s,q,b,o,O,g]);return lW.useMemo(()=>{if(!u)return{};let e=M.current;function t(t){if(N.current=!1,D.current=!0,!F.current&&t.currentTarget===s.floating.current)return;if(m&&dj(t.key,w,f)){u5(t),n(!1,t.nativeEvent,"list-navigation"),(0,uH.Re)(a)&&!g&&a.focus();return}let r=P.current,c=pL(o,e),l=pA(o,e);if("Home"===t.key&&(u5(t),P.current=c,O(P.current)),"End"===t.key&&(u5(t),P.current=l,O(P.current)),_>1){var u;let i=E||Array.from({length:o.current.length},()=>({width:1,height:1})),n=function(e,t,i){let n=[],s=0;return e.forEach((e,a)=>{let{width:r,height:o}=e,c=!1;for(i&&(s=0);!c;){let e=[];for(let i=0;i<r;i++)for(let n=0;n<o;n++)e.push(s+i+n*t);s%t+r<=t&&e.every(e=>null==n[e])?(e.forEach(e=>{n[e]=a}),c=!0):s++}}),[...n]}(i,_,C),s=n.findIndex(t=>null!=t&&!(null!=e&&e.includes(t))),a=n.reduce((t,i,n)=>null==i||null!=e&&e.includes(i)?t:n,-1);if(P.current=n[function(e,t){let{event:i,orientation:n,loop:s,cols:a,disabledIndices:r,minIndex:o,maxIndex:c,prevIndex:l,stopEvent:u=!1}=t,p=l;if(i.key===pR){if(u&&u5(i),-1===l)p=c;else if(p=pD(e,{startingIndex:p,amount:a,decrement:!0,disabledIndices:r}),s&&(l-a<o||p<0)){let e=l%a,t=c%a,i=c-(t-e);p=t===e?c:t>e?i:i-a}pN(e,p)&&(p=l)}if(i.key===pO&&(u&&u5(i),-1===l?p=o:(p=pD(e,{startingIndex:l,amount:a,disabledIndices:r}),s&&l+a>c&&(p=pD(e,{startingIndex:l%a-a,amount:a,disabledIndices:r}))),pN(e,p)&&(p=l)),"both"===n){let t=(0,u9.GW)(l/a);i.key===pP&&(u&&u5(i),l%a!=a-1?(p=pD(e,{startingIndex:l,disabledIndices:r}),s&&pj(p,a,t)&&(p=pD(e,{startingIndex:l-l%a-1,disabledIndices:r}))):s&&(p=pD(e,{startingIndex:l-l%a-1,disabledIndices:r})),pj(p,a,t)&&(p=l)),i.key===pI&&(u&&u5(i),l%a!=0?(p=pD(e,{startingIndex:l,disabledIndices:r,decrement:!0}),s&&pj(p,a,t)&&(p=pD(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:r}))):s&&(p=pD(e,{startingIndex:l+(a-l%a),decrement:!0,disabledIndices:r})),pj(p,a,t)&&(p=l));let n=(0,u9.GW)(c/a)===t;pN(e,p)&&(p=s&&n?i.key===pI?c:pD(e,{startingIndex:l-l%a-1,disabledIndices:r}):l)}return p}({current:n.map(e=>null!=e?o.current[e]:null)},{event:t,orientation:w,loop:h,cols:_,disabledIndices:(u=[...e||[],void 0],n.flatMap((e,t)=>u.includes(e)?[t]:[])),minIndex:s,maxIndex:a,prevIndex:function(e,t,i,n,s){if(-1===e)return -1;let a=i.indexOf(e);switch(s){case"tl":return a;case"tr":return a+t[e].width-1;case"bl":return a+(t[e].height-1)*n;case"br":return i.lastIndexOf(e)}}(P.current,i,n,_,t.key===pO?"bl":t.key===pP?"tr":"tl"),stopEvent:!0})],O(P.current),"both"===w)return}if(dI(t.key,w)){if(u5(t),i&&!g&&uG(t.currentTarget.ownerDocument)===t.currentTarget){P.current=dP(t.key,w,f)?c:l,O(P.current);return}dP(t.key,w,f)?h?P.current=r>=l?d&&r!==o.current.length?-1:c:pD(o,{startingIndex:r,disabledIndices:e}):P.current=Math.min(l,pD(o,{startingIndex:r,disabledIndices:e})):h?P.current=r<=c?d&&-1!==r?o.current.length:l:pD(o,{startingIndex:r,decrement:!0,disabledIndices:e}):P.current=Math.max(c,pD(o,{startingIndex:r,decrement:!0,disabledIndices:e})),pN(o,P.current)?O(null):O(P.current)}}function r(e){"auto"===v&&uX(e.nativeEvent)&&(I.current=!0)}let c=g&&i&&H&&{"aria-activedescendant":V||$},l=o.current.find(e=>(null==e?void 0:e.id)===$);return{reference:{...c,onKeyDown(s){var a,r,c,u,d,h;N.current=!1;let v=0===s.key.indexOf("Arrow"),b=(a=s.key,dO(w,f?a===pI:a===pP,a===pO)),y=dj(s.key,w,f),_=dI(s.key,w),k=(m?b:_)||"Enter"===s.key||""===s.key.trim();if(g&&i){let e,i;let n=null==R?void 0:R.nodesRef.current.find(e=>null==e.parentId),a=R&&n?(r=R.nodesRef.current,c=n.id,i=-1,function t(n,s){s>i&&(e=n,i=s),p1(r,n).forEach(e=>{t(e.id,s+1)})}(c,0),r.find(t=>t.id===e)):null;if(v&&a&&S){let e=new KeyboardEvent("keydown",{key:s.key,bubbles:!0});if(b||y){let t=(null==(u=a.context)?void 0:u.elements.domReference)===s.currentTarget,i=y&&!t?null==(d=a.context)?void 0:d.elements.domReference:b?l:null;i&&(u5(s),i.dispatchEvent(e),W(void 0))}if(_&&a.context&&a.context.open&&a.parentId&&s.currentTarget!==a.context.elements.domReference){u5(s),null==(h=a.context.elements.domReference)||h.dispatchEvent(e);return}}return t(s)}if(i||x||!v){if(k&&(j.current=m&&_?null:s.key),m){b&&(u5(s),i?(P.current=pL(o,e),O(P.current)):n(!0,s.nativeEvent,"list-navigation"));return}_&&(null!=p&&(P.current=p),u5(s),!i&&x?n(!0,s.nativeEvent,"list-navigation"):t(s),i&&O(P.current))}},onFocus(){i&&O(null)},onPointerDown:function(e){I.current=v,"auto"===v&&uZ(e.nativeEvent)&&(I.current=!0)},onMouseDown:r,onClick:r},floating:{"aria-orientation":"both"===w?void 0:w,...!u8(a)&&c,onKeyDown:t,onPointerMove(){N.current=!0}},item:G}},[a,s,$,V,M,F,o,u,w,f,g,i,H,m,p,x,d,_,h,v,O,n,G,R,S,E,C])}(f,{listRef:g,activeIndex:c,selectedIndex:u,onNavigate:l}),y=function(e,t){var i;let{open:n,dataRef:s}=e,{listRef:a,activeIndex:r,onMatch:o,onTypingChange:c,enabled:l=!0,findMatch:u=null,resetMs:p=750,ignoreKeys:d=[],selectedIndex:h=null}=t,m=lW.useRef(),f=lW.useRef(""),g=lW.useRef(null!=(i=null!=h?h:r)?i:-1),v=lW.useRef(null),b=pT(o),x=pT(c),y=pQ(u),w=pQ(d);return pF(()=>{n&&(clearTimeout(m.current),v.current=null,f.current="")},[n]),pF(()=>{if(n&&""===f.current){var e;g.current=null!=(e=null!=h?h:r)?e:-1}},[n,h,r]),lW.useMemo(()=>{if(!l)return{};function e(e){e?s.current.typing||(s.current.typing=e,x(e)):s.current.typing&&(s.current.typing=e,x(e))}function t(e,t,i){let n=y.current?y.current(t,i):t.find(e=>(null==e?void 0:e.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()))===0);return n?e.indexOf(n):-1}function i(i){let s=a.current;if(f.current.length>0&&" "!==f.current[0]&&(-1===t(s,s,f.current)?e(!1):" "===i.key&&u5(i)),null==s||w.current.includes(i.key)||1!==i.key.length||i.ctrlKey||i.metaKey||i.altKey)return;n&&" "!==i.key&&(u5(i),e(!0)),s.every(e=>{var t,i;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(i=e[1])?void 0:i.toLocaleLowerCase())})&&f.current===i.key&&(f.current="",g.current=v.current),f.current+=i.key,clearTimeout(m.current),m.current=setTimeout(()=>{f.current="",g.current=v.current,e(!1)},p);let r=g.current,o=t(s,[...s.slice((r||0)+1),...s.slice(0,(r||0)+1)],f.current);-1!==o?(b(o),v.current=o):" "!==i.key&&(f.current="",e(!1))}return{reference:{onKeyDown:i},floating:{onKeyDown:i,onKeyUp(t){" "===t.key&&e(!1)}}}},[l,n,s,a,p,w,y,b,x])}(f,{listRef:v,activeIndex:c,selectedIndex:u,onMatch:e=>{r?l(e):b(e)}}),{getReferenceProps:w,getFloatingProps:_,getItemProps:k}=function(e){void 0===e&&(e=[]);let t=e,i=lW.useCallback(t=>dT(t,e,"reference"),t),n=lW.useCallback(t=>dT(t,e,"floating"),t),s=lW.useCallback(t=>dT(t,e,"item"),e.map(e=>null==e?void 0:e.item));return lW.useMemo(()=>({getReferenceProps:i,getFloatingProps:n,getItemProps:s}),[i,n,s])}([x,y,function(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,dataRef:s,elements:{domReference:a}}=e,{enabled:r=!0,event:o="click",toggle:c=!0,ignoreMouse:l=!1,keyboardHandlers:u=!0}=t,p=lW.useRef(),d=lW.useRef(!1);return lW.useMemo(()=>r?{reference:{onPointerDown(e){p.current=e.pointerType},onMouseDown(e){0!==e.button||u1(p.current,!0)&&l||"click"===o||(i&&c&&(!s.current.openEvent||"mousedown"===s.current.openEvent.type)?n(!1,e.nativeEvent,"click"):(e.preventDefault(),n(!0,e.nativeEvent,"click")))},onClick(e){if("mousedown"===o&&p.current){p.current=void 0;return}u1(p.current,!0)&&l||(i&&c&&(!s.current.openEvent||"click"===s.current.openEvent.type)?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,e.defaultPrevented||!u||dy(e)||(" "!==e.key||u6(a)||(e.preventDefault(),d.current=!0),"Enter"===e.key&&(i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click")))},onKeyUp(e){!(e.defaultPrevented||!u||dy(e)||u6(a))&&" "===e.key&&d.current&&(d.current=!1,i&&c?n(!1,e.nativeEvent,"click"):n(!0,e.nativeEvent,"click"))}}}:{},[r,s,o,l,u,a,c,i,n])}(f),function(e,t){void 0===t&&(t={});let{open:i,onOpenChange:n,nodeId:s,elements:{reference:a,domReference:r,floating:o},dataRef:c}=e,{enabled:l=!0,escapeKey:u=!0,outsidePress:p=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:m="pointerdown",ancestorScroll:f=!1,bubbles:g,capture:v}=t,b=pX(),x=pT("function"==typeof p?p:()=>!1),y="function"==typeof p?x:p,w=lW.useRef(!1),_=lW.useRef(!1),{escapeKey:k,outsidePress:S}=dk(g),{escapeKey:E,outsidePress:C}=dk(v),T=pT(e=>{if(!i||!l||!u||"Escape"!==e.key)return;let t=b?p1(b.nodesRef.current,s):[];if(!k&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}n(!1,"nativeEvent"in e?e.nativeEvent:e,"escape-key")}),R=pT(e=>{var t;let i=()=>{var t;T(e),null==(t=u4(e))||t.removeEventListener("keydown",i)};null==(t=u4(e))||t.addEventListener("keydown",i)}),O=pT(e=>{let t=w.current;w.current=!1;let i=_.current;if(_.current=!1,"click"===d&&i||t||"function"==typeof y&&!y(e))return;let a=u4(e),c="["+pZ("inert")+"]",l=u2(o).querySelectorAll(c),u=(0,uH.kK)(a)?a:null;for(;u&&!(0,uH.Py)(u);){let e=(0,uH.Ow)(u);if((0,uH.Py)(e)||!(0,uH.kK)(e))break;u=e}if(l.length&&(0,uH.kK)(a)&&!a.matches("html,body")&&!uK(a,o)&&Array.from(l).every(e=>!uK(u,e)))return;if((0,uH.Re)(a)&&o){let t=a.clientWidth>0&&a.scrollWidth>a.clientWidth,i=a.clientHeight>0&&a.scrollHeight>a.clientHeight,n=i&&e.offsetX>a.clientWidth;if(i&&"rtl"===(0,uH.Dx)(a).direction&&(n=e.offsetX<=a.offsetWidth-a.clientWidth),n||t&&e.offsetY>a.clientHeight)return}let p=b&&p1(b.nodesRef.current,s).some(t=>{var i;return u3(e,null==(i=t.context)?void 0:i.elements.floating)});if(u3(e,o)||u3(e,r)||p)return;let h=b?p1(b.nodesRef.current,s):[];if(h.length>0){let e=!0;if(h.forEach(t=>{var i;if(null!=(i=t.context)&&i.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}n(!1,e,"outside-press")}),I=pT(e=>{var t;let i=()=>{var t;O(e),null==(t=u4(e))||t.removeEventListener(d,i)};null==(t=u4(e))||t.addEventListener(d,i)});return lW.useEffect(()=>{if(!i||!l)return;function e(e){n(!1,e,"ancestor-scroll")}c.current.__escapeKeyBubbles=k,c.current.__outsidePressBubbles=S;let t=u2(o);u&&t.addEventListener("keydown",E?R:T,E),y&&t.addEventListener(d,C?I:O,C);let s=[];return f&&((0,uH.kK)(r)&&(s=(0,uH.Kx)(r)),(0,uH.kK)(o)&&(s=s.concat((0,uH.Kx)(o))),!(0,uH.kK)(a)&&a&&a.contextElement&&(s=s.concat((0,uH.Kx)(a.contextElement)))),(s=s.filter(e=>{var i;return e!==(null==(i=t.defaultView)?void 0:i.visualViewport)})).forEach(t=>{t.addEventListener("scroll",e,{passive:!0})}),()=>{u&&t.removeEventListener("keydown",E?R:T,E),y&&t.removeEventListener(d,C?I:O,C),s.forEach(t=>{t.removeEventListener("scroll",e)})}},[c,o,r,a,u,y,d,i,n,f,l,k,S,T,E,R,O,C,I]),lW.useEffect(()=>{w.current=!1},[y,d]),lW.useMemo(()=>l?{reference:{onKeyDown:T,[dw[m]]:e=>{h&&n(!1,e.nativeEvent,"reference-press")}},floating:{onKeyDown:T,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[d_[d]]:()=>{w.current=!0}}}:{},[l,h,d,m,n,T])}(f),function(e,t){var i;void 0===t&&(t={});let{open:n,floatingId:s}=e,{enabled:a=!0,role:r="dialog"}=t,o=null!=(i=dN.get(r))?i:r,c=pG(),l=null!=pY();return lW.useMemo(()=>{if(!a)return{};let e={id:s,...o&&{role:o}};return"tooltip"===o||"label"===r?{reference:{["aria-"+("label"===r?"labelledby":"describedby")]:n?s:void 0},floating:e}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":n?s:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:c},..."menu"===o&&l&&{role:"menuitem"},..."select"===r&&{"aria-autocomplete":"none"},..."combobox"===r&&{"aria-autocomplete":"list"}},floating:{...e,..."menu"===o&&{"aria-labelledby":c}},item(e){let{active:t,selected:i}=e,n={role:"option",...t&&{id:s+"-option"}};switch(r){case"select":return{...n,"aria-selected":t&&i};case"combobox":return{...n,...t&&{"aria-selected":!0}}}return{}}}},[a,r,o,n,s,c,l])}(f,{role:"listbox"})]),S=(0,lW.useMemo)(()=>({activeIndex:c,selectedIndex:u,getItemProps:k,handleSelect:b}),[c,u,k,b]);return(0,V.jsxs)("div",{className:"str-video__dropdown",children:[(0,V.jsxs)("div",{className:"str-video__dropdown-selected",ref:m.setReference,tabIndex:0,...w(),children:[(0,V.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[i&&(0,V.jsx)(v7,{className:"str-video__dropdown-selected__icon",icon:i}),d]}),(0,V.jsx)(v7,{className:"str-video__dropdown-selected__chevron",icon:r?"chevron-up":"chevron-down"})]}),(0,V.jsx)(bb.Provider,{value:S,children:r&&(0,V.jsx)(dv,{context:f,modal:!1,children:(0,V.jsx)("div",{className:"str-video__dropdown-list",ref:m.setFloating,..._(),children:(0,V.jsx)(pz,{elementsRef:g,labelsRef:v,children:t})})})})]})},by=e=>{let{selected:t,label:i,icon:n}=e,{getItemProps:s,handleSelect:a}=(0,lW.useContext)(bb),{ref:r,index:o}=function(e){void 0===e&&(e={});let{label:t}=e,{register:i,unregister:n,map:s,elementsRef:a,labelsRef:r}=lW.useContext(p$),[o,c]=lW.useState(null),l=lW.useRef(null),u=lW.useCallback(e=>{if(l.current=e,null!==o&&(a.current[o]=e,r)){var i;let n=void 0!==t;r.current[o]=n?t:null!=(i=null==e?void 0:e.textContent)?i:null}},[o,a,r,t]);return pF(()=>{let e=l.current;if(e)return i(e),()=>{n(e)}},[i,n]),pF(()=>{let e=l.current?s.get(l.current):null;null!=e&&c(e)},[s]),lW.useMemo(()=>({ref:u,index:null==o?-1:o}),[o,u])}();return(0,V.jsxs)("div",{className:(0,uq.Z)("str-video__dropdown-option",{"str-video__dropdown-option--selected":t}),ref:r,...s({onClick:()=>a(o)}),children:[(0,V.jsx)(v7,{className:"str-video__dropdown-icon",icon:n}),(0,V.jsx)("span",{className:"str-video__dropdown-label",children:i})]})},bw=e=>{let{children:t,icon:i,handleSelect:n,defaultSelectedLabel:s,defaultSelectedIndex:a}=e;return(0,V.jsx)(bx,{icon:i,handleSelect:n,defaultSelectedIndex:a,defaultSelectedLabel:s,children:t})},b_=({disabled:e,id:t,label:i,onChange:n,name:s,selected:a,defaultChecked:r,value:o})=>(0,V.jsxs)("label",{className:(0,uq.Z)("str-video__device-settings__option",{"str-video__device-settings__option--selected":a,"str-video__device-settings__option--disabled":e}),htmlFor:t,children:[(0,V.jsx)("input",{type:"radio",name:s,onChange:n,value:o,id:t,checked:a,defaultChecked:r,disabled:e}),i]}),bk=e=>{let{devices:t=[],selectedDeviceId:i,title:n,type:s,onChange:a}=e,r=i;return t.length>0&&!t.find(e=>e.deviceId===r)&&(r=t[0].deviceId),(0,V.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[n&&(0,V.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),t.length?t.map(e=>(0,V.jsx)(b_,{id:`${s}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{a?.(e.target.value)},name:s,selected:e.deviceId===r||1===t.length},e.deviceId)):(0,V.jsx)(b_,{id:`${s}--default`,label:"Default",name:s,defaultChecked:!0,value:"default"})]})},bS=e=>{let{devices:t=[],selectedDeviceId:i,title:n,onChange:s,icon:a}=e,r=i;t.length>0&&!t.find(e=>e.deviceId===r)&&(r=t[0].deviceId);let o=t.findIndex(e=>e.deviceId===r),c=(0,lW.useCallback)(e=>{s?.(t[e].deviceId)},[t,s]);return(0,V.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,V.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),(0,V.jsx)(bw,{icon:a,defaultSelectedIndex:o,defaultSelectedLabel:t[o]?.label,handleSelect:c,children:t.map(e=>(0,V.jsx)(by,{icon:a,label:e.label,selected:e.deviceId===r||1===t.length},e.deviceId))})]})},bE=e=>{let{visualType:t="list",icon:i,placeholder:n,...s}=e;return"list"===t?(0,V.jsx)(bk,{...s}):(0,V.jsx)(bS,{...s,icon:i,placeholder:n})},bC=({title:e,visualType:t})=>{let{useMicrophoneState:i}=uV(),{microphone:n,selectedDevice:s,devices:a}=i();return(0,V.jsx)(bE,{devices:a||[],selectedDeviceId:s,type:"audioinput",onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"mic"})},bT=({title:e,visualType:t})=>{let{useCameraState:i}=uV(),{camera:n,devices:s,selectedDevice:a}=i();return(0,V.jsx)(bE,{devices:s||[],type:"videoinput",selectedDeviceId:a,onChange:async e=>{await n.select(e)},title:e,visualType:t,icon:"camera"})};(0,lW.forwardRef)(function({menuShown:e},t){let{t:i}=uj();return(0,V.jsx)(be,{className:(0,uq.Z)("str-video__device-settings__button",{"str-video__device-settings__button--active":e}),title:i("Toggle device menu"),icon:"device-settings",ref:t})});let bR=e=>{let{t}=uj(),{caption:i,Menu:n=(0,V.jsx)(bC,{visualType:"list"}),menuPlacement:s="top",...a}=e,{hasPermission:r,requestPermission:o,isAwaitingPermission:c}=v2(s6.SEND_AUDIO),{useMicrophoneState:l}=uV(),{microphone:u,isMute:p,hasBrowserPermission:d}=l();return(0,V.jsx)(uW,{requiredGrants:[s6.SEND_AUDIO],children:(0,V.jsx)(bo,{permission:s6.SEND_AUDIO,isAwaitingApproval:c,messageApproved:t("You can now speak."),messageAwaitingApproval:t("Awaiting for an approval to speak."),messageRevoked:t("You can no longer speak."),children:(0,V.jsxs)(bn,{active:p,caption:i,title:r?d?i||t("Mic"):t("Check your browser mic permissions"):t("You have no permission to share your audio"),variant:"secondary",disabled:!d||!r,"data-testid":p?"audio-unmute-button":"audio-mute-button",onClick:async()=>{r?await u.toggle():await o()},Menu:n,menuPlacement:s,menuOffset:16,...a,children:[(0,V.jsx)(v7,{icon:p?"mic-off":"mic"}),(!d||!r)&&(0,V.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})},bO=e=>{let{t}=uj(),{caption:i,Menu:n=(0,V.jsx)(bT,{visualType:"list"}),menuPlacement:s="top",...a}=e,{hasPermission:r,requestPermission:o,isAwaitingPermission:c}=v2(s6.SEND_VIDEO),{useCameraState:l,useCallSettings:u}=uV(),{camera:p,isMute:d,hasBrowserPermission:h}=l(),m=u(),f=m?.video.enabled;return(0,V.jsx)(uW,{requiredGrants:[s6.SEND_VIDEO],children:(0,V.jsx)(bo,{permission:s6.SEND_VIDEO,isAwaitingApproval:c,messageApproved:t("You can now share your video."),messageAwaitingApproval:t("Awaiting for an approval to share your video."),messageRevoked:t("You can no longer share your video."),children:(0,V.jsxs)(bn,{active:d,caption:i,variant:"secondary",title:r?h?f?i||t("Video"):t("Video publishing is disabled by the system"):t("Check your browser video permissions"):t("You have no permission to share your video"),disabled:!h||!r||!f,"data-testid":d?"video-unmute-button":"video-mute-button",onClick:async()=>{r?await p.toggle():await o()},Menu:n,menuPlacement:s,menuOffset:16,...a,children:[(0,V.jsx)(v7,{icon:d?"camera-off":"camera"}),(!h||!r||!f)&&(0,V.jsx)("span",{className:"str-video__no-media-permission",children:"!"})]})})})};(0,lW.forwardRef)(function(e,t){let{t:i}=uj();return(0,V.jsx)(be,{icon:"call-end",variant:"danger",title:i("Leave call"),"data-testid":"leave-call-button",ref:t})});let bI=({disabled:e,onClick:t,onLeave:i})=>{let n=uk(),{t:s}=uj(),a=(0,lW.useCallback)(async e=>{t?t(e):n&&(await n.leave(),i?.())},[t,i,n]);return(0,V.jsx)(be,{disabled:e,icon:"call-end",variant:"danger",title:s("Leave call"),"data-testid":"cancel-call-button",onClick:a})},bP=({onLeave:e})=>(0,V.jsxs)("div",{className:"str-video__call-controls",children:[(0,V.jsx)(bu,{}),(0,V.jsx)(bm,{}),(0,V.jsx)(bv,{}),(0,V.jsx)(bc,{children:(0,V.jsx)(bR,{})}),(0,V.jsx)(bO,{}),(0,V.jsx)(bI,{onLeave:e})]});gG.register(v_,vE,g6,g8),function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(U||(U={})),(0,lW.forwardRef)(function(e,t){let{t:i}=uj(),{caption:n,menuShown:s}=e;return(0,V.jsx)(bn,{ref:t,active:s,caption:n,title:n||i("Statistics"),"data-testid":"stats-button",children:(0,V.jsx)(v7,{icon:"stats"})})});let bj=({data:e})=>e.length?(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,V.jsx)(bN,{userId:e},e))})}):null,bN=({userId:e})=>{let t=uk();return(0,V.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,V.jsx)("div",{className:"str-video__participant-listing-item__display-name",children:e}),(0,V.jsx)(uW,{requiredGrants:[s6.BLOCK_USERS],children:(0,V.jsx)(ba,{onClick:()=>{e&&t?.unblockUser(e)},children:"Unblock"})})]})},bL=({onClose:e})=>{let{useParticipants:t,useAnonymousParticipantCount:i}=uV(),n=t(),s=i(),{t:a}=uj();return(0,V.jsxs)("div",{className:"str-video__participant-list-header",children:[(0,V.jsxs)("div",{className:"str-video__participant-list-header__title",children:[a("Participants")," ",(0,V.jsxs)("span",{className:"str-video__participant-list-header__title-count",children:["[",n.length,"]"]}),s>0&&(0,V.jsx)("span",{className:"str-video__participant-list-header__title-anonymous",children:a("Anonymous",{count:s})})]}),(0,V.jsx)(be,{onClick:e,className:"str-video__participant-list-header__close-button",icon:"close"})]})},bA=({children:e,referenceElement:t,tooltipClassName:i,tooltipPlacement:n="top",visible:s=!1})=>{let{refs:a,x:r,y:o,strategy:c}=vX({placement:n,strategy:"absolute"});return((0,lW.useEffect)(()=>{a.setReference(t)},[t,a]),s)?(0,V.jsx)("div",{className:(0,uq.Z)("str-video__tooltip",i),ref:a.setFloating,style:{position:c,top:o??0,left:r??0,overflowY:"auto"},children:e}):null},bD=({onMouseEnter:e,onMouseLeave:t}={})=>{let[i,n]=(0,lW.useState)(!1);return{handleMouseEnter:(0,lW.useCallback)(t=>{n(!0),e?.(t)},[e]),handleMouseLeave:(0,lW.useCallback)(e=>{n(!1),t?.(e)},[t]),tooltipVisible:i}},bU=({title:e,tooltipClassName:t,tooltipPlacement:i,...n})=>{let{handleMouseEnter:s,handleMouseLeave:a,tooltipVisible:r}=bD(),[o,c]=(0,lW.useState)(null);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(bA,{referenceElement:o,visible:r,tooltipClassName:t,tooltipPlacement:i,children:e||""}),(0,V.jsx)("div",{ref:c,onMouseEnter:s,onMouseLeave:a,...n})]})},bM=({participant:e,DisplayName:t=bB})=>{let i=e.publishedTracks.includes(aF.TrackType.AUDIO),n=e.publishedTracks.includes(aF.TrackType.VIDEO),s=!!e.pin,{t:a}=uj();return(0,V.jsxs)("div",{className:"str-video__participant-listing-item",children:[(0,V.jsx)(vJ,{name:e.name,imageSrc:e.image}),(0,V.jsx)(t,{participant:e}),(0,V.jsxs)("div",{className:"str-video__participant-listing-item__media-indicator-group",children:[(0,V.jsx)(bF,{title:a(i?"Microphone on":"Microphone off"),className:(0,uq.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${i?"mic":"mic-off"}`)}),(0,V.jsx)(bF,{title:a(n?"Camera on":"Camera off"),className:(0,uq.Z)("str-video__participant-listing-item__icon",`str-video__participant-listing-item__icon-${n?"camera":"camera-off"}`)}),s&&(0,V.jsx)(bF,{title:a("Pinned"),className:(0,uq.Z)("str-video__participant-listing-item__icon","str-video__participant-listing-item__icon-pinned")}),(0,V.jsx)(v5,{placement:"bottom-end",ToggleButton:b$,children:(0,V.jsx)(vG.Provider,{value:{participant:e,trackType:"none"},children:(0,V.jsx)(b5,{})})})]})]})},bF=e=>(0,V.jsx)(bU,{...e}),bB=({participant:e})=>{let t;let i=uz(),{t:n}=uj(),s=e.userId===i?.id?n("Me"):"",a=e.name||e.userId||n("Unknown");return t=e.name?s?`${a} (${s})`:a:s||a||n("Unknown"),(0,V.jsx)(bU,{className:"str-video__participant-listing-item__display-name",title:t,children:t})},b$=(0,lW.forwardRef)(function(e,t){return(0,V.jsx)(be,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),bz=({data:e})=>(0,V.jsx)("div",{className:"str-video__participant-listing",children:e.map(e=>(0,V.jsx)(bM,{participant:e},e.sessionId))}),bV=()=>{let{t:e}=uj();return(0,V.jsx)("div",{className:"str-video__participant-list--empty",children:e("No participants found")})},bW=({exitSearch:e,isActive:t,...i})=>{let[n,s]=(0,lW.useState)(null);return(0,lW.useEffect)(()=>{if(!n)return;let t=t=>{"escape"===t.key.toLowerCase()&&e()};return n.addEventListener("keydown",t),()=>{n.removeEventListener("keydown",t)}},[e,n]),(0,V.jsxs)("div",{className:(0,uq.Z)("str-video__search-input__container",{"str-video__search-input__container--active":t}),children:[(0,V.jsx)("input",{placeholder:"Search",...i,ref:s}),t?(0,V.jsx)("button",{className:"str-video__search-input__clear-btn",onClick:e,children:(0,V.jsx)("span",{className:"str-video__search-input__icon--active"})}):(0,V.jsx)("span",{className:"str-video__search-input__icon"})]})},bq=({EmptySearchResultComponent:e,LoadingIndicator:t=bl,searchQueryInProgress:i,searchResults:n,SearchResultList:s})=>i?(0,V.jsx)("div",{className:"str-video__search-results--loading",children:(0,V.jsx)(t,{})}):n.length?(0,V.jsx)(s,{data:n}):(0,V.jsx)(e,{}),bH=({debounceInterval:e,searchFn:t,searchQuery:i=""})=>{let[n,s]=(0,lW.useState)([]),[a,r]=(0,lW.useState)(!1);return(0,lW.useEffect)(()=>{if(!i.length){r(!1),s([]);return}r(!0);let n=setTimeout(async()=>{try{let e=await t(i);s(e)}catch(e){console.error(e)}finally{r(!1)}},e);return()=>{clearTimeout(n)}},[e,t,i]),{searchQueryInProgress:a,searchResults:n}},bG={active:"Active users",blocked:"Blocked users"},bK=200,bJ=({onClose:e,activeUsersSearchFn:t,blockedUsersSearchFn:i,debounceSearchInterval:n})=>{let[s,a]=(0,lW.useState)(""),[r,o]=(0,lW.useState)("active"),c=(0,lW.useCallback)(()=>a(""),[]);return(0,V.jsxs)("div",{className:"str-video__participant-list",children:[(0,V.jsx)(bL,{onClose:e}),(0,V.jsx)(bW,{value:s,onChange:({currentTarget:e})=>a(e.value),exitSearch:c,isActive:!!s}),(0,V.jsx)(bY,{userListType:r,setUserListType:o}),(0,V.jsxs)("div",{className:"str-video__participant-list__content",children:["active"===r&&(0,V.jsx)(bX,{searchQuery:s,activeUsersSearchFn:t,debounceSearchInterval:n}),"blocked"===r&&(0,V.jsx)(bZ,{searchQuery:s,blockedUsersSearchFn:i,debounceSearchInterval:n})]})]})},bY=({userListType:e,setUserListType:t})=>{let i=uk();return(0,V.jsxs)("div",{className:"str-video__participant-list__content-header",children:[(0,V.jsx)("div",{className:"str-video__participant-list__content-header-title",children:"active"===e&&(0,V.jsx)(uW,{requiredGrants:[s6.MUTE_USERS],hasPermissionsOnly:!0,children:(0,V.jsx)(ba,{onClick:()=>{i?.muteAllUsers("audio")},children:"Mute all"})})}),(0,V.jsx)(v5,{placement:"bottom-end",ToggleButton:bQ,children:(0,V.jsx)(v8,{children:Object.keys(bG).map(i=>(0,V.jsx)(v9,{"aria-selected":i===e,onClick:()=>t(i),children:bG[i]},i))})})]})},bX=({searchQuery:e,activeUsersSearchFn:t,debounceSearchInterval:i=bK})=>{let{useParticipants:n}=uV(),s=n({sortBy:oG}),a=(0,lW.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(s.filter(e=>e.name.match(t)))},[s]),{searchQueryInProgress:r,searchResults:o}=bH({searchFn:t??a,debounceInterval:i,searchQuery:e});return(0,V.jsx)(bq,{EmptySearchResultComponent:bV,LoadingIndicator:bl,searchQueryInProgress:r,searchResults:e?o:s,SearchResultList:bz})},bZ=({blockedUsersSearchFn:e,debounceSearchInterval:t=bK,searchQuery:i})=>{let{useCallBlockedUserIds:n}=uV(),s=n(),a=(0,lW.useCallback)(e=>{let t=RegExp(e,"i");return Promise.resolve(s.filter(e=>e.match(t)))},[s]),{searchQueryInProgress:r,searchResults:o}=bH({searchFn:e??a,debounceInterval:t,searchQuery:i});return(0,V.jsx)(bq,{EmptySearchResultComponent:bV,LoadingIndicator:bl,searchQueryInProgress:r,searchResults:i?o:s,SearchResultList:bj})},bQ=(0,lW.forwardRef)(function(e,t){return(0,V.jsx)(be,{enabled:e.menuShown,icon:"filter",ref:t})});N.JOINING,N.RINGING,N.MIGRATING,N.RECONNECTING,N.RECONNECTING_FAILED,N.OFFLINE,N.IDLE,N.UNKNOWN,N.JOINED,N.LEFT,(0,lW.forwardRef)(function(e,t){let{permissionRequests:i,handleUpdatePermission:n,...s}=e,{t:a}=uj();return(0,V.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...s,children:i.map((e,t)=>{let{user:i,permissions:s}=e;return(0,V.jsx)(lW.Fragment,{children:s.map(t=>(0,V.jsxs)("div",{className:"str-video__permission-request",children:[(0,V.jsx)("div",{className:"str-video__permission-request__message",children:b1(i.name||i.id,t,a)}),(0,V.jsx)(b0,{className:"str-video__permission-request__button--allow",type:"button",onClick:n(e,"grant"),children:a("Allow")}),(0,V.jsx)(b0,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"revoke"),children:a("Revoke")}),(0,V.jsx)(b0,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"dismiss"),children:a("Dismiss")})]},t))},`${i.id}/${t}`)})})});let b0=e=>{let{className:t,...i}=e;return(0,V.jsx)("button",{className:(0,uq.Z)("str-video__permission-request__button",t),...i})},b1=(e,t,i)=>{switch(t){case s6.SEND_AUDIO:return i("{{ userName }} is requesting to speak",{userName:e});case s6.SEND_VIDEO:return i("{{ userName }} is requesting to share their camera",{userName:e});case s6.SCREENSHARE:return i("{{ userName }} is requesting to present their screen",{userName:e});default:return i("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},b2=({as:e="div",className:t,children:i,...n})=>(0,V.jsx)(e,{...n,className:(0,uq.Z)("str-video",t),children:i}),b3=(0,lW.forwardRef)(function({participant:e,style:t},i){let{t:n}=uj(),[s,a]=(0,lW.useState)(!1),r=e.name||e.userId;return(0,V.jsxs)("div",{className:"str-video__video-placeholder",style:t,ref:i,children:[(!e.image||s)&&(r?(0,V.jsx)(b4,{name:r}):(0,V.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:n("Video is disabled")})),e.image&&!s&&(0,V.jsx)("img",{onError:()=>a(!0),alt:"video-placeholder",className:"str-video__video-placeholder__avatar",src:e.image})]})}),b4=e=>{let{name:t}=e,i=t.split(" ").slice(0,2).map(e=>e[0]).join("");return(0,V.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:i})},b6=({trackType:e,participant:t,className:i,VideoPlaceholder:n=b3,refs:s,...a})=>{let{sessionId:r,videoStream:o,screenShareStream:c,publishedTracks:l,viewportVisibilityState:u,isLocalParticipant:p,userId:d}=t,h=uk(),[m,f]=(0,lW.useState)(null),[g,v]=(0,lW.useState)(!0),[b,x]=(0,lW.useState)(!0),y="videoTrack"===e?o:"screenShareTrack"===e?c:void 0;if((0,lW.useLayoutEffect)(()=>{if(!h||!m||"none"===e)return;let t=h.bindVideoElement(m,r,e);return()=>{t?.()}},[h,e,r,m]),(0,lW.useEffect)(()=>{if(!y||!m)return;let[e]=y.getVideoTracks();if(!e)return;let t=()=>{v(m.paused);let{width:t=0,height:i=0}=e.getSettings();x(t>=i)};return v(m.paused),m.addEventListener("play",t),m.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{m.removeEventListener("play",t),m.removeEventListener("pause",t),e.removeEventListener("unmute",t),v(!0)}},[y,m]),!h)return null;let w="videoTrack"===e?l.includes(aF.TrackType.VIDEO):"screenShareTrack"===e&&l.includes(aF.TrackType.SCREEN_SHARE),_="none"===e||u?.[e]===P.INVISIBLE,k=!w||_,S=p&&"videoTrack"===e,E="screenShareTrack"===e;return(0,V.jsxs)(V.Fragment,{children:[!k&&(0,V.jsx)("video",{...a,className:(0,uq.Z)("str-video__video",i,{"str-video__video--not-playing":g,"str-video__video--tall":!b,"str-video__video--mirror":S,"str-video__video--screen-share":E}),"data-user-id":d,"data-session-id":r,ref:e=>{f(e),s?.setVideoElement?.(e)}}),(k||g)&&n&&(0,V.jsx)(n,{style:{position:"absolute"},participant:t,ref:s?.setVideoPlaceholderElement})]})};(0,lW.forwardRef)(function({stream:e,...t},i){let[n,s]=(0,lW.useState)(null);return(0,lW.useEffect)(()=>{if(n&&e&&e!==n.srcObject)return n.srcObject=e,(cX.isSafari()||cX.isFirefox())&&setTimeout(()=>{n.srcObject=e,n.play().catch(e=>{console.error("Failed to play stream",e)})},0),()=>{n.pause(),n.srcObject=null}},[e,n]),(0,V.jsx)("video",{autoPlay:!0,playsInline:!0,...t,ref:e=>{bi(i,e),s(e)}})});let b5=()=>{let{participant:e,participantViewElement:t,videoElement:i}=vK(),[n,s]=(0,lW.useState)(!!document.fullscreenElement),[a,r]=(0,lW.useState)(document.pictureInPictureElement),o=uk(),{t:c}=uj(),{pin:l,publishedTracks:u,sessionId:p,userId:d}=e,h=u.includes(aF.TrackType.AUDIO),m=u.includes(aF.TrackType.VIDEO),f=u.includes(aF.TrackType.SCREEN_SHARE),g=u.includes(aF.TrackType.SCREEN_SHARE_AUDIO),v=e=>()=>{o?.updateUserPermissions({user_id:d,grant_permissions:[e]})},b=e=>()=>{o?.updateUserPermissions({user_id:d,revoke_permissions:[e]})};(0,lW.useEffect)(()=>{let e=()=>{s(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,lW.useEffect)(()=>{if(!i)return;let e=()=>{r(document.pictureInPictureElement)};return i.addEventListener("enterpictureinpicture",e),i.addEventListener("leavepictureinpicture",e),()=>{i.removeEventListener("enterpictureinpicture",e),i.removeEventListener("leavepictureinpicture",e)}},[i]);let{close:x}=v4()||{};return(0,V.jsxs)(v8,{onItemClick:x,children:[(0,V.jsxs)(v9,{onClick:()=>{l?o?.unpin(p):o?.pin(p)},disabled:l&&!l.isLocalPin,children:[(0,V.jsx)(v7,{icon:"pin"}),c(l?"Unpin":"Pin")]}),(0,V.jsxs)(uW,{requiredGrants:[s6.PIN_FOR_EVERYONE],children:[(0,V.jsxs)(v9,{onClick:()=>{o?.pinForEveryone({user_id:d,session_id:p}).catch(e=>{console.error(`Failed to pin participant ${d}`,e)})},disabled:l&&!l.isLocalPin,children:[(0,V.jsx)(v7,{icon:"pin"}),c("Pin for everyone")]}),(0,V.jsxs)(v9,{onClick:()=>{o?.unpinForEveryone({user_id:d,session_id:p}).catch(e=>{console.error(`Failed to unpin participant ${d}`,e)})},disabled:!l||l.isLocalPin,children:[(0,V.jsx)(v7,{icon:"pin"}),c("Unpin for everyone")]})]}),(0,V.jsx)(uW,{requiredGrants:[s6.BLOCK_USERS],children:(0,V.jsxs)(v9,{onClick:()=>o?.blockUser(d),children:[(0,V.jsx)(v7,{icon:"not-allowed"}),c("Block")]})}),(0,V.jsxs)(uW,{requiredGrants:[s6.MUTE_USERS],children:[m&&(0,V.jsxs)(v9,{onClick:()=>o?.muteUser(d,"video"),children:[(0,V.jsx)(v7,{icon:"camera-off-outline"}),c("Turn off video")]}),f&&(0,V.jsxs)(v9,{onClick:()=>o?.muteUser(d,"screenshare"),children:[(0,V.jsx)(v7,{icon:"screen-share-off"}),c("Turn off screen share")]}),h&&(0,V.jsxs)(v9,{onClick:()=>o?.muteUser(d,"audio"),children:[(0,V.jsx)(v7,{icon:"no-audio"}),c("Mute audio")]}),g&&(0,V.jsxs)(v9,{onClick:()=>o?.muteUser(d,"screenshare_audio"),children:[(0,V.jsx)(v7,{icon:"no-audio"}),c("Mute screen share audio")]})]}),t&&(0,V.jsx)(v9,{onClick:()=>n?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:c("{{ direction }} fullscreen",{direction:c(n?"Leave":"Enter")})}),i&&document.pictureInPictureEnabled&&(0,V.jsx)(v9,{onClick:()=>i&&a!==i?i.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:c("{{ direction }} picture-in-picture",{direction:c(a===i?"Leave":"Enter")})}),(0,V.jsxs)(uW,{requiredGrants:[s6.UPDATE_CALL_PERMISSIONS],children:[(0,V.jsx)(v9,{onClick:v(s6.SEND_AUDIO),children:c("Allow audio")}),(0,V.jsx)(v9,{onClick:v(s6.SEND_VIDEO),children:c("Allow video")}),(0,V.jsx)(v9,{onClick:v(s6.SCREENSHARE),children:c("Allow screen sharing")}),(0,V.jsx)(v9,{onClick:b(s6.SEND_AUDIO),children:c("Disable audio")}),(0,V.jsx)(v9,{onClick:b(s6.SEND_VIDEO),children:c("Disable video")}),(0,V.jsx)(v9,{onClick:b(s6.SCREENSHARE),children:c("Disable screen sharing")})]})]})},b8=({trackedElement:e,dynascaleManager:t,sessionId:i,trackType:n})=>{let s=uk(),a=t??s?.dynascaleManager;(0,lW.useEffect)(()=>{if(!e||!a||!s||"none"===n)return;let t=a.trackElementVisibility(e,i,n);return()=>{t()}},[e,a,s,i,n])},b9=(0,lW.forwardRef)(function(e,t){return(0,V.jsx)(be,{enabled:e.menuShown,icon:"ellipsis",ref:t})}),b7=()=>{let e=uk(),{t}=uj();return(0,V.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,V.jsx)(v7,{icon:"screen-share-off"}),(0,V.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,V.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,V.jsx)(v7,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},xe=({indicatorsVisible:e=!0,menuPlacement:t="bottom-start",showMenuButton:i=!0,ParticipantActionsContextMenu:n=b5})=>{let{participant:s,trackType:a}=vK(),{publishedTracks:r}=s,o=r.includes(aF.TrackType.SCREEN_SHARE);return s.isLocalParticipant&&o&&"screenShareTrack"===a?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(b7,{}),(0,V.jsx)(xt,{indicatorsVisible:e})]}):(0,V.jsxs)(V.Fragment,{children:[i&&(0,V.jsx)(v5,{strategy:"fixed",placement:t,ToggleButton:b9,children:(0,V.jsx)(n,{})}),(0,V.jsx)(bd,{participant:s}),(0,V.jsx)(xt,{indicatorsVisible:e})]})},xt=({indicatorsVisible:e=!0})=>{let{participant:t}=vK(),{isLocalParticipant:i,connectionQuality:n,publishedTracks:s,pin:a,sessionId:r,name:o,userId:c}=t,l=uk(),{t:u}=uj(),p=!!n&&aF.ConnectionQuality[n].toLowerCase(),d=s.includes(aF.TrackType.AUDIO),h=s.includes(aF.TrackType.VIDEO),m=!!a&&a.isLocalPin;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"str-video__participant-details",children:(0,V.jsxs)("span",{className:"str-video__participant-details__name",children:[o||c,e&&!d&&(0,V.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),e&&!h&&(0,V.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),e&&m&&(0,V.jsx)("span",{title:u("Unpin"),onClick:()=>l?.unpin(r),className:"str-video__participant-details__name--pinned"}),e&&(0,V.jsx)(xi,{})]})}),e&&(0,V.jsx)(br,{isVisible:i&&n===aF.ConnectionQuality.POOR,message:u("Poor connection quality"),children:p&&(0,V.jsx)("span",{className:(0,uq.Z)("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${p}`),title:p})})]})},xi=()=>{let{participant:e}=vK(),{isSpeaking:t,isDominantSpeaker:i}=e;return(0,V.jsxs)("span",{className:(0,uq.Z)("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",i&&"str-video__speech-indicator--dominant"),children:[(0,V.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,V.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,V.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},xn=(0,lW.forwardRef)(function({participant:e,trackType:t="videoTrack",muteAudio:i,refs:{setVideoElement:n,setVideoPlaceholderElement:s}={},className:a,VideoPlaceholder:r,ParticipantViewUI:o=xe},c){let{isLocalParticipant:l,isSpeaking:u,isDominantSpeaker:p,publishedTracks:d,sessionId:h}=e,m=d.includes(aF.TrackType.AUDIO),f=d.includes(aF.TrackType.VIDEO),g=d.includes(aF.TrackType.SCREEN_SHARE_AUDIO),[v,b]=(0,lW.useState)(null),[x,y]=(0,lW.useState)(null),[w,_]=(0,lW.useState)(null);b8({sessionId:h,trackedElement:v,trackType:t});let k=(0,lW.useMemo)(()=>({participant:e,participantViewElement:v,videoElement:x,videoPlaceholderElement:w,trackType:t}),[x,w,e,v,t]),S=(0,lW.useMemo)(()=>({setVideoElement:e=>{n?.(e),y(e)},setVideoPlaceholderElement:e=>{s?.(e),_(e)}}),[n,s]);return(0,V.jsx)("div",{"data-testid":"participant-view",ref:e=>{bi(c,e),b(e)},className:(0,uq.Z)("str-video__participant-view",p&&"str-video__participant-view--dominant-speaker",u&&"str-video__participant-view--speaking",!f&&"str-video__participant-view--no-video",!m&&"str-video__participant-view--no-audio",a),children:(0,V.jsxs)(vG.Provider,{value:k,children:[!l&&!i&&(0,V.jsxs)(V.Fragment,{children:[m&&(0,V.jsx)(vq,{participant:e,trackType:"audioTrack"}),g&&(0,V.jsx)(vq,{participant:e,trackType:"screenShareAudioTrack"})]}),(0,V.jsx)(b6,{VideoPlaceholder:r,participant:e,trackType:t,refs:S,autoPlay:!0}),bt(o)?(0,V.jsx)(o,{}):o]})})}),xs=e=>{let{call:t,children:i}=e;return(0,V.jsx)(u_.Provider,{value:t,children:i})},xa={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},xr=e=>(0,V.jsx)(uL,{translationsOverrides:xa,...e}),xo=(e,t)=>{(0,lW.useEffect)(()=>{if(e)return t?e.setSortParticipantsBy(oM(oz,xl)):e.setSortParticipantsBy(o1),()=>{xc(e)}},[e,t])},xc=e=>{let t=c3.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||o0)},xl=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,xu=(e,t,i)=>{let[n,s]=(0,lW.useState)({vertical:"number"==typeof i?i:null,horizontal:"number"==typeof i?i:null});return(0,lW.useEffect)(()=>{if(!t||!e||"number"==typeof i||void 0===i)return;let n=null,a=null,r=new ResizeObserver((i,r)=>{if(i.length>1){let e=t.firstChild;e&&(a=e.clientHeight,n=e.clientWidth,r.unobserve(t))}if(null===a||null===n)return;let o=Math.floor(e.clientHeight/a),c=Math.floor(e.clientWidth/n);s(e=>e.vertical!==o||e.horizontal!==c?{vertical:o,horizontal:c}:e)});return r.observe(e),r.observe(t),()=>{r.disconnect()}},[t,i,e]),n},xp=()=>(0,V.jsx)(xe,{menuPlacement:"top-end"}),xd=()=>(0,V.jsx)(xe,{}),xh=({ParticipantViewUIBar:e=xp,ParticipantViewUISpotlight:t=xd,VideoPlaceholder:i,participantsBarPosition:n="bottom",participantsBarLimit:s})=>{let a=uk(),{useParticipants:r,useRemoteParticipants:o}=uV(),[c,...l]=r(),u=o(),[p,d]=(0,lW.useState)(null),[h,m]=(0,lW.useState)(null),[f,g]=(0,lW.useState)(null),v=xg(c),b=xu(f,h,s),x="left"===n||"right"===n,y="top"===n||"bottom"===n;(0,lW.useEffect)(()=>{if(!p||!a)return;let e=a.setViewport(p);return()=>e()},[p,a]),xo(a,1===l.length);let w=l,_=x?b.vertical:b.horizontal;return(void 0!==s&&null!==_&&(w=l.slice(0,_-(v?1:0))),a)?(0,V.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[(0,V.jsx)(vH,{participants:u}),(0,V.jsxs)("div",{className:(0,uq.Z)("str-video__speaker-layout",n&&`str-video__speaker-layout--variant-${n}`),children:[(0,V.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:c&&(0,V.jsx)(xn,{participant:c,muteAudio:!0,trackType:v?"screenShareTrack":"videoTrack",ParticipantViewUI:t,VideoPlaceholder:i})}),w.length>0&&n&&(0,V.jsxs)("div",{ref:g,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,V.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:d,children:(0,V.jsxs)("div",{ref:m,className:"str-video__speaker-layout__participants-bar",children:[v&&(0,V.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,V.jsx)(xn,{participant:c,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},c.sessionId),w.map(t=>(0,V.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,V.jsx)(xn,{participant:t,ParticipantViewUI:e,VideoPlaceholder:i,muteAudio:!0})},t.sessionId))]})}),x&&(0,V.jsx)(xf,{scrollWrapper:p}),y&&(0,V.jsx)(xm,{scrollWrapper:p})]})]})]}):null},xm=({scrollWrapper:e})=>{let t=v0(e);return(0,V.jsxs)(V.Fragment,{children:[t&&"start"!==t&&(0,V.jsx)(be,{onClick:()=>{e?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),t&&"end"!==t&&(0,V.jsx)(be,{onClick:()=>{e?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},xf=({scrollWrapper:e})=>{let t=vQ(e);return(0,V.jsxs)(V.Fragment,{children:[t&&"top"!==t&&(0,V.jsx)(be,{onClick:()=>{e?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),t&&"bottom"!==t&&(0,V.jsx)(be,{onClick:()=>{e?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},xg=e=>!!e?.publishedTracks.includes(aF.TrackType.SCREEN_SHARE),[xv,xb,xx]="0.6.3".split(".");a={type:aF.SdkType.REACT,major:xv,minor:xb,patch:xx};var xy=i(47674);i(13664);var xw=i(28371),x_=(0,xw.$)("8d04aad8bf4d6e5affb321fedc8be27909fe4d6f"),xk=i(8428),xS=(0,xw.$)("59cc07ab68581098448a314f2698d4d5c45e906c");let xE=process.env.NEXT_PUBLIC_STREAM_KEY;function xC({room:e,Id:t}){let i=(0,xy.useSession)(),[n,s]=(0,lW.useState)(null),[a,r]=(0,lW.useState)(null),o=(0,xk.useRouter)();return(0,lW.useEffect)(()=>{if(!e||!i.data?.user)return;let n=new lV({apiKey:xE,user:{id:t,name:i.data.user.name??void 0,image:i.data.user.image??void 0},tokenProvider:()=>x_(t)}),a=n.call("default",e.id);return a.join({create:!0}),s(n),r(a),()=>{a.leave().then(()=>n.disconnectUser()).catch(console.error)}},[i,e,t]),n&&a&&V.jsx(xr,{client:n,children:V.jsx(b2,{children:(0,V.jsxs)(xs,{call:a,children:[V.jsx(xh,{}),V.jsx(bP,{onLeave:async()=>{e.userId===t&&await xS({roomId:e.id}),o.push("/rooms")}}),V.jsx(bJ,{onClose:()=>void 0})]})})})}},54656:(e,t,i)=>{e.exports={parallel:i(23480),serial:i(47186),serialOrdered:i(74345)}},49105:e=>{e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}};function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}},66779:(e,t,i)=>{var n=i(94788);e.exports=function(e){var t=!1;return n(function(){t=!0}),function(i,s){t?e(i,s):n(function(){e(i,s)})}}},94788:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},93354:(e,t,i)=>{var n=i(66779),s=i(49105);e.exports=function(e,t,i,a){var r,o,c=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[c]=(r=e[c],o=function(e,t){c in i.jobs&&(delete i.jobs[c],e?s(i):i.results[c]=t,a(e,i.results))},2==t.length?t(r,n(o)):t(r,c,n(o)))}},19780:e=>{e.exports=function(e,t){var i=!Array.isArray(e),n={index:0,keyedList:i||t?Object.keys(e):null,jobs:{},results:i?{}:[],size:i?Object.keys(e).length:e.length};return t&&n.keyedList.sort(i?t:function(i,n){return t(e[i],e[n])}),n}},136:(e,t,i)=>{var n=i(49105),s=i(66779);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,n(this),s(e)(null,this.results))}},23480:(e,t,i)=>{var n=i(93354),s=i(19780),a=i(136);e.exports=function(e,t,i){for(var r=s(e);r.index<(r.keyedList||e).length;)n(e,t,r,function(e,t){if(e){i(e,t);return}if(0===Object.keys(r.jobs).length){i(null,r.results);return}}),r.index++;return a.bind(r,i)}},47186:(e,t,i)=>{var n=i(74345);e.exports=function(e,t,i){return n(e,t,null,i)}},74345:(e,t,i)=>{var n=i(93354),s=i(19780),a=i(136);function r(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,i,r){var o=s(e,i);return n(e,t,o,function i(s,a){if(s){r(s,a);return}if(o.index++,o.index<(o.keyedList||e).length){n(e,t,o,i);return}r(null,o.results)}),a.bind(o,r)},e.exports.ascending=r,e.exports.descending=function(e,t){return -1*r(e,t)}},76655:(e,t)=>{"use strict";t.JQ=function(e){for(var t,n=e.length,s=n%3,a=[],r=0,o=n-s;r<o;r+=16383)a.push(function(e,t,n){for(var s,a=[],r=t;r<n;r+=3)a.push(i[(s=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]))>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return a.join("")}(e,r,r+16383>o?o:r+16383));return 1===s?a.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===s&&a.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")};for(var i=[],n=[],s=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a=0,r=s.length;a<r;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},11252:(e,t,i)=>{var n=i(73837),s=i(12781).Stream,a=i(890);function r(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=r,n.inherits(r,s),r.create=function(e){var t=new this;for(var i in e=e||{})t[i]=e[i];return t},r.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},r.prototype.append=function(e){if(r.isStreamLike(e)){if(!(e instanceof a)){var t=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},r.prototype.pipe=function(e,t){return s.prototype.pipe.call(this,e,t),this.resume(),e},r.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},r.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){r.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},r.prototype._pipeNext=function(e){if(this._currentStream=e,r.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},r.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},r.prototype.write=function(e){this.emit("data",e)},r.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},r.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},r.prototype.end=function(){this._reset(),this.emit("end")},r.prototype.destroy=function(){this._reset(),this.emit("close")},r.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},r.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},r.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},r.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},60510:(e,t,i)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))}),t.splice(s,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(60506)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},60506:(e,t,i)=>{e.exports=function(e){function t(e){let i,s,a;let r=null;function o(...e){if(!o.enabled)return;let n=Number(new Date),s=n-(i||n);o.diff=s,o.prev=i,o.curr=n,i=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,n)=>{if("%%"===i)return"%";a++;let s=t.formatters[n];if("function"==typeof s){let t=e[a];i=s.call(o,t),e.splice(a,1),a--}return i}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(s!==t.namespaces&&(s=t.namespaces,a=t.enabled(e)),a),set:e=>{r=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,i){let n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(i=0;i<s;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let i,n;if("*"===e[e.length-1])return!0;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(58476),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t)|0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},62056:(e,t,i)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=i(60510):e.exports=i(12086)},12086:(e,t,i)=>{let n=i(76224),s=i(73837);t.init=function(e){e.inspectOpts={};let i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(s.format(...e)+"\n")},t.formatArgs=function(i){let{namespace:n,useColors:s}=this;if(s){let t=this.color,s="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${s};1m${n} \u001B[0m`;i[0]=a+i[0].split("\n").join("\n"+a),i.push(s+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else i[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=s.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=i(60125);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),e.exports=i(60506)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},890:(e,t,i)=>{var n=i(12781).Stream,s=i(73837);function a(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=a,s.inherits(a,n),a.create=function(e,t){var i=new this;for(var n in t=t||{})i[n]=t[n];i.source=e;var s=e.emit;return e.emit=function(){return i._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(a.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),a.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},a.prototype.resume=function(){this._released||this.release(),this.source.resume()},a.prototype.pause=function(){this.source.pause()},a.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},a.prototype.pipe=function(){var e=n.prototype.pipe.apply(this,arguments);return this.resume(),e},a.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},a.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},82920:(e,t,i)=>{var n;e.exports=function(){if(!n){try{n=i(62056)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},42136:(e,t,i)=>{var n=i(57310),s=n.URL,a=i(13685),r=i(95687),o=i(12781).Writable,c=i(39491),l=i(82920),u=!1;try{c(new s)}catch(e){u="ERR_INVALID_URL"===e.code}var p=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],d=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);d.forEach(function(e){h[e]=function(t,i,n){this._redirectable.emit(e,t,i,n)}});var m=T("ERR_INVALID_URL","Invalid URL",TypeError),f=T("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g=T("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",f),v=T("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),b=T("ERR_STREAM_WRITE_AFTER_END","write after end"),x=o.prototype.destroy||_;function y(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var i=this;this._onNativeResponse=function(e){try{i._processResponse(e)}catch(e){i.emit("error",e instanceof f?e:new f({cause:e}))}},this._performRequest()}function w(e){var t={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(e).forEach(function(n){var a=n+":",r=i[a]=e[n],o=t[n]=Object.create(r);Object.defineProperties(o,{request:{value:function(e,n,r){var o;return(o=e,s&&o instanceof s)?e=E(e):O(e)?e=E(k(e)):(r=n,n=S(e),e={protocol:a}),I(n)&&(r=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=i,O(n.host)||O(n.hostname)||(n.hostname="::1"),c.equal(n.protocol,a,"protocol mismatch"),l("options",n),new y(n,r)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,i){var n=o.request(e,t,i);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})}),t}function _(){}function k(e){var t;if(u)t=new s(e);else if(!O((t=S(n.parse(e))).protocol))throw new m({input:e});return t}function S(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new m({input:e.href||e});return e}function E(e,t){var i=t||{};for(var n of p)i[n]=e[n];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),""!==i.port&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function C(e,t){var i;for(var n in t)e.test(n)&&(i=t[n],delete t[n]);return null==i?void 0:String(i).trim()}function T(e,t,i){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(i||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function R(e,t){for(var i of d)e.removeListener(i,h[i]);e.on("error",_),e.destroy(t)}function O(e){return"string"==typeof e||e instanceof String}function I(e){return"function"==typeof e}y.prototype=Object.create(o.prototype),y.prototype.abort=function(){R(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},y.prototype.destroy=function(e){return R(this._currentRequest,e),x.call(this,e),this},y.prototype.write=function(e,t,i){if(this._ending)throw new b;if(!O(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(I(t)&&(i=t,t=null),0===e.length){i&&i();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,i)):(this.emit("error",new v),this.abort())},y.prototype.end=function(e,t,i){if(I(e)?(i=e,e=t=null):I(t)&&(i=t,t=null),e){var n=this,s=this._currentRequest;this.write(e,t,function(){n._ended=!0,s.end(null,null,i)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,i)},y.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},y.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},y.prototype.setTimeout=function(e,t){var i=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function s(t){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),a()},e),n(t)}function a(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",a),i.removeListener("error",a),i.removeListener("response",a),i.removeListener("close",a),t&&i.removeListener("timeout",t),i.socket||i._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this.on("close",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){y.prototype[e]=function(t,i){return this._currentRequest[e](t,i)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(y.prototype,e,{get:function(){return this._currentRequest[e]}})}),y.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},y.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var i=e.slice(0,-1);this._options.agent=this._options.agents[i]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var a of(s._redirectable=this,d))s.on(a,h[a]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var r=0,o=this,c=this._requestBodyBuffers;!function e(t){if(s===o._currentRequest){if(t)o.emit("error",t);else if(r<c.length){var i=c[r++];s.finished||s.write(i.data,i.encoding,e)}else o._ended&&s.end()}}()}},y.prototype._processResponse=function(e){var t,i,a,r=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:r});var o=e.headers.location;if(!o||!1===this._options.followRedirects||r<300||r>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(R(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g;var p=this._options.beforeRedirect;p&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var d=this._options.method;(301!==r&&302!==r||"POST"!==this._options.method)&&(303!==r||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],C(/^content-/i,this._options.headers));var h=C(/^host$/i,this._options.headers),m=k(this._currentUrl),f=h||m.host,v=/^\w+:/.test(o)?this._currentUrl:n.format(Object.assign(m,{host:f})),b=u?new s(o,v):k(n.resolve(v,o));if(l("redirecting to",b.href),this._isRedirect=!0,E(b,this._options),(b.protocol===m.protocol||"https:"===b.protocol)&&(b.host===f||(c(O(t=b.host)&&O(f)),(i=t.length-f.length-1)>0&&"."===t[i]&&t.endsWith(f)))||C(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),I(p)){var x={headers:e.headers,statusCode:r},y={url:v,method:d,headers:a};p(this._options,x,y),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=w({http:a,https:r}),e.exports.wrap=w},20102:(e,t,i)=>{var n=i(11252),s=i(73837),a=i(71017),r=i(13685),o=i(95687),c=i(57310).parse,l=i(57147),u=i(12781).Stream,p=i(63830),d=i(54656),h=i(33789);function m(e){if(!(this instanceof m))return new m(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=m,s.inherits(m,n),m.LINE_BREAK="\r\n",m.DEFAULT_CONTENT_TYPE="application/octet-stream",m.prototype.append=function(e,t,i){"string"==typeof(i=i||{})&&(i={filename:i});var a=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),s.isArray(t)){this._error(Error("Arrays are not supported."));return}var r=this._multiPartHeader(e,t,i),o=this._multiPartFooter();a(r),a(t),a(o),this._trackLength(r,t,i)},m.prototype._trackLength=function(e,t,i){var n=0;null!=i.knownLength?n+=+i.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+m.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(i.knownLength||this._valuesToMeasure.push(t))},m.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):l.stat(e.path,function(i,n){if(i){t(i);return}t(null,n.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(i){e.pause(),t(null,+i.headers["content-length"])}),e.resume()):t("Unknown stream")},m.prototype._multiPartHeader=function(e,t,i){if("string"==typeof i.header)return i.header;var n,s=this._getContentDisposition(t,i),a=this._getContentType(t,i),r="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(s||[]),"Content-Type":[].concat(a||[])};for(var c in"object"==typeof i.header&&h(o,i.header),o)if(o.hasOwnProperty(c)){if(null==(n=o[c]))continue;Array.isArray(n)||(n=[n]),n.length&&(r+=c+": "+n.join("; ")+m.LINE_BREAK)}return"--"+this.getBoundary()+m.LINE_BREAK+r+m.LINE_BREAK},m.prototype._getContentDisposition=function(e,t){var i,n;return"string"==typeof t.filepath?i=a.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?i=a.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(i=a.basename(e.client._httpMessage.path||"")),i&&(n='filename="'+i+'"'),n},m.prototype._getContentType=function(e,t){var i=t.contentType;return!i&&e.name&&(i=p.lookup(e.name)),!i&&e.path&&(i=p.lookup(e.path)),!i&&e.readable&&e.hasOwnProperty("httpVersion")&&(i=e.headers["content-type"]),!i&&(t.filepath||t.filename)&&(i=p.lookup(t.filepath||t.filename)),i||"object"!=typeof e||(i=m.DEFAULT_CONTENT_TYPE),i},m.prototype._multiPartFooter=function(){return(function(e){var t=m.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},m.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+m.LINE_BREAK},m.prototype.getHeaders=function(e){var t,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(i[t.toLowerCase()]=e[t]);return i},m.prototype.setBoundary=function(e){this._boundary=e},m.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},m.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),i=0,n=this._streams.length;i<n;i++)"function"!=typeof this._streams[i]&&(e=Buffer.isBuffer(this._streams[i])?Buffer.concat([e,this._streams[i]]):Buffer.concat([e,Buffer.from(this._streams[i])]),("string"!=typeof this._streams[i]||this._streams[i].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(m.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},m.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},m.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},m.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},m.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}d.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,n){if(i){e(i);return}n.forEach(function(e){t+=e}),e(null,t)})},m.prototype.submit=function(e,t){var i,n,s={method:"post"};return"string"==typeof e?n=h({port:(e=c(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},s):(n=h(e,s)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),i="https:"==n.protocol?o.request(n):r.request(n),this.getLength((function(e,n){if(e&&"Unknown stream"!==e){this._error(e);return}if(n&&i.setHeader("Content-Length",n),this.pipe(i),t){var s,a=function(e,n){return i.removeListener("error",a),i.removeListener("response",s),t.call(this,e,n)};s=a.bind(this,null),i.on("error",a),i.on("response",s)}}).bind(this)),i},m.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},m.prototype.toString=function(){return"[object FormData]"}},33789:e=>{e.exports=function(e,t){return Object.keys(t).forEach(function(i){e[i]=e[i]||t[i]}),e}},70814:e=>{"use strict";e.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),s=t.indexOf("--");return -1!==n&&(-1===s||n<s)}},95357:(e,t,i)=>{"use strict";e.exports=i(42659)},68818:(e,t,i)=>{/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=i(40572)},63830:(e,t,i)=>{"use strict";/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=i(68818),s=i(71017).extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,r=/^text\//i;function o(e){if(!e||"string"!=typeof e)return!1;var t=a.exec(e),i=t&&n[t[1].toLowerCase()];return i&&i.charset?i.charset:!!(t&&r.test(t[1]))&&"UTF-8"}t.charset=o,t.charsets={lookup:o},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var i=-1===e.indexOf("/")?t.lookup(e):e;if(!i)return!1;if(-1===i.indexOf("charset")){var n=t.charset(i);n&&(i+="; charset="+n.toLowerCase())}return i},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var i=a.exec(e),n=i&&t.extensions[i[1].toLowerCase()];return!!n&&!!n.length&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var i=s("x."+e).toLowerCase().substr(1);return!!i&&(t.types[i]||!1)},t.types=Object.create(null),function(e,t){var i=["nginx","apache",void 0,"iana"];Object.keys(n).forEach(function(s){var a=n[s],r=a.extensions;if(r&&r.length){e[s]=r;for(var o=0;o<r.length;o++){var c=r[o];if(t[c]){var l=i.indexOf(n[t[c]].source),u=i.indexOf(a.source);if("application/octet-stream"!==t[c]&&(l>u||l===u&&"application/"===t[c].substr(0,12)))continue}t[c]=s}}})}(t.extensions,t.types)},58476:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,s,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(s=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":s>=36e5?Math.round(e/36e5)+"h":s>=6e4?Math.round(e/6e4)+"m":s>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},86886:(e,t,i)=>{"use strict";var n=i(57310).parse,s={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},a=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function r(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t,i,o,c="string"==typeof e?n(e):e||{},l=c.protocol,u=c.host,p=c.port;if("string"!=typeof u||!u||"string"!=typeof l||(l=l.split(":",1)[0],t=u=u.replace(/:\d*$/,""),i=p=parseInt(p)||s[l]||0,!(!(o=(r("npm_config_no_proxy")||r("no_proxy")).toLowerCase())||"*"!==o&&o.split(/[,\s]/).every(function(e){if(!e)return!0;var n=e.match(/^(.+):(\d+)$/),s=n?n[1]:e,r=n?parseInt(n[2]):0;return!!r&&r!==i||(/^[.*]/.test(s)?("*"===s.charAt(0)&&(s=s.slice(1)),!a.call(t,s)):t!==s)}))))return"";var d=r("npm_config_"+l+"_proxy")||r(l+"_proxy")||r("npm_config_proxy")||r("all_proxy");return d&&-1===d.indexOf("://")&&(d=l+"://"+d),d}},14819:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},37242:(e,t,i)=>{var n=i(63986),s=i(2216);t.cW=s,t.Qc=n.parse,n.parseParams,n.parseFmtpConfig,n.parsePayloads,n.parseRemoteCandidates,n.parseImageAttributes,n.parseSimulcastStreamList},63986:(e,t,i)=>{var n=function(e){return String(Number(e))===e?Number(e):e},s=function(e,t,i,s){if(s&&!i)t[s]=n(e[1]);else for(var a=0;a<i.length;a+=1)null!=e[a+1]&&(t[i[a]]=n(e[a+1]))},a=function(e,t,i){var n=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:n&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:n?t[e.name]:t;s(i.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},r=i(14819),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},i=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var t=e[0],s=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),n=i[i.length-1]);for(var o=0;o<(r[t]||[]).length;o+=1){var c=r[t][o];if(c.reg.test(s))return a(c,n,s)}}),t.media=i,t};var c=function(e,t){var i=t.split(/=(.+)/,2);return 2===i.length?e[i[0]]=n(i[1]):1===i.length&&t.length>1&&(e[i[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(c,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],i=e.split(" ").map(n),s=0;s<i.length;s+=3)t.push({component:i[s],ip:i[s+1],port:i[s+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(c,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,i=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),i=!0),{scid:t,paused:i}})})}},2216:(e,t,i)=>{var n=i(14819),s=/%[sdv%]/g,a=function(e){var t=1,i=arguments,n=i.length;return e.replace(s,function(e){if(t>=n)return e;var s=i[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return""}})},r=function(e,t,i){var n=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var s=0;s<t.names.length;s+=1){var r=t.names[s];t.name?n.push(i[t.name][r]):n.push(i[t.names[s]])}else n.push(i[t.name]);return a.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var i=t.outerOrder||o,s=t.innerOrder||c,a=[];return i.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?a.push(r(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){a.push(r(t,i,e))})})}),e.media.forEach(function(e){a.push(r("m",n.m[0],e)),s.forEach(function(t){n[t].forEach(function(i){i.name in e&&null!=e[i.name]?a.push(r(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){a.push(r(t,i,e))})})})}),a.join("\r\n")+"\r\n"}},1388:e=>{"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){let i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(e=>0===e.indexOf(i))},t.parseCandidate=function(e){let t;let i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":i.relatedAddress=t[e+1];break;case"rport":i.relatedPort=parseInt(t[e+1],10);break;case"tcptype":i.tcpType=t[e+1];break;case"ufrag":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let i=e.component;"rtp"===i?t.push(1):"rtcp"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let i={},n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)i[(t=n[e].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){let t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let n=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+i+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),i},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){let n=t.matchPrefix(e+i,"a=ice-ufrag:")[0],s=t.matchPrefix(e+i,"a=ice-pwd:")[0];return n&&s?{usernameFragment:n.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");i.profile=n[2];for(let s=3;s<n.length;s++){let a=n[s],r=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(r){let n=t.parseRtpMap(r),s=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(n.parameters=s.length?t.parseFmtp(s[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{i.headerExtensions.push(t.parseExtmap(e))});let s=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return i.codecs.forEach(e=>{s.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),i},t.writeRtpDescription=function(e,i){let n="";n+="m="+e+" "+(i.codecs.length>0?"9":"0")+" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" "+i.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach(e=>{n+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let s=0;return i.codecs.forEach(e=>{e.maxptime>s&&(s=e.maxptime)}),s>0&&(n+="a=maxptime:"+s+"\r\n"),i.headerExtensions&&i.headerExtensions.forEach(e=>{n+=t.writeExtmap(e)}),n},t.parseRtpEncodingParameters=function(e){let i;let n=[],s=t.parseRtpParameters(e),a=-1!==s.fecMechanisms.indexOf("RED"),r=-1!==s.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),c=o.length>0&&o[0].ssrc,l=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(i=l[0][1]),s.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&i&&(t.rtx={ssrc:i}),n.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:r?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&c&&n.push({ssrc:c});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substring(7),10):0===u[0].indexOf("b=AS:")?950*parseInt(u[0].substring(5),10)-16e3:void 0,n.forEach(e=>{e.maxBitrate=u})),n},t.parseRtcpParameters=function(e){let i={},n=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);let s=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=s.length>0,i.compound=0===s.length;let a=t.matchPrefix(e,"a=rtcp-mux");return i.mux=a.length>0,i},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let i;let n=t.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(i=n[0].substring(7).split(" "))[0],track:i[1]};let s=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(s.length>0)return{stream:(i=s[0].value.split(" "))[0],track:i[1]}},t.parseSctpDescription=function(e){let i;let n=t.parseMLine(e),s=t.matchPrefix(e,"a=max-message-size:");s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);let a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};let r=t.matchPrefix(e,"a=sctpmap:");if(r.length>0){let e=r[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){return"v=0\r\no="+(n||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==i?i:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,i){let n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let i=t.splitLines(e)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){let i=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||"="!==i[e].charAt(1))return!1;return!0},e.exports=t},60125:(e,t,i)=>{"use strict";let n;let s=i(22037),a=i(76224),r=i(70814),{env:o}=process;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===n)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let i=n||0;if("dumb"===o.TERM)return i;if("win32"===process.platform){let e=s.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}r("no-color")||r("no-colors")||r("color=false")||r("color=never")?n=0:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,a.isatty(1))),stderr:c(l(!0,a.isatty(2)))}},12903:function(e,t,i){var n;!function(s,a){"use strict";var r="function",o="undefined",c="object",l="string",u="major",p="model",d="name",h="type",m="vendor",f="version",g="architecture",v="console",b="mobile",x="tablet",y="smarttv",w="wearable",_="embedded",k="Amazon",S="Apple",E="ASUS",C="BlackBerry",T="Browser",R="Chrome",O="Firefox",I="Google",P="Huawei",j="Microsoft",N="Motorola",L="Opera",A="Samsung",D="Sharp",U="Sony",M="Xiaomi",F="Zebra",B="Facebook",$="Chromium OS",z="Mac OS",V=function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},W=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},q=function(e,t){return typeof e===l&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},K=function(e,t){for(var i,n,s,o,l,u,p=0;p<t.length&&!l;){var d=t[p],h=t[p+1];for(i=n=0;i<d.length&&!l&&d[i];)if(l=d[i++].exec(e))for(s=0;s<h.length;s++)u=l[++n],typeof(o=h[s])===c&&o.length>0?2===o.length?typeof o[1]==r?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?typeof o[1]!==r||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):a:this[o[0]]=u?o[1].call(this,u,o[2]):a:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):a):this[o]=u||a;p+=2}},J=function(e,t){for(var i in t)if(typeof t[i]===c&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(q(t[i][n],e))return"?"===i?a:i}else if(q(t[i],e))return"?"===i?a:i;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[d,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[d,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+T],f],[/\bfocus\/([\w\.]+)/i],[f,[d,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[f,[d,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+T]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+T],f],[/samsungbrowser\/([\w\.]+)/i],[f,[d,A+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],f],[/metasr[\/ ]?([\d\.]+)/i],[f,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,f],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,B],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,R+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,f],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[m,A],[h,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[m,A],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[m,S],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[m,S],[h,x]],[/(macintosh);/i],[p,[m,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[m,D],[h,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[m,P],[h,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[m,P],[h,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[m,M],[h,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[m,M],[h,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[m,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[m,"Vivo"],[h,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[m,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[m,N],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[m,N],[h,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[m,"LG"],[h,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[m,"LG"],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[m,"Lenovo"],[h,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[m,"Nokia"],[h,b]],[/(pixel c)\b/i],[p,[m,I],[h,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[m,I],[h,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[m,U],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[m,U],[h,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[m,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[m,k],[h,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[m,k],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[p,m,[h,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[m,C],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[m,E],[h,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[m,E],[h,b]],[/(nexus 9)/i],[p,[m,"HTC"],[h,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[p,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[m,"Acer"],[h,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[m,"Meizu"],[h,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[m,"Ulefone"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,p,[h,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,p,[h,x]],[/(surface duo)/i],[p,[m,j],[h,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[m,"Fairphone"],[h,b]],[/(u304aa)/i],[p,[m,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[p,[m,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[p,[m,"RCA"],[h,x]],[/\b(venue[\d ]{2,7}) b/i],[p,[m,"Dell"],[h,x]],[/\b(q(?:mv|ta)\w+) b/i],[p,[m,"Verizon"],[h,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[m,"Barnes & Noble"],[h,x]],[/\b(tm\d{3}\w+) b/i],[p,[m,"NuVision"],[h,x]],[/\b(k88) b/i],[p,[m,"ZTE"],[h,x]],[/\b(nx\d{3}j) b/i],[p,[m,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[p,[m,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[p,[m,"Swiss"],[h,x]],[/\b((zeki)?tb.*\b) b/i],[p,[m,"Zeki"],[h,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],p,[h,x]],[/\b(ns-?\w{0,9}) b/i],[p,[m,"Insignia"],[h,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[m,"NextBook"],[h,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],p,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],p,[h,b]],[/\b(ph-1) /i],[p,[m,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[m,"Envizen"],[h,x]],[/\b(trio[-\w\. ]+) b/i],[p,[m,"MachSpeed"],[h,x]],[/\btu_(1491) b/i],[p,[m,"Rotor"],[h,x]],[/(shield[\w ]+) b/i],[p,[m,"Nvidia"],[h,x]],[/(sprint) (\w+)/i],[m,p,[h,b]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[m,j],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[m,F],[h,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[m,F],[h,b]],[/smart-tv.+(samsung)/i],[m,[h,y]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[m,A],[h,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,"LG"],[h,y]],[/(apple) ?tv/i],[m,[p,S+" TV"],[h,y]],[/crkey/i],[[p,R+"cast"],[m,I],[h,y]],[/droid.+aft(\w+)( bui|\))/i],[p,[m,k],[h,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[m,D],[h,y]],[/(bravia[\w ]+)( bui|\))/i],[p,[m,U],[h,y]],[/(mitv-\w{5}) bui/i],[p,[m,M],[h,y]],[/Hbbtv.*(technisat) (.*);/i],[m,p,[h,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,G],[p,G],[h,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,p,[h,v]],[/droid.+; (shield) bui/i],[p,[m,"Nvidia"],[h,v]],[/(playstation [345portablevi]+)/i],[p,[m,U],[h,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[m,j],[h,v]],[/((pebble))app/i],[m,p,[h,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[m,S],[h,w]],[/droid.+; (glass) \d/i],[p,[m,I],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[p,[m,F],[h,w]],[/(quest( 2| pro)?)/i],[p,[m,B],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,_]],[/(aeobc)\b/i],[p,[m,k],[h,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[h,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[f,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,J,Y],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,z],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[d,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,$],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Z=function(e,t){if(typeof e===c&&(t=e,e=a),!(this instanceof Z))return new Z(e,t).getResult();var i=typeof s!==o&&s.navigator?s.navigator:a,n=e||(i&&i.userAgent?i.userAgent:""),v=i&&i.userAgentData?i.userAgentData:a,y=t?V(X,t):X,w=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[d]=a,t[f]=a,K.call(t,n,y.browser),t[u]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:a,w&&i&&i.brave&&typeof i.brave.isBrave==r&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=a,K.call(e,n,y.cpu),e},this.getDevice=function(){var e={};return e[m]=a,e[p]=a,e[h]=a,K.call(e,n,y.device),w&&!e[h]&&v&&v.mobile&&(e[h]=b),w&&"Macintosh"==e[p]&&i&&typeof i.standalone!==o&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[p]="iPad",e[h]=x),e},this.getEngine=function(){var e={};return e[d]=a,e[f]=a,K.call(e,n,y.engine),e},this.getOS=function(){var e={};return e[d]=a,e[f]=a,K.call(e,n,y.os),w&&!e[d]&&v&&"Unknown"!=v.platform&&(e[d]=v.platform.replace(/chrome os/i,$).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>500?G(e,500):e,this},this.setUA(n),this};Z.VERSION="1.0.37",Z.BROWSER=W([d,f,u]),Z.CPU=W([g]),Z.DEVICE=W([p,m,h,v,b,y,x,w,_]),Z.ENGINE=Z.OS=W([d,f]),typeof t!==o?(e.exports&&(t=e.exports=Z),t.UAParser=Z):i.amdO?a!==(n=(function(){return Z}).call(t,i,t,e))&&(e.exports=n):typeof s!==o&&(s.UAParser=Z);var Q=typeof s!==o&&(s.jQuery||s.Zepto);if(Q&&!Q.ua){var ee=new Z;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var i in t)Q.ua[i]=t[i]}}}("object"==typeof window?window:this)},42659:(e,t,i)=>{"use strict";let n=i(46458);n.createWebSocketStream=i(69057),n.Server=i(33054),n.Receiver=i(41250),n.Sender=i(38022),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},14602:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:n}=i(2710),s=Buffer[Symbol.species];function a(e,t,i,n,s){for(let a=0;a<s;a++)i[n+a]=e[a]^t[3&a]}function r(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),a=0;for(let t=0;t<e.length;t++){let n=e[t];i.set(n,a),a+=n.length}return a<t?new s(i.buffer,i.byteOffset,a):i},mask:a,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let i;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?i=new s(t):ArrayBuffer.isView(t)?i=new s(t.buffer,t.byteOffset,t.byteLength):(i=Buffer.from(t),e.readOnly=!1),i)},unmask:r},!process.env.WS_NO_BUFFER_UTIL)try{let t=i(58359);e.exports.mask=function(e,i,n,s,r){r<48?a(e,i,n,s,r):t.mask(e,i,n,s,r)},e.exports.unmask=function(e,i){e.length<32?r(e,i):t.unmask(e,i)}}catch(e){}},2710:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},24208:(e,t,i)=>{"use strict";let{kForOnEventAttribute:n,kListener:s}=i(2710),a=Symbol("kCode"),r=Symbol("kData"),o=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),u=Symbol("kTarget"),p=Symbol("kType"),d=Symbol("kWasClean");class h{constructor(e){this[u]=null,this[p]=e}get target(){return this[u]}get type(){return this[p]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[a]}get reason(){return this[l]}get wasClean(){return this[d]}}Object.defineProperty(m.prototype,"code",{enumerable:!0}),Object.defineProperty(m.prototype,"reason",{enumerable:!0}),Object.defineProperty(m.prototype,"wasClean",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[o]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[o]}get message(){return this[c]}}Object.defineProperty(f.prototype,"error",{enumerable:!0}),Object.defineProperty(f.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[r]=void 0===t.data?null:t.data}get data(){return this[r]}}function v(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:m,ErrorEvent:f,Event:h,EventTarget:{addEventListener(e,t,i={}){let a;for(let a of this.listeners(e))if(!i[n]&&a[s]===t&&!a[n])return;if("message"===e)a=function(e,i){let n=new g("message",{data:i?e:e.toString()});n[u]=this,v(t,this,n)};else if("close"===e)a=function(e,i){let n=new m("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[u]=this,v(t,this,n)};else if("error"===e)a=function(e){let i=new f("error",{error:e,message:e.message});i[u]=this,v(t,this,i)};else{if("open"!==e)return;a=function(){let e=new h("open");e[u]=this,v(t,this,e)}}a[n]=!!i[n],a[s]=t,i.once?this.once(e,a):this.on(e,a)},removeEventListener(e,t){for(let i of this.listeners(e))if(i[s]===t&&!i[n]){this.removeListener(e,i);break}}},MessageEvent:g}},58581:(e,t,i)=>{"use strict";let{tokenChars:n}=i(98591);function s(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,i;let a=Object.create(null),r=Object.create(null),o=!1,c=!1,l=!1,u=-1,p=-1,d=-1,h=0;for(;h<e.length;h++)if(p=e.charCodeAt(h),void 0===t){if(-1===d&&1===n[p])-1===u&&(u=h);else if(0!==h&&(32===p||9===p))-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let i=e.slice(u,d);44===p?(s(a,i,r),r=Object.create(null)):t=i,u=d=-1}else throw SyntaxError(`Unexpected character at index ${h}`)}else if(void 0===i){if(-1===d&&1===n[p])-1===u&&(u=h);else if(32===p||9===p)-1===d&&-1!==u&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h),s(r,e.slice(u,d),!0),44===p&&(s(a,t,r),r=Object.create(null),t=void 0),u=d=-1}else if(61===p&&-1!==u&&-1===d)i=e.slice(u,h),u=d=-1;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(c){if(1!==n[p])throw SyntaxError(`Unexpected character at index ${h}`);-1===u?u=h:o||(o=!0),c=!1}else if(l){if(1===n[p])-1===u&&(u=h);else if(34===p&&-1!==u)l=!1,d=h;else if(92===p)c=!0;else throw SyntaxError(`Unexpected character at index ${h}`)}else if(34===p&&61===e.charCodeAt(h-1))l=!0;else if(-1===d&&1===n[p])-1===u&&(u=h);else if(-1!==u&&(32===p||9===p))-1===d&&(d=h);else if(59===p||44===p){if(-1===u)throw SyntaxError(`Unexpected character at index ${h}`);-1===d&&(d=h);let n=e.slice(u,d);o&&(n=n.replace(/\\/g,""),o=!1),s(r,i,n),44===p&&(s(a,t,r),r=Object.create(null),t=void 0),i=void 0,u=d=-1}else throw SyntaxError(`Unexpected character at index ${h}`);if(-1===u||l||32===p||9===p)throw SyntaxError("Unexpected end of input");-1===d&&(d=h);let m=e.slice(u,d);return void 0===t?s(a,m,r):(void 0===i?s(r,m,!0):o?s(r,i,m.replace(/\\/g,"")):s(r,i,m),s(a,t,r)),a}}},44059:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},58617:(e,t,i)=>{"use strict";let n;let s=i(59796),a=i(14602),r=i(44059),{kStatusCode:o}=i(2710),c=Buffer[Symbol.species],l=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),p=Symbol("total-length"),d=Symbol("callback"),h=Symbol("buffers"),m=Symbol("error");class f{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new r(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){n.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=s.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[p]=0,this._inflate[h]=[],this._inflate.on("error",b),this._inflate.on("data",v)}this._inflate[d]=i,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush(()=>{let e=this._inflate[m];if(e){this._inflate.close(),this._inflate=null,i(e);return}let s=a.concat(this._inflate[h],this._inflate[p]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[p]=0,this._inflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,s)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=s.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[p]=0,this._deflate[h]=[],this._deflate.on("data",g)}this._deflate[d]=i,this._deflate.write(e),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=a.concat(this._deflate[h],this._deflate[p]);t&&(e=new c(e.buffer,e.byteOffset,e.length-4)),this._deflate[d]=null,this._deflate[p]=0,this._deflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function g(e){this[h].push(e),this[p]+=e.length}function v(e){if(this[p]+=e.length,this[u]._maxPayload<1||this[p]<=this[u]._maxPayload){this[h].push(e);return}this[m]=RangeError("Max payload size exceeded"),this[m].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[m][o]=1009,this.removeListener("data",v),this.reset()}function b(e){this[u]._inflate=null,e[o]=1007,this[d](e)}e.exports=f},41250:(e,t,i)=>{"use strict";let{Writable:n}=i(12781),s=i(58617),{BINARY_TYPES:a,EMPTY_BUFFER:r,kStatusCode:o,kWebSocket:c}=i(2710),{concat:l,toArrayBuffer:u,unmask:p}=i(14602),{isValidStatusCode:d,isValidUTF8:h}=i(98591),m=Buffer[Symbol.species],f=Promise.resolve(),g="function"==typeof queueMicrotask?queueMicrotask:function(e){f.then(e).catch(x)};class v extends n{constructor(e={}){super(),this._allowSynchronousEvents=!!e.allowSynchronousEvents,this._binaryType=e.binaryType||a[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new m(t.buffer,t.byteOffset+e,t.length-e),new m(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new m(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let i=(64&t[0])==64;if(i&&!this._extensions[s.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);if(i>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*i+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=r;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&p(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[s.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(i)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?l(i,t):"arraybuffer"===this._binaryType?u(l(i,t)):i,5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,g(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=l(i,t);if(!this._skipUTF8Validation&&!h(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,g(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,r),this.end();else{let i=e.readUInt16BE(0);if(!d(i)){t(this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new m(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,g(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,i,n,s){this._loop=!1,this._errored=!0;let a=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(a,this.createError),a.code=s,a[o]=n,a}}function b(e){throw e}function x(e){process.nextTick(b,e)}e.exports=v},38022:(e,t,i)=>{"use strict";let{Duplex:n}=i(12781),{randomFillSync:s}=i(6113),a=i(58617),{EMPTY_BUFFER:r}=i(2710),{isValidStatusCode:o}=i(98591),{mask:c,toBuffer:l}=i(14602),u=Symbol("kByteLength"),p=Buffer.alloc(4);class d{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i,n;let a=!1,r=2,o=!1;t.mask&&(i=t.maskBuffer||p,t.generateMask?t.generateMask(i):s(i,0,4),o=(i[0]|i[1]|i[2]|i[3])==0,r=6),"string"==typeof e?n=(!t.mask||o)&&void 0!==t[u]?t[u]:(e=Buffer.from(e)).length:(n=e.length,a=t.mask&&t.readOnly&&!o);let l=n;n>=65536?(r+=8,l=127):n>125&&(r+=2,l=126);let d=Buffer.allocUnsafe(a?n+r:r);return(d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(d[0]|=64),d[1]=l,126===l?d.writeUInt16BE(n,2):127===l&&(d[2]=d[3]=0,d.writeUIntBE(n,4,6)),t.mask)?(d[1]|=128,d[r-4]=i[0],d[r-3]=i[1],d[r-2]=i[2],d[r-1]=i[3],o)?[d,e]:a?(c(e,i,d,r,n),[d]):(c(e,i,e,0,n),[d,e]):[d,e]}close(e,t,i,n){let s;if(void 0===e)s=r;else if("number"==typeof e&&o(e)){if(void 0!==t&&t.length){let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(s=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),"string"==typeof t?s.write(t,2):s.set(t,2)}else(s=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let a={[u]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,a,n]):this.sendFrame(d.frame(s,a),n)}ping(e,t,i){let n,s;if("string"==typeof e?(n=Buffer.byteLength(e),s=!1):(n=(e=l(e)).length,s=l.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(d.frame(e,a),i)}pong(e,t,i){let n,s;if("string"==typeof e?(n=Buffer.byteLength(e),s=!1):(n=(e=l(e)).length,s=l.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let a={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(d.frame(e,a),i)}send(e,t,i){let n,s;let r=this._extensions[a.extensionName],o=t.binary?2:1,c=t.compress;if("string"==typeof e?(n=Buffer.byteLength(e),s=!1):(n=(e=l(e)).length,s=l.readOnly),this._firstFragment?(this._firstFragment=!1,c&&r&&r.params[r._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=n>=r._threshold),this._compress=c):(c=!1,o=0),t.fin&&(this._firstFragment=!0),r){let a={[u]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:s,rsv1:c};this._deflating?this.enqueue([this.dispatch,e,this._compress,a,i]):this.dispatch(e,this._compress,a,i)}else this.sendFrame(d.frame(e,{[u]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:s,rsv1:!1}),i)}dispatch(e,t,i,n){if(!t){this.sendFrame(d.frame(e,i),n);return}let s=this._extensions[a.extensionName];this._bufferedBytes+=i[u],this._deflating=!0,s.compress(e,i.fin,(e,t)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let i=this._queue[t],n=i[i.length-1];"function"==typeof n&&n(e)}return}this._bufferedBytes-=i[u],this._deflating=!1,i.readOnly=!1,this.sendFrame(d.frame(t,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=d},69057:(e,t,i)=>{"use strict";let{Duplex:n}=i(12781);function s(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function r(e){this.removeListener("error",r),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0,o=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,i){let n=!i&&o._readableState.objectMode?t.toString():t;o.push(n)||e.pause()}),e.once("error",function(e){o.destroyed||(i=!1,o.destroy(e))}),e.once("close",function(){o.destroyed||o.push(null)}),o._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(s,o);return}let a=!1;e.once("error",function(e){a=!0,n(e)}),e.once("close",function(){a||n(t),process.nextTick(s,o)}),i&&e.terminate()},o._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){o._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),o._readableState.endEmitted&&o.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},o._read=function(){e.isPaused&&e.resume()},o._write=function(t,i,n){if(e.readyState===e.CONNECTING){e.once("open",function(){o._write(t,i,n)});return}e.send(t,n)},o.on("end",a),o.on("error",r),o}},25626:(e,t,i)=>{"use strict";let{tokenChars:n}=i(98591);e.exports={parse:function(e){let t=new Set,i=-1,s=-1,a=0;for(;a<e.length;a++){let r=e.charCodeAt(a);if(-1===s&&1===n[r])-1===i&&(i=a);else if(0!==a&&(32===r||9===r))-1===s&&-1!==i&&(s=a);else if(44===r){if(-1===i)throw SyntaxError(`Unexpected character at index ${a}`);-1===s&&(s=a);let n=e.slice(i,s);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),i=s=-1}else throw SyntaxError(`Unexpected character at index ${a}`)}if(-1===i||-1!==s)throw SyntaxError("Unexpected end of input");let r=e.slice(i,a);if(t.has(r))throw SyntaxError(`The "${r}" subprotocol is duplicated`);return t.add(r),t}}},98591:(e,t,i)=>{"use strict";let{isUtf8:n}=i(14300);function s(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:s,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?s(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=i(93739);e.exports.isValidUTF8=function(e){return e.length<32?s(e):t(e)}}catch(e){}},33054:(e,t,i)=>{"use strict";let n=i(82361),s=i(13685),{Duplex:a}=i(12781),{createHash:r}=i(6113),o=i(58581),c=i(58617),l=i(25626),u=i(46458),{GUID:p,kWebSocket:d}=i(2710),h=/^[+/0-9A-Za-z]{22}==$/;class m extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!1,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s.createServer((e,t)=>{let i=s.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(f,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{f(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",g);let s=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if("GET"!==e.method){b(this,e,t,405,"Invalid HTTP method");return}if("websocket"!==e.headers.upgrade.toLowerCase()){b(this,e,t,400,"Invalid Upgrade header");return}if(!s||!h.test(s)){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==a&&13!==a){b(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){v(t,400);return}let r=e.headers["sec-websocket-protocol"],u=new Set;if(void 0!==r)try{u=l.parse(r)}catch(i){b(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let p=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&void 0!==p){let i=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=o.parse(p);e[c.extensionName]&&(i.accept(e[c.extensionName]),d[c.extensionName]=i)}catch(i){b(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let r={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(r,(a,r,o,c)=>{if(!a)return v(t,r||401,o,c);this.completeUpgrade(d,s,u,e,t,i,n)});return}if(!this.options.verifyClient(r))return v(t,401)}this.completeUpgrade(d,s,u,e,t,i,n)}completeUpgrade(e,t,i,n,s,a,l){if(!s.readable||!s.writable)return s.destroy();if(s[d])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return v(s,503);let u=r("sha1").update(t+p).digest("base64"),h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],m=new this.options.WebSocket(null,void 0,this.options);if(i.size){let e=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;e&&(h.push(`Sec-WebSocket-Protocol: ${e}`),m._protocol=e)}if(e[c.extensionName]){let t=e[c.extensionName].params,i=o.format({[c.extensionName]:[t]});h.push(`Sec-WebSocket-Extensions: ${i}`),m._extensions=e}this.emit("headers",h,n),s.write(h.concat("\r\n").join("\r\n")),s.removeListener("error",g),m.setSocket(s,a,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)})),l(m,n)}}function f(e){e._state=2,e.emit("close")}function g(){this.destroy()}function v(e,t,i,n){i=i||s.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${s.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)}function b(e,t,i,n,s){if(e.listenerCount("wsClientError")){let n=Error(s);Error.captureStackTrace(n,b),e.emit("wsClientError",n,i,t)}else v(i,n,s)}e.exports=m},46458:(e,t,i)=>{"use strict";let n=i(82361),s=i(95687),a=i(13685),r=i(41808),o=i(24404),{randomBytes:c,createHash:l}=i(6113),{Duplex:u,Readable:p}=i(12781),{URL:d}=i(57310),h=i(58617),m=i(41250),f=i(38022),{BINARY_TYPES:g,EMPTY_BUFFER:v,GUID:b,kForOnEventAttribute:x,kListener:y,kStatusCode:w,kWebSocket:_,NOOP:k}=i(2710),{EventTarget:{addEventListener:S,removeEventListener:E}}=i(24208),{format:C,parse:T}=i(58581),{toBuffer:R}=i(14602),O=Symbol("kAborted"),I=[8,13],P=["CONNECTING","OPEN","CLOSING","CLOSED"],j=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends n{constructor(e,t,i){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=v,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),function e(t,i,n,r){let o,u,p,m;let f={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:I[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=f.autoPong,!I.includes(f.protocolVersion))throw RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${I.join(", ")})`);if(i instanceof d)o=i;else try{o=new d(i)}catch(e){throw SyntaxError(`Invalid URL: ${i}`)}"http:"===o.protocol?o.protocol="ws:":"https:"===o.protocol&&(o.protocol="wss:"),t._url=o.href;let g="wss:"===o.protocol,v="ws+unix:"===o.protocol;if("ws:"===o.protocol||g||v?v&&!o.pathname?u="The URL's pathname is empty":o.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){let e=SyntaxError(u);if(0===t._redirects)throw e;L(t,e);return}let x=g?443:80,y=c(16).toString("base64"),w=g?s.request:a.request,_=new Set;if(f.createConnection=g?D:A,f.defaultPort=f.defaultPort||x,f.port=o.port||x,f.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":y,Connection:"Upgrade",Upgrade:"websocket"},f.path=o.pathname+o.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(p=new h(!0!==f.perMessageDeflate?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=C({[h.extensionName]:p.offer()})),n.length){for(let e of n){if("string"!=typeof e||!j.test(e)||_.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");_.add(e)}f.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(o.username||o.password)&&(f.auth=`${o.username}:${o.password}`),v){let e=f.path.split(":");f.socketPath=e[0],f.path=e[1]}if(f.followRedirects){if(0===t._redirects){t._originalIpc=v,t._originalSecure=g,t._originalHostOrSocketPath=v?f.socketPath:o.host;let e=r&&r.headers;if(r={...r,headers:{}},e)for(let[t,i]of Object.entries(e))r.headers[t.toLowerCase()]=i}else if(0===t.listenerCount("redirect")){let e=v?!!t._originalIpc&&f.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete f.headers.authorization,delete f.headers.cookie,e||delete f.headers.host,f.auth=void 0)}f.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),m=t._req=w(f),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=w(f);f.timeout&&m.on("timeout",()=>{U(t,m,"Opening handshake has timed out")}),m.on("error",e=>{null===m||m[O]||(m=t._req=null,L(t,e))}),m.on("response",s=>{let a=s.headers.location,o=s.statusCode;if(a&&f.followRedirects&&o>=300&&o<400){let s;if(++t._redirects>f.maxRedirects){U(t,m,"Maximum redirects exceeded");return}m.abort();try{s=new d(a,i)}catch(e){L(t,SyntaxError(`Invalid URL: ${a}`));return}e(t,s,n,r)}else t.emit("unexpected-response",m,s)||U(t,m,`Unexpected server response: ${s.statusCode}`)}),m.on("upgrade",(e,i,n)=>{let s;if(t.emit("upgrade",e),t.readyState!==N.CONNECTING)return;if(m=t._req=null,"websocket"!==e.headers.upgrade.toLowerCase()){U(t,i,"Invalid Upgrade header");return}let a=l("sha1").update(y+b).digest("base64");if(e.headers["sec-websocket-accept"]!==a){U(t,i,"Invalid Sec-WebSocket-Accept header");return}let r=e.headers["sec-websocket-protocol"];if(void 0!==r?_.size?_.has(r)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":_.size&&(s="Server sent no subprotocol"),s){U(t,i,s);return}r&&(t._protocol=r);let o=e.headers["sec-websocket-extensions"];if(void 0!==o){let e;if(!p){U(t,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=T(o)}catch(e){U(t,i,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==h.extensionName){U(t,i,"Server indicated an extension that was not requested");return}try{p.accept(e[h.extensionName])}catch(e){U(t,i,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[h.extensionName]=p}t.setSocket(i,n,{allowSynchronousEvents:f.allowSynchronousEvents,generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(m,t):m.end()}(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new m({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new f(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[_]=this,e[_]=this,n.on("conclude",F),n.on("drain",B),n.on("error",$),n.on("message",V),n.on("ping",W),n.on("pong",q),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",G),e.on("data",K),e.on("end",J),e.on("error",Y),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[h.extensionName]&&this._extensions[h.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){U(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===N.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||v,t,i)}pong(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||v,t,i)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===N.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN){M(this,e,i);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[h.extensionName]||(n.compress=!1),this._sender.send(e||v,n,i)}terminate(){if(this.readyState!==N.CLOSED){if(this.readyState===N.CONNECTING){U(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=N.CLOSING,this._socket.destroy())}}}function L(e,t){e._readyState=N.CLOSING,e.emit("error",t),e.emitClose()}function A(e){return e.path=e.socketPath,r.connect(e)}function D(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=r.isIP(e.host)?"":e.host),o.connect(e)}function U(e,t,i){e._readyState=N.CLOSING;let n=Error(i);Error.captureStackTrace(n,U),t.setHeader?(t[O]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(L,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function M(e,t,i){if(t){let i=R(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${P[e.readyState]})`);process.nextTick(i,t)}}function F(e,t){let i=this[_];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[_]&&(i._socket.removeListener("data",K),process.nextTick(H,i._socket),1005===e?i.close():i.close(e,t))}function B(){let e=this[_];e.isPaused||e._socket.resume()}function $(e){let t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",K),process.nextTick(H,t._socket),t.close(e[w])),t.emit("error",e)}function z(){this[_].emitClose()}function V(e,t){this[_].emit("message",e,t)}function W(e){let t=this[_];t._autoPong&&t.pong(e,!this._isServer,k),t.emit("ping",e)}function q(e){this[_].emit("pong",e)}function H(e){e.resume()}function G(){let e;let t=this[_];this.removeListener("close",G),this.removeListener("data",K),this.removeListener("end",J),t._readyState=N.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[_]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",z),t._receiver.on("finish",z))}function K(e){this[_]._receiver.write(e)||this.pause()}function J(){let e=this[_];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function Y(){let e=this[_];this.removeListener("error",Y),this.on("error",k),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[x])return t[y];return null},set(t){for(let t of this.listeners(e))if(t[x]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[x]:!0})}})}),N.prototype.addEventListener=S,N.prototype.removeEventListener=E,e.exports=N},62085:(e,t,i)=>{"use strict";i.r(t),i.d(t,{deleteRoom:()=>a});var n=i(60398);i(75811);var s=i(1041);async function a({roomId:e}){await s.default.room.delete({where:{id:e}})}(0,i(17824).ensureServerEntryExports)([a]),(0,n.registerServerReference)("59cc07ab68581098448a314f2698d4d5c45e906c",a)},22578:(e,t,i)=>{"use strict";i.r(t),i.d(t,{generateTokenAction:()=>a});var n=i(60398);i(75811);var s=i(27138);async function a(e){let t=process.env.STREAM_KEY,i=process.env.GET_STREAM_SECRET_KEY;return s.StreamChat.getInstance(t,i).createToken(e)}(0,i(17824).ensureServerEntryExports)([a]),(0,n.registerServerReference)("8d04aad8bf4d6e5affb321fedc8be27909fe4d6f",a)},82265:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>en});var n,s,a=i(25036),r=i(59677),o=i(48026),c=i.n(o);i(40002);let l=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,u=function(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=function e(t){var i,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t))for(i=0;i<t.length;i++)t[i]&&(n=e(t[i]))&&(s&&(s+=" "),s+=n);else for(i in t)t[i]&&(s&&(s+=" "),s+=i)}return s}(e))&&(n&&(n+=" "),n+=t);return n},p=/^\[(.+)\]$/;function d(e,t){let i=e;return t.split("-").forEach(e=>{i.nextPart.has(e)||i.nextPart.set(e,{nextPart:new Map,validators:[]}),i=i.nextPart.get(e)}),i}let h=/\s+/;function m(){let e,t,i=0,n="";for(;i<arguments.length;)(e=arguments[i++])&&(t=function e(t){let i;if("string"==typeof t)return t;let n="";for(let s=0;s<t.length;s++)t[s]&&(i=e(t[s]))&&(n&&(n+=" "),n+=i);return n}(e))&&(n&&(n+=" "),n+=t);return n}function f(e){let t=t=>t[e]||[];return t.isThemeGetter=!0,t}let g=/^\[(?:([a-z-]+):)?(.+)\]$/i,v=/^\d+\/\d+$/,b=new Set(["px","full","screen"]),x=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function S(e){return C(e)||b.has(e)||v.test(e)}function E(e){return F(e,"length",B)}function C(e){return!!e&&!Number.isNaN(Number(e))}function T(e){return F(e,"number",C)}function R(e){return!!e&&Number.isInteger(Number(e))}function O(e){return e.endsWith("%")&&C(e.slice(0,-1))}function I(e){return g.test(e)}function P(e){return x.test(e)}let j=new Set(["length","size","percentage"]);function N(e){return F(e,j,$)}function L(e){return F(e,"position",$)}let A=new Set(["image","url"]);function D(e){return F(e,A,V)}function U(e){return F(e,"",z)}function M(){return!0}function F(e,t,i){let n=g.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):i(n[2]))}function B(e){return y.test(e)&&!w.test(e)}function $(){return!1}function z(e){return _.test(e)}function V(e){return k.test(e)}Symbol.toStringTag;let W=function(e){let t,i,n;let s=function(r){var o;return i=(t={cache:function(e){if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,i=new Map,n=new Map;function s(s,a){i.set(s,a),++t>e&&(t=0,n=i,i=new Map)}return{get(e){let t=i.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(s(e,t),t):void 0},set(e,t){i.has(e)?i.set(e,t):s(e,t)}}}((o=[].reduce((e,t)=>t(e),e())).cacheSize),splitModifiers:function(e){let t=e.separator,i=1===t.length,n=t[0],s=t.length;return function(e){let a;let r=[],o=0,c=0;for(let l=0;l<e.length;l++){let u=e[l];if(0===o){if(u===n&&(i||e.slice(l,l+s)===t)){r.push(e.slice(c,l)),c=l+s;continue}if("/"===u){a=l;continue}}"["===u?o++:"]"===u&&o--}let l=0===r.length?e:e.substring(c),u=l.startsWith("!"),p=u?l.substring(1):l;return{modifiers:r,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:a&&a>c?a-c:void 0}}}(o),...function(e){let t=function(e){var t;let{theme:i,prefix:n}=e,s={nextPart:new Map,validators:[]};return(t=Object.entries(e.classGroups),n?t.map(([e,t])=>[e,t.map(e=>"string"==typeof e?n+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,t])=>[n+e,t])):e)]):t).forEach(([e,t])=>{(function e(t,i,n,s){t.forEach(t=>{if("string"==typeof t){(""===t?i:d(i,t)).classGroupId=n;return}if("function"==typeof t){if(t.isThemeGetter){e(t(s),i,n,s);return}i.validators.push({validator:t,classGroupId:n});return}Object.entries(t).forEach(([t,a])=>{e(a,d(i,t),n,s)})})})(t,s,e,i)}),s}(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:function(e){let i=e.split("-");return""===i[0]&&1!==i.length&&i.shift(),function e(t,i){if(0===t.length)return i.classGroupId;let n=t[0],s=i.nextPart.get(n),a=s?e(t.slice(1),s):void 0;if(a)return a;if(0===i.validators.length)return;let r=t.join("-");return i.validators.find(({validator:e})=>e(r))?.classGroupId}(i,t)||function(e){if(p.test(e)){let t=p.exec(e)[1],i=t?.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}}(e)},getConflictingClassGroupIds:function(e,t){let s=i[e]||[];return t&&n[e]?[...s,...n[e]]:s}}}(o)}).cache.get,n=t.cache.set,s=a,a(r)};function a(e){let s=i(e);if(s)return s;let a=function(e,t){let{splitModifiers:i,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=new Set;return e.trim().split(h).map(e=>{let{modifiers:t,hasImportantModifier:s,baseClassName:a,maybePostfixModifierPosition:r}=i(e),o=n(r?a.substring(0,r):a),c=!!r;if(!o){if(!r||!(o=n(a)))return{isTailwindClass:!1,originalClassName:e};c=!1}let l=(function(e){if(e.length<=1)return e;let t=[],i=[];return e.forEach(e=>{"["===e[0]?(t.push(...i.sort(),e),i=[]):i.push(e)}),t.push(...i.sort()),t})(t).join(":");return{isTailwindClass:!0,modifierId:s?l+"!":l,classGroupId:o,originalClassName:e,hasPostfixModifier:c}}).reverse().filter(e=>{if(!e.isTailwindClass)return!0;let{modifierId:t,classGroupId:i,hasPostfixModifier:n}=e,r=t+i;return!a.has(r)&&(a.add(r),s(i,n).forEach(e=>a.add(t+e)),!0)}).reverse().map(e=>e.originalClassName).join(" ")}(e,t);return n(e,a),a}return function(){return s(m.apply(null,arguments))}}(function(){let e=f("colors"),t=f("spacing"),i=f("blur"),n=f("brightness"),s=f("borderColor"),a=f("borderRadius"),r=f("borderSpacing"),o=f("borderWidth"),c=f("contrast"),l=f("grayscale"),u=f("hueRotate"),p=f("invert"),d=f("gap"),h=f("gradientColorStops"),m=f("gradientColorStopPositions"),g=f("inset"),v=f("margin"),b=f("opacity"),x=f("padding"),y=f("saturate"),w=f("scale"),_=f("sepia"),k=f("skew"),j=f("space"),A=f("translate"),F=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",I,t],z=()=>[I,t],V=()=>["",S,E],W=()=>["auto",C,I],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],K=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",I],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[C,T],Z=()=>[C,I];return{cacheSize:500,separator:":",theme:{colors:[M],spacing:[S,E],blur:["none","",P,I],brightness:X(),borderColor:[e],borderRadius:["none","","full",P,I],borderSpacing:z(),borderWidth:V(),contrast:X(),grayscale:J(),hueRotate:Z(),invert:J(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[O,E],inset:$(),margin:$(),opacity:X(),padding:z(),saturate:X(),scale:X(),sepia:J(),skew:Z(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",I]}],container:["container"],columns:[{columns:[P]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),I]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",R,I]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",I]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",R,I]}],"grid-cols":[{"grid-cols":[M]}],"col-start-end":[{col:["auto",{span:["full",R,I]},I]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[M]}],"row-start-end":[{row:["auto",{span:[R,I]},I]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",I]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",I]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",I,t]}],"min-w":[{"min-w":[I,t,"min","max","fit"]}],"max-w":[{"max-w":[I,t,"none","full","min","max","fit","prose",{screen:[P]},P]}],h:[{h:[I,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[I,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[I,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[I,t,"auto","min","max","fit"]}],"font-size":[{text:["base",P,E]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",T]}],"font-family":[{font:[M]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",I]}],"line-clamp":[{"line-clamp":["none",C,T]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",S,I]}],"list-image":[{"list-image":["none",I]}],"list-style-type":[{list:["none","disc","decimal",I]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",S,E]}],"underline-offset":[{"underline-offset":["auto",S,I]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",I]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",I]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),L]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[S,I]}],"outline-w":[{outline:[S,E]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[S,E]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",P,U]}],"shadow-color":[{shadow:[M]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":G()}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",P,I]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[p]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[r]}],"border-spacing-x":[{"border-spacing-x":[r]}],"border-spacing-y":[{"border-spacing-y":[r]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",I]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",I]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",I]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[R,I]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",I]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",I]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",I]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[S,E,T]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),q=(n="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",s={variants:{variant:{default:"border-transparent bg-white text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}},e=>{var t;if((null==s?void 0:s.variants)==null)return u(n,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:i,defaultVariants:a}=s,r=Object.keys(i).map(t=>{let n=null==e?void 0:e[t],s=null==a?void 0:a[t];if(null===n)return null;let r=l(n)||l(s);return i[t][r]}),o=e&&Object.entries(e).reduce((e,t)=>{let[i,n]=t;return void 0===n||(e[i]=n),e},{});return u(n,r,null==s?void 0:null===(t=s.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:i,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,i]=e;return Array.isArray(i)?i.includes({...a,...o}[t]):({...a,...o})[t]===i})?[...e,i,n]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function H({className:e,variant:t,...i}){return a.jsx("div",{className:function(...e){return W(function(){for(var e,t,i=0,n="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=function e(t){var i,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(i=0;i<a;i++)t[i]&&(n=e(t[i]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n)}return s}(e))&&(n&&(n+=" "),n+=t);return n}(e))}(q({variant:t}),e),...i})}var G=i(86843);let K=(0,G.createProxy)(String.raw`/home/aniket/projects/peerpair.dev/app/room/[id]/VideoStrem.tsx`),{__esModule:J,$$typeof:Y}=K;K.default;let X=(0,G.createProxy)(String.raw`/home/aniket/projects/peerpair.dev/app/room/[id]/VideoStrem.tsx#PeerStrem`);var Z=i(81355),Q=i(37441),ee=i(867),et=i(78832),ei=i(22913);async function en(e){let t=await (0,Z.getServerSession)(Q.a);t?.user||(0,ee.redirect)("/");let i=await ei.Z.user.findFirst({where:{email:t.user?.email},select:{id:!0}}),n=e.params.id,s=await (0,r.t)(n);if(!i)return a.jsx("div",{children:"User not found"});if(!s)return a.jsx("div",{children:"Room not found"});let o=s.language.split(",").map(e=>e.trim());return a.jsx("div",{className:"container mx-auto pt-28",children:(0,a.jsxs)("div",{className:"grid grid-cols-6 min-h-screen gap-2",children:[a.jsx("div",{className:"col-span-4 p-2",children:a.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:a.jsx(X,{room:s,Id:i.id},n)})}),a.jsx("div",{className:"col-span-2 p-2",children:(0,a.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:[a.jsx("h1",{className:"text-lg pb-2",children:s.name}),a.jsx("p",{className:"text-gray-500",children:s.description}),s.githubRepo&&(0,a.jsxs)(c(),{href:s.githubRepo,className:"flex items-center gap-2 pt-3 text-sm hover:underline",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(et.Z,{}),"Github Project"]}),a.jsx("div",{className:"pt-3",children:"Tags:"}),a.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:o.map(e=>a.jsx("div",{children:a.jsx(H,{variant:"outline",children:e},e)},s.id))})]})})]})})}},59677:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,t:()=>r});var n=i(22913),s=i(66864);async function a(){return(0,s.unstable_noStore)(),await n.Z.room.findMany()}async function r(e){return(0,s.unstable_noStore)(),await n.Z.room.findFirst({where:{id:e}})}},22913:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(53524);let s=globalThis.prismaGlobal??new n.PrismaClient},37441:(e,t,i)=>{"use strict";i.d(t,{a:()=>c});var n=i(53524),s=i(65822),a=i(10375),r=i(50694);let o=new n.PrismaClient,c={adapter:(0,s.N)(o),providers:[(0,a.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}),(0,r.Z)({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET})],secret:process.env.NEXTAUTH_SECRET||"secret"}},55846:(e,t,i)=>{e.exports={parallel:i(10019),serial:i(40882),serialOrdered:i(80701)}},14565:e=>{e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}};function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}},47253:(e,t,i)=>{var n=i(26482);e.exports=function(e){var t=!1;return n(function(){t=!0}),function(i,s){t?e(i,s):n(function(){e(i,s)})}}},26482:e=>{e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},13529:(e,t,i)=>{var n=i(47253),s=i(14565);e.exports=function(e,t,i,a){var r,o,c=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[c]=(r=e[c],o=function(e,t){c in i.jobs&&(delete i.jobs[c],e?s(i):i.results[c]=t,a(e,i.results))},2==t.length?t(r,n(o)):t(r,c,n(o)))}},88586:e=>{e.exports=function(e,t){var i=!Array.isArray(e),n={index:0,keyedList:i||t?Object.keys(e):null,jobs:{},results:i?{}:[],size:i?Object.keys(e).length:e.length};return t&&n.keyedList.sort(i?t:function(i,n){return t(e[i],e[n])}),n}},12984:(e,t,i)=>{var n=i(14565),s=i(47253);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,n(this),s(e)(null,this.results))}},10019:(e,t,i)=>{var n=i(13529),s=i(88586),a=i(12984);e.exports=function(e,t,i){for(var r=s(e);r.index<(r.keyedList||e).length;)n(e,t,r,function(e,t){if(e){i(e,t);return}if(0===Object.keys(r.jobs).length){i(null,r.results);return}}),r.index++;return a.bind(r,i)}},40882:(e,t,i)=>{var n=i(80701);e.exports=function(e,t,i){return n(e,t,null,i)}},80701:(e,t,i)=>{var n=i(13529),s=i(88586),a=i(12984);function r(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,i,r){var o=s(e,i);return n(e,t,o,function i(s,a){if(s){r(s,a);return}if(o.index++,o.index<(o.keyedList||e).length){n(e,t,o,i);return}r(null,o.results)}),a.bind(o,r)},e.exports.ascending=r,e.exports.descending=function(e,t){return -1*r(e,t)}},90510:(e,t)=>{"use strict";t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,a=[],r=0,o=n-s;r<o;r+=16383)a.push(function(e,t,n){for(var s,a=[],r=t;r<n;r+=3)a.push(i[(s=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]))>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return a.join("")}(e,r,r+16383>o?o:r+16383));return 1===s?a.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===s&&a.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")};for(var i=[],n=[],s=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a=0,r=s.length;a<r;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},41858:(e,t,i)=>{"use strict";var n=i(14300).Buffer,s=i(14300).SlowBuffer;function a(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,s=0;s<e.length;s++)i|=e[s]^t[s];return 0===i}e.exports=a,a.install=function(){n.prototype.equal=s.prototype.equal=function(e){return a(this,e)}};var r=n.prototype.equal,o=s.prototype.equal;a.restore=function(){n.prototype.equal=r,s.prototype.equal=o}},60517:(e,t,i)=>{var n=i(73837),s=i(12781).Stream,a=i(87767);function r(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=r,n.inherits(r,s),r.create=function(e){var t=new this;for(var i in e=e||{})t[i]=e[i];return t},r.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},r.prototype.append=function(e){if(r.isStreamLike(e)){if(!(e instanceof a)){var t=a.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},r.prototype.pipe=function(e,t){return s.prototype.pipe.call(this,e,t),this.resume(),e},r.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},r.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){r.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},r.prototype._pipeNext=function(e){if(this._currentStream=e,r.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},r.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},r.prototype.write=function(e){this.emit("data",e)},r.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},r.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},r.prototype.end=function(){this._reset(),this.emit("end")},r.prototype.destroy=function(){this._reset(),this.emit("close")},r.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},r.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},r.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},r.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},18807:(e,t,i)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))}),t.splice(s,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(90669)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},90669:(e,t,i)=>{e.exports=function(e){function t(e){let i,s,a;let r=null;function o(...e){if(!o.enabled)return;let n=Number(new Date),s=n-(i||n);o.diff=s,o.prev=i,o.curr=n,i=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,n)=>{if("%%"===i)return"%";a++;let s=t.formatters[n];if("function"==typeof s){let t=e[a];i=s.call(o,t),e.splice(a,1),a--}return i}),t.formatArgs.call(o,e),(o.log||t.log).apply(o,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(s!==t.namespaces&&(s=t.namespaces,a=t.enabled(e)),a),set:e=>{r=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,i){let n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names.map(s),...t.skips.map(s).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];let n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(i=0;i<s;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(RegExp("^"+e.slice(1)+"$")):t.names.push(RegExp("^"+e+"$")))},t.enabled=function(e){let i,n;if("*"===e[e.length-1])return!0;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(84158),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(i=>{t[i]=e[i]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t)|0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},26279:(e,t,i)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=i(18807):e.exports=i(74370)},74370:(e,t,i)=>{let n=i(76224),s=i(73837);t.init=function(e){e.inspectOpts={};let i=Object.keys(t.inspectOpts);for(let n=0;n<i.length;n++)e.inspectOpts[i[n]]=t.inspectOpts[i[n]]},t.log=function(...e){return process.stderr.write(s.format(...e)+"\n")},t.formatArgs=function(i){let{namespace:n,useColors:s}=this;if(s){let t=this.color,s="\x1b[3"+(t<8?t:"8;5;"+t),a=`  ${s};1m${n} \u001B[0m`;i[0]=a+i[0].split("\n").join("\n"+a),i.push(s+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else i[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+i[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=s.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=i(34909);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let i=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{}),e.exports=i(90669)(t);let{formatters:a}=e.exports;a.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},87767:(e,t,i)=>{var n=i(12781).Stream,s=i(73837);function a(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=a,s.inherits(a,n),a.create=function(e,t){var i=new this;for(var n in t=t||{})i[n]=t[n];i.source=e;var s=e.emit;return e.emit=function(){return i._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(a.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),a.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},a.prototype.resume=function(){this._released||this.release(),this.source.resume()},a.prototype.pause=function(){this.source.pause()},a.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},a.prototype.pipe=function(){var e=n.prototype.pipe.apply(this,arguments);return this.resume(),e},a.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},a.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},90037:(e,t,i)=>{"use strict";var n=i(24381).Buffer,s=i(99007);function a(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function r(e,t,i){for(var n=0;t+n<i&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=a(e);var i=s(t),r=i+1,o=e.length,c=0;if(48!==e[c++])throw Error('Could not find expected "seq"');var l=e[c++];if(129===l&&(l=e[c++]),o-c<l)throw Error('"seq" specified length of "'+l+'", only "'+(o-c)+'" remaining');if(2!==e[c++])throw Error('Could not find expected "int" for "r"');var u=e[c++];if(o-c-2<u)throw Error('"r" specified length of "'+u+'", only "'+(o-c-2)+'" available');if(r<u)throw Error('"r" specified length of "'+u+'", max of "'+r+'" is acceptable');var p=c;if(c+=u,2!==e[c++])throw Error('Could not find expected "int" for "s"');var d=e[c++];if(o-c!==d)throw Error('"s" specified length of "'+d+'", expected "'+(o-c)+'"');if(r<d)throw Error('"s" specified length of "'+d+'", max of "'+r+'" is acceptable');var h=c;if((c+=d)!==o)throw Error('Expected to consume entire buffer, but "'+(o-c)+'" bytes remain');var m=i-u,f=i-d,g=n.allocUnsafe(m+u+f+d);for(c=0;c<m;++c)g[c]=0;e.copy(g,c,p+Math.max(-m,0),p+u),c=i;for(var v=c;c<v+f;++c)g[c]=0;return e.copy(g,c,h+Math.max(-f,0),h+d),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=a(e);var i=s(t),o=e.length;if(o!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+o+'"');var c=r(e,0,i),l=r(e,i,e.length),u=i-c,p=i-l,d=2+u+1+1+p,h=d<128,m=n.allocUnsafe((h?2:3)+d),f=0;return m[f++]=48,h?m[f++]=d:(m[f++]=129,m[f++]=255&d),m[f++]=2,m[f++]=u,c<0?(m[f++]=0,f+=e.copy(m,f,0,i)):f+=e.copy(m,f,c,i),m[f++]=2,m[f++]=p,l<0?(m[f++]=0,e.copy(m,f,i)):e.copy(m,f,i+l),m}}},99007:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},63961:(e,t,i)=>{var n;e.exports=function(){if(!n){try{n=i(26279)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},19022:(e,t,i)=>{var n=i(57310),s=n.URL,a=i(13685),r=i(95687),o=i(12781).Writable,c=i(39491),l=i(63961),u=!1;try{c(new s)}catch(e){u="ERR_INVALID_URL"===e.code}var p=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],d=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);d.forEach(function(e){h[e]=function(t,i,n){this._redirectable.emit(e,t,i,n)}});var m=T("ERR_INVALID_URL","Invalid URL",TypeError),f=T("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),g=T("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",f),v=T("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),b=T("ERR_STREAM_WRITE_AFTER_END","write after end"),x=o.prototype.destroy||_;function y(e,t){o.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var i=this;this._onNativeResponse=function(e){try{i._processResponse(e)}catch(e){i.emit("error",e instanceof f?e:new f({cause:e}))}},this._performRequest()}function w(e){var t={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(e).forEach(function(n){var a=n+":",r=i[a]=e[n],o=t[n]=Object.create(r);Object.defineProperties(o,{request:{value:function(e,n,r){var o;return(o=e,s&&o instanceof s)?e=E(e):O(e)?e=E(k(e)):(r=n,n=S(e),e={protocol:a}),I(n)&&(r=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=i,O(n.host)||O(n.hostname)||(n.hostname="::1"),c.equal(n.protocol,a,"protocol mismatch"),l("options",n),new y(n,r)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,i){var n=o.request(e,t,i);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})}),t}function _(){}function k(e){var t;if(u)t=new s(e);else if(!O((t=S(n.parse(e))).protocol))throw new m({input:e});return t}function S(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new m({input:e.href||e});return e}function E(e,t){var i=t||{};for(var n of p)i[n]=e[n];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),""!==i.port&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function C(e,t){var i;for(var n in t)e.test(n)&&(i=t[n],delete t[n]);return null==i?void 0:String(i).trim()}function T(e,t,i){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(i||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),n}function R(e,t){for(var i of d)e.removeListener(i,h[i]);e.on("error",_),e.destroy(t)}function O(e){return"string"==typeof e||e instanceof String}function I(e){return"function"==typeof e}y.prototype=Object.create(o.prototype),y.prototype.abort=function(){R(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},y.prototype.destroy=function(e){return R(this._currentRequest,e),x.call(this,e),this},y.prototype.write=function(e,t,i){if(this._ending)throw new b;if(!O(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(I(t)&&(i=t,t=null),0===e.length){i&&i();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,i)):(this.emit("error",new v),this.abort())},y.prototype.end=function(e,t,i){if(I(e)?(i=e,e=t=null):I(t)&&(i=t,t=null),e){var n=this,s=this._currentRequest;this.write(e,t,function(){n._ended=!0,s.end(null,null,i)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,i)},y.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},y.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},y.prototype.setTimeout=function(e,t){var i=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function s(t){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),a()},e),n(t)}function a(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",a),i.removeListener("error",a),i.removeListener("response",a),i.removeListener("close",a),t&&i.removeListener("timeout",t),i.socket||i._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",n),this.on("abort",a),this.on("error",a),this.on("response",a),this.on("close",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){y.prototype[e]=function(t,i){return this._currentRequest[e](t,i)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(y.prototype,e,{get:function(){return this._currentRequest[e]}})}),y.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},y.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var i=e.slice(0,-1);this._options.agent=this._options.agents[i]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var a of(s._redirectable=this,d))s.on(a,h[a]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var r=0,o=this,c=this._requestBodyBuffers;!function e(t){if(s===o._currentRequest){if(t)o.emit("error",t);else if(r<c.length){var i=c[r++];s.finished||s.write(i.data,i.encoding,e)}else o._ended&&s.end()}}()}},y.prototype._processResponse=function(e){var t,i,a,r=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:r});var o=e.headers.location;if(!o||!1===this._options.followRedirects||r<300||r>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(R(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new g;var p=this._options.beforeRedirect;p&&(a=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var d=this._options.method;(301!==r&&302!==r||"POST"!==this._options.method)&&(303!==r||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],C(/^content-/i,this._options.headers));var h=C(/^host$/i,this._options.headers),m=k(this._currentUrl),f=h||m.host,v=/^\w+:/.test(o)?this._currentUrl:n.format(Object.assign(m,{host:f})),b=u?new s(o,v):k(n.resolve(v,o));if(l("redirecting to",b.href),this._isRedirect=!0,E(b,this._options),(b.protocol===m.protocol||"https:"===b.protocol)&&(b.host===f||(c(O(t=b.host)&&O(f)),(i=t.length-f.length-1)>0&&"."===t[i]&&t.endsWith(f)))||C(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),I(p)){var x={headers:e.headers,statusCode:r},y={url:v,method:d,headers:a};p(this._options,x,y),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=w({http:a,https:r}),e.exports.wrap=w},89304:(e,t,i)=>{var n=i(60517),s=i(73837),a=i(71017),r=i(13685),o=i(95687),c=i(57310).parse,l=i(57147),u=i(12781).Stream,p=i(9329),d=i(55846),h=i(81050);function m(e){if(!(this instanceof m))return new m(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],n.call(this),e=e||{})this[t]=e[t]}e.exports=m,s.inherits(m,n),m.LINE_BREAK="\r\n",m.DEFAULT_CONTENT_TYPE="application/octet-stream",m.prototype.append=function(e,t,i){"string"==typeof(i=i||{})&&(i={filename:i});var a=n.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),s.isArray(t)){this._error(Error("Arrays are not supported."));return}var r=this._multiPartHeader(e,t,i),o=this._multiPartFooter();a(r),a(t),a(o),this._trackLength(r,t,i)},m.prototype._trackLength=function(e,t,i){var n=0;null!=i.knownLength?n+=+i.knownLength:Buffer.isBuffer(t)?n=t.length:"string"==typeof t&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+m.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof u)&&(i.knownLength||this._valuesToMeasure.push(t))},m.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):l.stat(e.path,function(i,n){if(i){t(i);return}t(null,n.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(i){e.pause(),t(null,+i.headers["content-length"])}),e.resume()):t("Unknown stream")},m.prototype._multiPartHeader=function(e,t,i){if("string"==typeof i.header)return i.header;var n,s=this._getContentDisposition(t,i),a=this._getContentType(t,i),r="",o={"Content-Disposition":["form-data",'name="'+e+'"'].concat(s||[]),"Content-Type":[].concat(a||[])};for(var c in"object"==typeof i.header&&h(o,i.header),o)if(o.hasOwnProperty(c)){if(null==(n=o[c]))continue;Array.isArray(n)||(n=[n]),n.length&&(r+=c+": "+n.join("; ")+m.LINE_BREAK)}return"--"+this.getBoundary()+m.LINE_BREAK+r+m.LINE_BREAK},m.prototype._getContentDisposition=function(e,t){var i,n;return"string"==typeof t.filepath?i=a.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?i=a.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(i=a.basename(e.client._httpMessage.path||"")),i&&(n='filename="'+i+'"'),n},m.prototype._getContentType=function(e,t){var i=t.contentType;return!i&&e.name&&(i=p.lookup(e.name)),!i&&e.path&&(i=p.lookup(e.path)),!i&&e.readable&&e.hasOwnProperty("httpVersion")&&(i=e.headers["content-type"]),!i&&(t.filepath||t.filename)&&(i=p.lookup(t.filepath||t.filename)),i||"object"!=typeof e||(i=m.DEFAULT_CONTENT_TYPE),i},m.prototype._multiPartFooter=function(){return(function(e){var t=m.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},m.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+m.LINE_BREAK},m.prototype.getHeaders=function(e){var t,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(i[t.toLowerCase()]=e[t]);return i},m.prototype.setBoundary=function(e){this._boundary=e},m.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},m.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),i=0,n=this._streams.length;i<n;i++)"function"!=typeof this._streams[i]&&(e=Buffer.isBuffer(this._streams[i])?Buffer.concat([e,this._streams[i]]):Buffer.concat([e,Buffer.from(this._streams[i])]),("string"!=typeof this._streams[i]||this._streams[i].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(m.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},m.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},m.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},m.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},m.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}d.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,n){if(i){e(i);return}n.forEach(function(e){t+=e}),e(null,t)})},m.prototype.submit=function(e,t){var i,n,s={method:"post"};return"string"==typeof e?n=h({port:(e=c(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},s):(n=h(e,s)).port||(n.port="https:"==n.protocol?443:80),n.headers=this.getHeaders(e.headers),i="https:"==n.protocol?o.request(n):r.request(n),this.getLength((function(e,n){if(e&&"Unknown stream"!==e){this._error(e);return}if(n&&i.setHeader("Content-Length",n),this.pipe(i),t){var s,a=function(e,n){return i.removeListener("error",a),i.removeListener("response",s),t.call(this,e,n)};s=a.bind(this,null),i.on("error",a),i.on("response",s)}}).bind(this)),i},m.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},m.prototype.toString=function(){return"[object FormData]"}},81050:e=>{e.exports=function(e,t){return Object.keys(t).forEach(function(i){e[i]=e[i]||t[i]}),e}},76936:e=>{"use strict";e.exports=(e,t=process.argv)=>{let i=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(i+e),s=t.indexOf("--");return -1!==n&&(-1===s||n<s)}},12697:(e,t,i)=>{var n=i(78155);e.exports=function(e,t){t=t||{};var i=n.decode(e,t);if(!i)return null;var s=i.payload;if("string"==typeof s)try{var a=JSON.parse(s);null!==a&&"object"==typeof a&&(s=a)}catch(e){}return!0===t.complete?{header:i.header,payload:s,signature:i.signature}:s}},9410:(e,t,i)=>{e.exports={decode:i(12697),verify:i(91192),sign:i(74473),JsonWebTokenError:i(6395),NotBeforeError:i(87962),TokenExpiredError:i(33726)}},6395:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},87962:(e,t,i)=>{var n=i(6395),s=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},33726:(e,t,i)=>{var n=i(6395),s=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};s.prototype=Object.create(n.prototype),s.prototype.constructor=s,e.exports=s},76485:(e,t,i)=>{let n=i(44876);e.exports=n.satisfies(process.version,">=15.7.0")},26426:(e,t,i)=>{var n=i(44876);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},81730:(e,t,i)=>{let n=i(44876);e.exports=n.satisfies(process.version,">=16.9.0")},33704:(e,t,i)=>{var n=i(84158);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var s=n(e);if(void 0===s)return;return Math.floor(i+s/1e3)}if("number"==typeof e)return i+e}},50248:(e,t,i)=>{let n=i(76485),s=i(81730),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},r={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let o=a[i];if(!o)throw Error(`Unknown key type "${i}".`);if(!o.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${o.join(", ")}.`);if(n)switch(i){case"ec":let c=t.asymmetricKeyDetails.namedCurve,l=r[e];if(c!==l)throw Error(`"alg" parameter "${e}" requires curve "${l}".`);break;case"rsa-pss":if(s){let i=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:s,saltLength:a}=t.asymmetricKeyDetails;if(n!==`sha${i}`||s!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==a&&a>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},74473:(e,t,i)=>{let n=i(33704),s=i(26426),a=i(50248),r=i(78155),o=i(20647),c=i(8376),l=i(11116),u=i(84004),p=i(26216),d=i(62265),h=i(23963),{KeyObject:m,createSecretKey:f,createPrivateKey:g}=i(6113),v=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];s&&v.splice(3,0,"PS256","PS384","PS512");let b={expiresIn:{isValid:function(e){return l(e)||d(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return l(e)||d(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:o.bind(null,v),message:'"algorithm" must be a valid string enum value'},header:{isValid:p,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},x={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function y(e,t,i,n){if(!p(i))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(i).forEach(function(s){let a=e[s];if(!a){if(!t)throw Error('"'+s+'" is not allowed in "'+n+'"');return}if(!a.isValid(i[s]))throw Error(a.message)})}let w={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},_=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,s){var o,c;"function"==typeof i?(s=i,i={}):i=i||{};let l="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:i.algorithm||"HS256",typ:l?"JWT":void 0,kid:i.keyid},i.header);function p(e){if(s)return s(e);throw e}if(!t&&"none"!==i.algorithm)return p(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof m))try{t=g(t)}catch(e){try{t=f("string"==typeof t?Buffer.from(t):t)}catch(e){return p(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return p(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return p(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!i.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return p(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return p(Error("payload is required"));if(l){try{o=e,y(x,!0,o,"payload")}catch(e){return p(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=_.filter(function(e){return void 0!==i[e]});if(t.length>0)return p(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return p(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return p(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{c=i,y(b,!1,c,"options")}catch(e){return p(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{a(u.alg,t)}catch(e){return p(e)}let d=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:l&&(e.iat=d),void 0!==i.notBefore){try{e.nbf=n(i.notBefore,d)}catch(e){return p(e)}if(void 0===e.nbf)return p(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=n(i.expiresIn,d)}catch(e){return p(e)}if(void 0===e.exp)return p(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(w).forEach(function(t){let n=w[t];if(void 0!==i[t]){if(void 0!==e[n])return p(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});let v=i.encoding||"utf8";if("function"==typeof s)s=s&&h(s),r.createSign({header:u,privateKey:t,payload:e,encoding:v}).once("error",s).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return s(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));s(null,e)});else{let n=r.sign({header:u,payload:e,secret:t,encoding:v});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},91192:(e,t,i)=>{let n=i(6395),s=i(87962),a=i(33726),r=i(12697),o=i(33704),c=i(50248),l=i(26426),u=i(78155),{KeyObject:p,createSecretKey:d,createPublicKey:h}=i(6113),m=["RS256","RS384","RS512"],f=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],v=["HS256","HS384","HS512"];l&&(m.splice(m.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,l){let b,x,y;if("function"!=typeof i||l||(l=i,i={}),i||(i={}),i=Object.assign({},i),b=l||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return b(new n("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return b(new n("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return b(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let w=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return b(new n("jwt must be provided"));if("string"!=typeof e)return b(new n("jwt must be a string"));let _=e.split(".");if(3!==_.length)return b(new n("jwt malformed"));try{x=r(e,{complete:!0})}catch(e){return b(e)}if(!x)return b(new n("invalid token"));let k=x.header;if("function"==typeof t){if(!l)return b(new n("verify must be called asynchronous if secret or public key is provided as a callback"));y=t}else y=function(e,i){return i(null,t)};return y(k,function(t,r){let l;if(t)return b(new n("error in secret or public key callback: "+t.message));let y=""!==_[2].trim();if(!y&&r)return b(new n("jwt signature is required"));if(y&&!r)return b(new n("secret or public key must be provided"));if(!y&&!i.algorithms)return b(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=r&&!(r instanceof p))try{r=h(r)}catch(e){try{r=d("string"==typeof r?Buffer.from(r):r)}catch(e){return b(new n("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===r.type?i.algorithms=v:["rsa","rsa-pss"].includes(r.asymmetricKeyType)?i.algorithms=g:"ec"===r.asymmetricKeyType?i.algorithms=f:i.algorithms=m),-1===i.algorithms.indexOf(x.header.alg))return b(new n("invalid algorithm"));if(k.alg.startsWith("HS")&&"secret"!==r.type)return b(new n(`secretOrPublicKey must be a symmetric key when using ${k.alg}`));if(/^(?:RS|PS|ES)/.test(k.alg)&&"public"!==r.type)return b(new n(`secretOrPublicKey must be an asymmetric key when using ${k.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{c(k.alg,r)}catch(e){return b(e)}try{l=u.verify(e,x.header.alg,r)}catch(e){return b(e)}if(!l)return b(new n("invalid signature"));let S=x.payload;if(void 0!==S.nbf&&!i.ignoreNotBefore){if("number"!=typeof S.nbf)return b(new n("invalid nbf value"));if(S.nbf>w+(i.clockTolerance||0))return b(new s("jwt not active",new Date(1e3*S.nbf)))}if(void 0!==S.exp&&!i.ignoreExpiration){if("number"!=typeof S.exp)return b(new n("invalid exp value"));if(w>=S.exp+(i.clockTolerance||0))return b(new a("jwt expired",new Date(1e3*S.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return b(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&S.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(S.iss)))return b(new n("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&S.sub!==i.subject)return b(new n("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&S.jti!==i.jwtid)return b(new n("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&S.nonce!==i.nonce)return b(new n("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof S.iat)return b(new n("iat required when maxAge is specified"));let e=o(i.maxAge,S.iat);if(void 0===e)return b(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(w>=e+(i.clockTolerance||0))return b(new a("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?b(null,{header:k,payload:S,signature:x.signature}):b(null,S)})}},44300:(e,t,i)=>{var n=i(41858),s=i(24381).Buffer,a=i(6113),r=i(90037),o=i(73837),c="secret must be a string or buffer",l="key must be a string or a buffer",u="function"==typeof a.createPublicKey;function p(e){if(!s.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw f(l)}function d(e){if(!s.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw f("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function f(e){var t=[].slice.call(arguments,1);return TypeError(o.format.bind(o,e).apply(null,t))}function g(e){var t;return t=e,s.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function v(e){return function(t,i){(function(e){if(!s.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw f(c)})(i),t=g(t);var n=a.createHmac("sha"+e,i);return h((n.update(t),n.digest("base64")))}}function b(e){return function(t,i,a){var r=v(e)(t,a);return n(s.from(i),s.from(r))}}function x(e){return function(t,i){d(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(i,"base64")))}}function y(e){return function(t,i,n){p(n),t=g(t),i=m(i);var s=a.createVerify("RSA-SHA"+e);return s.update(t),s.verify(n,i,"base64")}}function w(e){return function(t,i){d(i),t=g(t);var n=a.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:i,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function _(e){return function(t,i,n){p(n),t=g(t),i=m(i);var s=a.createVerify("RSA-SHA"+e);return s.update(t),s.verify({key:n,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function k(e){var t=x(e);return function(){var i=t.apply(null,arguments);return r.derToJose(i,"ES"+e)}}function S(e){var t=y(e);return function(i,n,s){return t(i,n=r.joseToDer(n,"ES"+e).toString("base64"),s)}}function E(){return function(){return""}}function C(){return function(e,t){return""===t}}u&&(l+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw f('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:v,rs:x,ps:w,es:k,none:E})[i](n),verify:({hs:b,rs:y,ps:_,es:S,none:C})[i](n)}}},78155:(e,t,i)=>{var n=i(22443),s=i(21571);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=s.verify,t.decode=s.decode,t.isValid=s.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new s(e)}},16877:(e,t,i)=>{var n=i(24381).Buffer,s=i(12781);function a(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(73837).inherits(a,s),a.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},a.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=a},22443:(e,t,i)=>{var n=i(24381).Buffer,s=i(16877),a=i(44300),r=i(12781),o=i(99246),c=i(73837);function l(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,i,n,s=e.header,r=e.payload,u=e.secret||e.privateKey,p=e.encoding,d=a(s.alg),h=(t=(t=p)||"utf8",i=l(o(s),"binary"),n=l(o(r),t),c.format("%s.%s",i,n)),m=d.sign(h,u);return c.format("%s.%s",h,m)}function p(e){var t=new s(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new s(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}c.inherits(p,r),p.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},p.sign=u,e.exports=p},99246:(e,t,i)=>{var n=i(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},21571:(e,t,i)=>{var n=i(24381).Buffer,s=i(16877),a=i(44300),r=i(12781),o=i(99246),c=i(73837),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".")[2]}function d(e){return l.test(e)&&!!u(e)}function h(e,t,i){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var s=p(e=o(e)),r=e.split(".",2).join(".");return a(t).verify(r,s,i)}function m(e,t){if(t=t||{},!d(e=o(e)))return null;var i,s,a=u(e);if(!a)return null;var r=(i=i||"utf8",s=e.split(".")[1],n.from(s,"base64").toString(i));return("JWT"===a.typ||t.json)&&(r=JSON.parse(r,t.encoding)),{header:a,payload:r,signature:p(e)}}function f(e){var t=new s((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new s(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}c.inherits(f,r),f.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=m(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.decode=m,f.isValid=d,f.verify=h,e.exports=f},20647:e=>{var t,i,n=1/0,s=0/0,a=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=/^(?:0|[1-9]\d*)$/,u=parseInt;function p(e){return e!=e}var d=Object.prototype,h=d.hasOwnProperty,m=d.toString,f=d.propertyIsEnumerable,g=(t=Object.keys,i=Object,function(e){return t(i(e))}),v=Math.max,b=Array.isArray;function x(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=y(e)?m.call(e):"")||"[object GeneratorFunction]"==i)}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,_){e=x(e)?e:(k=e)?function(e,t){for(var i=-1,n=e?e.length:0,s=Array(n);++i<n;)s[i]=t(e[i],i,e);return s}(x(k)?function(e,t){var i,n=b(e)||w(e)&&x(e)&&h.call(e,"callee")&&(!f.call(e,"callee")||"[object Arguments]"==m.call(e))?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],s=n.length,a=!!s;for(var r in e)h.call(e,r)&&!(a&&("length"==r||(i=null==(i=s)?9007199254740991:i)&&("number"==typeof r||l.test(r))&&r>-1&&r%1==0&&r<i))&&n.push(r);return n}(k):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||d))return g(e);var t,i=[];for(var n in Object(e))h.call(e,n)&&"constructor"!=n&&i.push(n);return i}(k),function(e){return k[e]}):[],i=i&&!_?(C=(E=(S=i)?(S=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||w(t)&&"[object Symbol]"==m.call(t))return s;if(y(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=y(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):r.test(e)?s:+e}(S))===n||S===-n?(S<0?-1:1)*17976931348623157e292:S==S?S:0:0===S?S:0)%1,E==E?C?E-C:E:0):0;var k,S,E,C,T,R=e.length;return i<0&&(i=v(R+i,0)),"string"==typeof(T=e)||!b(T)&&w(T)&&"[object String]"==m.call(T)?i<=R&&e.indexOf(t,i)>-1:!!R&&function(e,t,i){if(t!=t)return function(e,t,i,n){for(var s=e.length,a=i+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return -1}(e,p,i);for(var n=i-1,s=e.length;++n<s;)if(e[n]===t)return n;return -1}(e,t,i)>-1}},8376:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},11116:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,r=/^0o[0-7]+$/i,o=parseInt,c=Object.prototype.toString;function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,p,d;return"number"==typeof e&&e==(d=(p=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==c.call(t))return i;if(l(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=l(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var p=a.test(e);return p||r.test(e)?o(e.slice(2),p?2:8):s.test(e)?i:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,p==p?d?p-d:p:0)}},84004:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},26216:e=>{var t,i,n=Object.prototype,s=Function.prototype.toString,a=n.hasOwnProperty,r=s.call(Object),o=n.toString,c=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=o.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var i=a.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&s.call(i)==r}},62265:e=>{var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!i(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},23963:e=>{var t=1/0,i=0/0,n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,r=/^0o[0-7]+$/i,o=parseInt,c=Object.prototype.toString;function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var p,d,h,m;if("function"!=typeof u)throw TypeError("Expected a function");return m=(h=(d=e)?(d=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==c.call(t))return i;if(l(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=l(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var p=a.test(e);return p||r.test(e)?o(e.slice(2),p?2:8):s.test(e)?i:+e}(d))===t||d===-t?(d<0?-1:1)*17976931348623157e292:d==d?d:0:0===d?d:0)%1,e=h==h?m?h-m:h:0,function(){return--e>0&&(p=u.apply(this,arguments)),e<=1&&(u=void 0),p}}(2,e)}},82667:(e,t,i)=>{/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=i(92486)},9329:(e,t,i)=>{"use strict";/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=i(82667),s=i(71017).extname,a=/^\s*([^;\s]*)(?:;|\s|$)/,r=/^text\//i;function o(e){if(!e||"string"!=typeof e)return!1;var t=a.exec(e),i=t&&n[t[1].toLowerCase()];return i&&i.charset?i.charset:!!(t&&r.test(t[1]))&&"UTF-8"}t.charset=o,t.charsets={lookup:o},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var i=-1===e.indexOf("/")?t.lookup(e):e;if(!i)return!1;if(-1===i.indexOf("charset")){var n=t.charset(i);n&&(i+="; charset="+n.toLowerCase())}return i},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var i=a.exec(e),n=i&&t.extensions[i[1].toLowerCase()];return!!n&&!!n.length&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var i=s("x."+e).toLowerCase().substr(1);return!!i&&(t.types[i]||!1)},t.types=Object.create(null),function(e,t){var i=["nginx","apache",void 0,"iana"];Object.keys(n).forEach(function(s){var a=n[s],r=a.extensions;if(r&&r.length){e[s]=r;for(var o=0;o<r.length;o++){var c=r[o];if(t[c]){var l=i.indexOf(n[t[c]].source),u=i.indexOf(a.source);if("application/octet-stream"!==t[c]&&(l>u||l===u&&"application/"===t[c].substr(0,12)))continue}t[c]=s}}})}(t.extensions,t.types)},84158:e=>{function t(e,t,i,n){return Math.round(e/i)+" "+n+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var n,s,a=typeof e;if("string"===a&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===a&&isFinite(e))return i.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(s=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":s>=36e5?Math.round(e/36e5)+"h":s>=6e4?Math.round(e/6e4)+"m":s>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},48026:(e,t,i)=>{"use strict";let{createProxy:n}=i(86843);e.exports=n("/home/aniket/projects/peerpair.dev/node_modules/next/dist/client/link.js")},1926:(e,t,i)=>{"use strict";var n=i(57310).parse,s={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},a=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function r(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=function(e){var t,i,o,c="string"==typeof e?n(e):e||{},l=c.protocol,u=c.host,p=c.port;if("string"!=typeof u||!u||"string"!=typeof l||(l=l.split(":",1)[0],t=u=u.replace(/:\d*$/,""),i=p=parseInt(p)||s[l]||0,!(!(o=(r("npm_config_no_proxy")||r("no_proxy")).toLowerCase())||"*"!==o&&o.split(/[,\s]/).every(function(e){if(!e)return!0;var n=e.match(/^(.+):(\d+)$/),s=n?n[1]:e,r=n?parseInt(n[2]):0;return!!r&&r!==i||(/^[.*]/.test(s)?("*"===s.charAt(0)&&(s=s.slice(1)),!a.call(t,s)):t!==s)}))))return"";var d=r("npm_config_"+l+"_proxy")||r(l+"_proxy")||r("npm_config_proxy")||r("all_proxy");return d&&-1===d.indexOf("://")&&(d=l+"://"+d),d}},24381:(e,t,i)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=i(14300),s=n.Buffer;function a(e,t){for(var i in e)t[i]=e[i]}function r(e,t,i){return s(e,t,i)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=r),r.prototype=Object.create(s.prototype),a(s,r),r.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return s(e,t,i)},r.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},r.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return s(e)},r.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},56613:(e,t,i)=>{let n=Symbol("SemVer ANY");class s{static get ANY(){return n}constructor(e,t){if(t=a(t),e instanceof s){if(!!t.loose===e.loose)return e;e=e.value}l("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){let t=this.options.loose?r[o.COMPARATORLOOSE]:r[o.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new u(i[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof s))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new p(e.value,t).test(this.value):""===e.operator?""===e.value||new p(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=s;let a=i(67090),{safeRe:r,t:o}=i(9758),c=i(8980),l=i(95521),u=i(406),p=i(13141)},13141:(e,t,i)=>{class n{constructor(e,t){if(t=a(t),e instanceof n){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new n(e.raw,t)}if(e instanceof r)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&f))+":"+e,i=s.get(t);if(i)return i;let n=this.options.loose,a=n?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];o("hyphen replace",e=e.replace(a,O(this.options.includePrerelease))),o("comparator trim",e=e.replace(l[u.COMPARATORTRIM],p)),o("tilde trim",e=e.replace(l[u.TILDETRIM],d)),o("caret trim",e=e.replace(l[u.CARETTRIM],h));let c=e.split(" ").map(e=>x(e,this.options)).join(" ").split(/\s+/).map(e=>R(e,this.options));n&&(c=c.filter(e=>(o("loose invalid filter",e,this.options),!!e.match(l[u.COMPARATORLOOSE])))),o("range list",c);let v=new Map;for(let e of c.map(e=>new r(e,this.options))){if(g(e))return[e];v.set(e.value,e)}v.size>1&&v.has("")&&v.delete("");let b=[...v.values()];return s.set(t,b),b}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(i=>b(i,t)&&e.set.some(e=>b(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1}}e.exports=n;let s=new(i(84681))({max:1e3}),a=i(67090),r=i(56613),o=i(95521),c=i(406),{safeRe:l,t:u,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:h}=i(9758),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:f}=i(64204),g=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,b=(e,t)=>{let i=!0,n=e.slice(),s=n.pop();for(;i&&n.length;)i=n.every(e=>s.intersects(e,t)),s=n.pop();return i},x=(e,t)=>(o("comp",e,t),o("caret",e=k(e,t)),o("tildes",e=w(e,t)),o("xrange",e=E(e,t)),o("stars",e=T(e,t)),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{let i=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(i,(t,i,n,s,a)=>{let r;return o("tilde",e,t,i,n,s,a),y(i)?r="":y(n)?r=`>=${i}.0.0 <${+i+1}.0.0-0`:y(s)?r=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:a?(o("replaceTilde pr",a),r=`>=${i}.${n}.${s}-${a} <${i}.${+n+1}.0-0`):r=`>=${i}.${n}.${s} <${i}.${+n+1}.0-0`,o("tilde return",r),r})},k=(e,t)=>e.trim().split(/\s+/).map(e=>S(e,t)).join(" "),S=(e,t)=>{o("caret",e,t);let i=t.loose?l[u.CARETLOOSE]:l[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(i,(t,i,s,a,r)=>{let c;return o("caret",e,t,i,s,a,r),y(i)?c="":y(s)?c=`>=${i}.0.0${n} <${+i+1}.0.0-0`:y(a)?c="0"===i?`>=${i}.${s}.0${n} <${i}.${+s+1}.0-0`:`>=${i}.${s}.0${n} <${+i+1}.0.0-0`:r?(o("replaceCaret pr",r),c="0"===i?"0"===s?`>=${i}.${s}.${a}-${r} <${i}.${s}.${+a+1}-0`:`>=${i}.${s}.${a}-${r} <${i}.${+s+1}.0-0`:`>=${i}.${s}.${a}-${r} <${+i+1}.0.0-0`):(o("no pr"),c="0"===i?"0"===s?`>=${i}.${s}.${a}${n} <${i}.${s}.${+a+1}-0`:`>=${i}.${s}.${a}${n} <${i}.${+s+1}.0-0`:`>=${i}.${s}.${a} <${+i+1}.0.0-0`),o("caret return",c),c})},E=(e,t)=>(o("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let i=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(i,(i,n,s,a,r,c)=>{o("xRange",e,i,n,s,a,r,c);let l=y(s),u=l||y(a),p=u||y(r);return"="===n&&p&&(n=""),c=t.includePrerelease?"-0":"",l?i=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(u&&(a=0),r=0,">"===n?(n=">=",u?(s=+s+1,a=0):a=+a+1,r=0):"<="===n&&(n="<",u?s=+s+1:a=+a+1),"<"===n&&(c="-0"),i=`${n+s}.${a}.${r}${c}`):u?i=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(i=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),o("xRange return",i),i})},T=(e,t)=>(o("replaceStars",e,t),e.trim().replace(l[u.STAR],"")),R=(e,t)=>(o("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),O=e=>(t,i,n,s,a,r,o,c,l,u,p,d,h)=>(i=y(n)?"":y(s)?`>=${n}.0.0${e?"-0":""}`:y(a)?`>=${n}.${s}.0${e?"-0":""}`:r?`>=${i}`:`>=${i}${e?"-0":""}`,c=y(l)?"":y(u)?`<${+l+1}.0.0-0`:y(p)?`<${l}.${+u+1}.0-0`:d?`<=${l}.${u}.${p}-${d}`:e?`<${l}.${u}.${+p+1}-0`:`<=${c}`,`${i} ${c}`.trim()),I=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(o(e[i].semver),e[i].semver!==r.ANY&&e[i].semver.prerelease.length>0){let n=e[i].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},406:(e,t,i)=>{let n=i(95521),{MAX_LENGTH:s,MAX_SAFE_INTEGER:a}=i(64204),{safeRe:r,t:o}=i(9758),c=i(67090),{compareIdentifiers:l}=i(10602);class u{constructor(e,t){if(t=c(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>s)throw TypeError(`version is longer than ${s} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?r[o.LOOSE]:r[o.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],s=e.prerelease[t];if(n("prerelease compare",t,i,s),void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return -1;if(i===s)continue;else return l(i,s)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let i=this.build[t],s=e.build[t];if(n("prerelease compare",t,i,s),void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return -1;if(i===s)continue;else return l(i,s)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===i&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},926:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},8980:(e,t,i)=>{let n=i(32130),s=i(11777),a=i(22450),r=i(82608),o=i(43126),c=i(54135);e.exports=(e,t,i,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return n(e,i,l);case"!=":return s(e,i,l);case">":return a(e,i,l);case">=":return r(e,i,l);case"<":return o(e,i,l);case"<=":return c(e,i,l);default:throw TypeError(`Invalid operator: ${t}`)}}},23627:(e,t,i)=>{let n=i(406),s=i(71720),{safeRe:a,t:r}=i(9758);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let n;let s=t.includePrerelease?a[r.COERCERTLFULL]:a[r.COERCERTL];for(;(n=s.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&n.index+n[0].length===i.index+i[0].length||(i=n),s.lastIndex=n.index+n[1].length+n[2].length;s.lastIndex=-1}else i=e.match(t.includePrerelease?a[r.COERCEFULL]:a[r.COERCE]);if(null===i)return null;let o=i[2],c=i[3]||"0",l=i[4]||"0",u=t.includePrerelease&&i[5]?`-${i[5]}`:"",p=t.includePrerelease&&i[6]?`+${i[6]}`:"";return s(`${o}.${c}.${l}${u}${p}`,t)}},74156:(e,t,i)=>{let n=i(406);e.exports=(e,t,i)=>{let s=new n(e,i),a=new n(t,i);return s.compare(a)||s.compareBuild(a)}},95179:(e,t,i)=>{let n=i(16409);e.exports=(e,t)=>n(e,t,!0)},16409:(e,t,i)=>{let n=i(406);e.exports=(e,t,i)=>new n(e,i).compare(new n(t,i))},16448:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e,null,!0),s=n(t,null,!0),a=i.compare(s);if(0===a)return null;let r=a>0,o=r?i:s,c=r?s:i,l=!!o.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?o.patch?"patch":o.minor?"minor":"major":"major";let u=l?"pre":"";return i.major!==s.major?u+"major":i.minor!==s.minor?u+"minor":i.patch!==s.patch?u+"patch":"prerelease"}},32130:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0===n(e,t,i)},22450:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>n(e,t,i)>0},82608:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>n(e,t,i)>=0},25235:(e,t,i)=>{let n=i(406);e.exports=(e,t,i,s,a)=>{"string"==typeof i&&(a=s,s=i,i=void 0);try{return new n(e instanceof n?e.version:e,i).inc(t,s,a).version}catch(e){return null}}},43126:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0>n(e,t,i)},54135:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0>=n(e,t,i)},98852:(e,t,i)=>{let n=i(406);e.exports=(e,t)=>new n(e,t).major},64839:(e,t,i)=>{let n=i(406);e.exports=(e,t)=>new n(e,t).minor},11777:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>0!==n(e,t,i)},71720:(e,t,i)=>{let n=i(406);e.exports=(e,t,i=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!i)return null;throw e}}},32117:(e,t,i)=>{let n=i(406);e.exports=(e,t)=>new n(e,t).patch},3810:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e,t);return i&&i.prerelease.length?i.prerelease:null}},40324:(e,t,i)=>{let n=i(16409);e.exports=(e,t,i)=>n(t,e,i)},19260:(e,t,i)=>{let n=i(74156);e.exports=(e,t)=>e.sort((e,i)=>n(i,e,t))},65715:(e,t,i)=>{let n=i(13141);e.exports=(e,t,i)=>{try{t=new n(t,i)}catch(e){return!1}return t.test(e)}},61386:(e,t,i)=>{let n=i(74156);e.exports=(e,t)=>e.sort((e,i)=>n(e,i,t))},87109:(e,t,i)=>{let n=i(71720);e.exports=(e,t)=>{let i=n(e,t);return i?i.version:null}},44876:(e,t,i)=>{let n=i(9758),s=i(64204),a=i(406),r=i(10602),o=i(71720),c=i(87109),l=i(926),u=i(25235),p=i(16448),d=i(98852),h=i(64839),m=i(32117),f=i(3810),g=i(16409),v=i(40324),b=i(95179),x=i(74156),y=i(61386),w=i(19260),_=i(22450),k=i(43126),S=i(32130),E=i(11777),C=i(82608),T=i(54135),R=i(8980),O=i(23627),I=i(56613),P=i(13141),j=i(65715),N=i(20807),L=i(63837),A=i(83266),D=i(60230),U=i(93696),M=i(13648),F=i(49483),B=i(66482),$=i(958),z=i(71284),V=i(66329);e.exports={parse:o,valid:c,clean:l,inc:u,diff:p,major:d,minor:h,patch:m,prerelease:f,compare:g,rcompare:v,compareLoose:b,compareBuild:x,sort:y,rsort:w,gt:_,lt:k,eq:S,neq:E,gte:C,lte:T,cmp:R,coerce:O,Comparator:I,Range:P,satisfies:j,toComparators:N,maxSatisfying:L,minSatisfying:A,minVersion:D,validRange:U,outside:M,gtr:F,ltr:B,intersects:$,simplifyRange:z,subset:V,SemVer:a,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers}},64204:e=>{let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},95521:e=>{let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},10602:e=>{let t=/^[0-9]+$/,i=(e,i)=>{let n=t.test(e),s=t.test(i);return n&&s&&(e=+e,i=+i),e===i?0:n&&!s?-1:s&&!n?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},67090:e=>{let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},9758:(e,t,i)=>{let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:a}=i(64204),r=i(95521),o=(t=e.exports={}).re=[],c=t.safeRe=[],l=t.src=[],u=t.t={},p=0,d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[d,s]],m=e=>{for(let[t,i]of h)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},f=(e,t,i)=>{let n=m(t),s=p++;r(e,s,t),u[e]=s,l[s]=t,o[s]=new RegExp(t,i?"g":void 0),c[s]=new RegExp(n,i?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),f("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${d}+`),f("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),f("FULL",`^${l[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),f("LOOSE",`^${l[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),f("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?`+"(?:$|[^\\d])"),f("COERCERTL",l[u.COERCE],!0),f("COERCERTLFULL",l[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},84681:(e,t,i)=>{"use strict";let n=i(34024),s=Symbol("max"),a=Symbol("length"),r=Symbol("lengthCalculator"),o=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),p=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),m=()=>1;class f{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[s]=e.max||1/0;let t=e.length||m;if(this[r]="function"!=typeof t?m:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[s]=e||1/0,b(this)}get max(){return this[s]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[c]=e,b(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=m),e!==this[r]&&(this[r]=e,this[a]=0,this[p].forEach(e=>{e.length=this[r](e.value,e.key),this[a]+=e.length})),b(this)}get lengthCalculator(){return this[r]}get length(){return this[a]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let i=this[p].tail;null!==i;){let n=i.prev;w(this,e,i,t),i=n}}forEach(e,t){t=t||this;for(let i=this[p].head;null!==i;){let n=i.next;w(this,e,i,t),i=n}}keys(){return this[p].toArray().map(e=>e.key)}values(){return this[p].toArray().map(e=>e.value)}reset(){this[l]&&this[p]&&this[p].length&&this[p].forEach(e=>this[l](e.key,e.value)),this[d]=new Map,this[p]=new n,this[a]=0}dump(){return this[p].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[p]}set(e,t,i){if((i=i||this[c])&&"number"!=typeof i)throw TypeError("maxAge must be a number");let n=i?Date.now():0,o=this[r](t,e);if(this[d].has(e)){if(o>this[s])return x(this,this[d].get(e)),!1;let r=this[d].get(e).value;return this[l]&&!this[u]&&this[l](e,r.value),r.now=n,r.maxAge=i,r.value=t,this[a]+=o-r.length,r.length=o,this.get(e),b(this),!0}let h=new y(e,t,o,n,i);return h.length>this[s]?(this[l]&&this[l](e,t),!1):(this[a]+=h.length,this[p].unshift(h),this[d].set(e,this[p].head),b(this),!0)}has(e){return!!this[d].has(e)&&!v(this,this[d].get(e).value)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[p].tail;return e?(x(this,e),e.value):null}del(e){x(this,this[d].get(e))}load(e){this.reset();let t=Date.now();for(let i=e.length-1;i>=0;i--){let n=e[i],s=n.e||0;if(0===s)this.set(n.k,n.v);else{let e=s-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,i)=>{let n=e[d].get(t);if(n){let t=n.value;if(v(e,t)){if(x(e,n),!e[o])return}else i&&(e[h]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:e[c]&&i>e[c]},b=e=>{if(e[a]>e[s])for(let t=e[p].tail;e[a]>e[s]&&null!==t;){let i=t.prev;x(e,t),t=i}},x=(e,t)=>{if(t){let i=t.value;e[l]&&e[l](i.key,i.value),e[a]-=i.length,e[d].delete(i.key),e[p].removeNode(t)}};class y{constructor(e,t,i,n,s){this.key=e,this.value=t,this.length=i,this.now=n,this.maxAge=s||0}}let w=(e,t,i,n)=>{let s=i.value;v(e,s)&&(x(e,i),e[o]||(s=void 0)),s&&t.call(n,s.value,s.key,e)};e.exports=f},49483:(e,t,i)=>{let n=i(13648);e.exports=(e,t,i)=>n(e,t,">",i)},958:(e,t,i)=>{let n=i(13141);e.exports=(e,t,i)=>(e=new n(e,i),t=new n(t,i),e.intersects(t,i))},66482:(e,t,i)=>{let n=i(13648);e.exports=(e,t,i)=>n(e,t,"<",i)},63837:(e,t,i)=>{let n=i(406),s=i(13141);e.exports=(e,t,i)=>{let a=null,r=null,o=null;try{o=new s(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===r.compare(e))&&(r=new n(a=e,i))}),a}},83266:(e,t,i)=>{let n=i(406),s=i(13141);e.exports=(e,t,i)=>{let a=null,r=null,o=null;try{o=new s(t,i)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===r.compare(e))&&(r=new n(a=e,i))}),a}},60230:(e,t,i)=>{let n=i(406),s=i(13141),a=i(22450);e.exports=(e,t)=>{e=new s(e,t);let i=new n("0.0.0");if(e.test(i)||(i=new n("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let s=e.set[t],r=null;s.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||a(t,r))&&(r=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),r&&(!i||a(i,r))&&(i=r)}return i&&e.test(i)?i:null}},13648:(e,t,i)=>{let n=i(406),s=i(56613),{ANY:a}=s,r=i(13141),o=i(65715),c=i(22450),l=i(43126),u=i(54135),p=i(82608);e.exports=(e,t,i,d)=>{let h,m,f,g,v;switch(e=new n(e,d),t=new r(t,d),i){case">":h=c,m=u,f=l,g=">",v=">=";break;case"<":h=l,m=p,f=c,g="<",v="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,d))return!1;for(let i=0;i<t.set.length;++i){let n=t.set[i],r=null,o=null;if(n.forEach(e=>{e.semver===a&&(e=new s(">=0.0.0")),r=r||e,o=o||e,h(e.semver,r.semver,d)?r=e:f(e.semver,o.semver,d)&&(o=e)}),r.operator===g||r.operator===v||(!o.operator||o.operator===g)&&m(e,o.semver)||o.operator===v&&f(e,o.semver))return!1}return!0}},71284:(e,t,i)=>{let n=i(65715),s=i(16409);e.exports=(e,t,i)=>{let a=[],r=null,o=null,c=e.sort((e,t)=>s(e,t,i));for(let e of c)n(e,t,i)?(o=e,r||(r=e)):(o&&a.push([r,o]),o=null,r=null);r&&a.push([r,null]);let l=[];for(let[e,t]of a)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");let u=l.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return u.length<p.length?u:t}},66329:(e,t,i)=>{let n=i(13141),s=i(56613),{ANY:a}=s,r=i(65715),o=i(16409),c=[new s(">=0.0.0-0")],l=[new s(">=0.0.0")],u=(e,t,i)=>{let n,s,u,h,m,f,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=i.includePrerelease?c:l}if(1===t.length&&t[0].semver===a){if(i.includePrerelease)return!0;t=l}let v=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=p(n,t,i):"<"===t.operator||"<="===t.operator?s=d(s,t,i):v.add(t.semver);if(v.size>1||n&&s&&((u=o(n.semver,s.semver,i))>0||0===u&&(">="!==n.operator||"<="!==s.operator)))return null;for(let e of v){if(n&&!r(e,String(n),i)||s&&!r(e,String(s),i))return null;for(let n of t)if(!r(e,String(n),i))return!1;return!0}let b=!!s&&!i.includePrerelease&&!!s.semver.prerelease.length&&s.semver,x=!!n&&!i.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(b&&1===b.prerelease.length&&"<"===s.operator&&0===b.prerelease[0]&&(b=!1),t)){if(g=g||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,n){if(x&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===x.major&&e.semver.minor===x.minor&&e.semver.patch===x.patch&&(x=!1),">"===e.operator||">="===e.operator){if((h=p(n,e,i))===e&&h!==n)return!1}else if(">="===n.operator&&!r(n.semver,String(e),i))return!1}if(s){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),"<"===e.operator||"<="===e.operator){if((m=d(s,e,i))===e&&m!==s)return!1}else if("<="===s.operator&&!r(s.semver,String(e),i))return!1}if(!e.operator&&(s||n)&&0!==u)return!1}return(!n||!f||!!s||0===u)&&(!s||!g||!!n||0===u)&&!x&&!b},p=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},d=(e,t,i)=>{if(!e)return t;let n=o(e.semver,t.semver,i);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new n(e,i),t=new n(t,i);let s=!1;e:for(let n of e.set){for(let e of t.set){let t=u(n,e,i);if(s=s||null!==t,t)continue e}if(s)return!1}return!0}},20807:(e,t,i)=>{let n=i(13141);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},93696:(e,t,i)=>{let n=i(13141);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},27138:(e,t,i)=>{"use strict";i.d(t,{StreamChat:()=>eJ});var n,s=i(90510),a=i(61515),r=i.n(a),o=i(18770),c=i.n(o),l=i(26191),u=i.n(l),p=i(96206),d=i.n(p),h=i(78708),m=i.n(h),f=i(14958),g=i.n(f),v=i(53014),b=i.n(v),x=i(67520),y=i.n(x),w=i(30230),_=i.n(w),k=i(32615),S=i(95687),E=i.n(S),C=i(61572),T=i.n(C),R=i(89304),O=i.n(R),I=i(37299),P=i.n(I),j=i(9410),N=i.n(j),L=i(6113),A=i.n(L),D=i(74306),U=i.n(D),M=i(41392),F=i.n(M),B=i(56757),$=i.n(B),z=i(88895),V=i.n(z),W=i(67330),q=i.n(W);function H(e){return"string"==typeof e}var G=function(e){var t,i,n,s={},a=String.fromCharCode,r=e.length,o=0,c=0,l="";for(t=0;t<64;t++)s["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)]=t;for(i=0;i<r;i++)for(o=(o<<6)+s[e.charAt(i)],c+=6;c>=8;)((n=o>>>(c-=8)&255)||i<r-2)&&(l+=a(n));return l};function K(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function J(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var X=function(e){return new Promise(function(t){return setTimeout(t,e)})};function Z(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}var Q={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3};function ee(e){var t,i=[],n=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Y(e,t)}}(e))){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){throw e}),f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){o=!0,a=e}),f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}(Array.isArray(e)?e:[e]);try{for(n.s();!(t=n.n()).done;){var s=t.value,a=Object.entries(s);a.length>1&&console.warn("client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed");for(var r=0;r<a.length;r++){var o=T()(a[r],2),c=o[0],l=o[1];i.push({field:c,direction:l})}}}catch(e){n.e(e)}finally{n.f()}return i}function et(e){var t=Math.min(Math.max(250,(e-1)*2e3),25e3);return Math.floor(Math.random()*(Math.min(500+2e3*e,25e3)-t)+t)}function ei(e){for(var t="",i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}function en(){var e,t=(ea(e=new Uint8Array(16)),e);return t[6]=15&t[6]|64,t[8]=191&t[8]|128,ei(t.subarray(0,4))+"-"+ei(t.subarray(4,6))+"-"+ei(t.subarray(6,8))+"-"+ei(t.subarray(8,10))+"-"+ei(t.subarray(10,16))}function es(e){for(var t=Math.pow(2,8*e.byteLength/e.length),i=0;i<e.length;i++)e[i]=Math.random()*t}var ea=function(){var e;return"undefined"!=typeof crypto&&void 0!==(null===(e=crypto)||void 0===e?void 0:e.getRandomValues)?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):es}(),er=function(e){var t=[];for(var i in e)void 0!==e[i]&&(Array.isArray(e[i])||"object"===c()(e[i])?t.push("".concat(i,"=").concat(encodeURIComponent(JSON.stringify(e[i])))):t.push("".concat(i,"=").concat(encodeURIComponent(e[i]))));return t.join("&")};function eo(e){return J(J({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"})}function ec(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"created_at",s=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=s||i,r=e;i&&(r=r.filter(function(e){return!(e.id&&t.id===e.id)}));var o=r.length;if(0===o&&a)return r.concat(t);if(0===o)return d()(r);var c=t[n].getTime(),l=r[o-1][n].getTime()<c;if(l&&a)return r.concat(t);if(l)return d()(r);for(var u=0,p=0,h=o-1;u<=h;)r[p=Math.floor((h+u)/2)][n].getTime()<=c?u=p+1:h=p-1;if(!i&&t.id){if(r[u]&&t.id===r[u].id)return r[u]=t,d()(r);if(r[u-1]&&t.id===r[u-1].id)return r[u-1]=t,d()(r)}return a&&r.splice(u,0,t),d()(r)}function el(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eu(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?el(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):el(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ep=function(){var e;function t(e){var i,n=this;g()(this,t),y()(this,"_channel",void 0),y()(this,"watcher_count",void 0),y()(this,"typing",void 0),y()(this,"read",void 0),y()(this,"pinnedMessages",void 0),y()(this,"pending_messages",void 0),y()(this,"threads",void 0),y()(this,"mutedUsers",void 0),y()(this,"watchers",void 0),y()(this,"members",void 0),y()(this,"unreadCount",void 0),y()(this,"membership",void 0),y()(this,"last_message_at",void 0),y()(this,"isUpToDate",void 0),y()(this,"messageSets",[]),y()(this,"setIsUpToDate",function(e){n.isUpToDate=e}),y()(this,"removeMessageFromArray",function(e,t){var i=e.filter(function(e){return!(e.id&&t.id&&e.id===t.id)});return{removed:i.length<e.length,result:i}}),y()(this,"updateUserMessages",function(e){var t=function(e,t){for(var i=0;i<e.length;i++){var n,s=e[i];(null===(n=s.user)||void 0===n?void 0:n.id)===t.id&&(e[i]=eu(eu({},s),{},{user:t}))}};for(var i in n.messageSets.forEach(function(i){return t(i.messages,e)}),n.threads)t(n.threads[i],e);t(n.pinnedMessages,e)}),y()(this,"deleteUserMessages",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=0;n<e.length;n++){var s,a=e[n];(null===(s=a.user)||void 0===s?void 0:s.id)===t.id&&(i?e[n]={cid:a.cid,created_at:a.created_at,deleted_at:t.deleted_at,id:a.id,latest_reactions:[],mentioned_users:[],own_reactions:[],parent_id:a.parent_id,reply_count:a.reply_count,status:a.status,thread_participants:a.thread_participants,type:"deleted",updated_at:a.updated_at,user:a.user}:e[n]=eu(eu({},a),{},{type:"deleted",deleted_at:t.deleted_at}))}};for(var s in n.messageSets.forEach(function(n){return i(n.messages,e,t)}),n.threads)i(n.threads[s],e,t);i(n.pinnedMessages,e,t)}),this._channel=e,this.watcher_count=0,this.typing={},this.read={},this.initMessages(),this.pinnedMessages=[],this.pending_messages=[],this.threads={},this.mutedUsers=[],this.watchers={},this.members={},this.membership={},this.unreadCount=0,this.isUpToDate=!0,this.last_message_at=(null==e?void 0:null===(i=e.state)||void 0===i?void 0:i.last_message_at)!=null?new Date(e.state.last_message_at):null}return b()(t,[{key:"messages",get:function(){var e;return(null===(e=this.messageSets.find(function(e){return e.isCurrent}))||void 0===e?void 0:e.messages)||[]},set:function(e){var t=this.messageSets.findIndex(function(e){return e.isCurrent});this.messageSets[t].messages=e}},{key:"latestMessages",get:function(){var e;return(null===(e=this.messageSets.find(function(e){return e.isLatest}))||void 0===e?void 0:e.messages)||[]},set:function(e){var t=this.messageSets.findIndex(function(e){return e.isLatest});this.messageSets[t].messages=e}},{key:"addMessageSorted",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"latest";return this.addMessagesSorted([e],t,!1,i,n)}},{key:"formatMessage",value:function(e){return eu(eu({},e),{},{__html:e.html,pinned_at:e.pinned_at?new Date(e.pinned_at):null,created_at:e.created_at?new Date(e.created_at):new Date,updated_at:e.updated_at?new Date(e.updated_at):new Date,status:e.status||"received"})}},{key:"addMessagesSorted",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"current",a=this.findTargetMessageSet(e,n,s),r=a.messagesToAdd,o=a.targetMessageSetIndex,c=0;c<r.length;c+=1)if(!r[c].shadowed){var l,u=r[c].created_at instanceof Date,p=void 0;u?p=r[c]:((p=this.formatMessage(r[c])).user&&null!==(l=this._channel)&&void 0!==l&&l.cid&&this._channel.getClient().state.updateUserReference(p.user,this._channel.cid),i&&p.id&&this.threads[p.id]&&delete this.threads[p.id],this.last_message_at||(this.last_message_at=new Date(p.created_at.getTime())),p.created_at.getTime()>this.last_message_at.getTime()&&(this.last_message_at=new Date(p.created_at.getTime())));var d=p.parent_id;if((!d||p.show_in_channel)&&-1!==o&&(this.messageSets[o].messages=this._addToMessageList(this.messageSets[o].messages,p,t,"created_at",n)),d&&!i){var h=this.threads[d]||[],m=this._addToMessageList(h,p,t,"created_at",n);this.threads[d]=m}}return{messageSet:this.messageSets[o]}}},{key:"addPinnedMessages",value:function(e){for(var t=0;t<e.length;t+=1)this.addPinnedMessage(e[t])}},{key:"addPinnedMessage",value:function(e){this.pinnedMessages=this._addToMessageList(this.pinnedMessages,this.formatMessage(e),!1,"pinned_at")}},{key:"removePinnedMessage",value:function(e){var t=this.removeMessageFromArray(this.pinnedMessages,e).result;this.pinnedMessages=t}},{key:"addReaction",value:function(e,t,i){var n=this;if(t)return this._updateMessage(t,function(s){return t.own_reactions=n._addOwnReactionToMessage(s.own_reactions,e,i),n.formatMessage(t)}),t}},{key:"_addOwnReactionToMessage",value:function(e,t,i){return e=(e=i?[]:this._removeOwnReactionFromMessage(e,t))||[],this._channel.getClient().userID===t.user_id&&e.push(t),e}},{key:"_removeOwnReactionFromMessage",value:function(e,t){return e?e.filter(function(e){return e.user_id!==t.user_id||e.type!==t.type}):e}},{key:"removeReaction",value:function(e,t){var i=this;if(t)return this._updateMessage(t,function(n){return t.own_reactions=i._removeOwnReactionFromMessage(n.own_reactions,e),i.formatMessage(t)}),t}},{key:"removeQuotedMessageReferences",value:function(e){var t=this,i=function(e){var t,i;return eu(eu({},e),{},{created_at:e.created_at.toISOString(),pinned_at:null===(t=e.pinned_at)||void 0===t?void 0:t.toISOString(),updated_at:null===(i=e.updated_at)||void 0===i?void 0:i.toISOString()})};this.messageSets.forEach(function(n){var s=n.messages.filter(function(t){return t.quoted_message_id===e.id}).map(i).map(function(t){return eu(eu({},t),{},{quoted_message:eu(eu({},e),{},{attachments:[]})})});t.addMessagesSorted(s,!0)})}},{key:"_updateMessage",value:function(e,t){var i=e.parent_id,n=e.show_in_channel,s=e.pinned;if(i&&this.threads[i]){var a=this.threads[i],r=a.findIndex(function(t){return t.id===e.id});-1!==r&&(a[r]=t(a[r]),this.threads[i]=a)}if(!n&&!i||n){var o=this.findMessageSetIndex(e);if(-1!==o){var c=this.messageSets[o].messages.findIndex(function(t){return t.id===e.id});-1!==c&&(this.messageSets[o].messages[c]=t(this.messageSets[o].messages[c]))}}if(s){var l=this.pinnedMessages.findIndex(function(t){return t.id===e.id});-1!==l&&(this.pinnedMessages[l]=t(this.pinnedMessages[l]))}}},{key:"_addToMessageList",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"created_at",s=!(arguments.length>4)||void 0===arguments[4]||arguments[4];return ec(e,t,i,n,s)}},{key:"removeMessage",value:function(e){var t=!1;if(e.parent_id&&this.threads[e.parent_id]){var i=this.removeMessageFromArray(this.threads[e.parent_id],e),n=i.removed,s=i.result;this.threads[e.parent_id]=s,t=n}else{var a,r=null!==(a=e.messageSetIndex)&&void 0!==a?a:this.findMessageSetIndex(e);if(-1!==r){var o=this.removeMessageFromArray(this.messageSets[r].messages,e),c=o.removed,l=o.result;this.messageSets[r].messages=l,t=c}}return t}},{key:"filterErrorMessages",value:function(){var e=this.latestMessages.filter(function(e){return"error"!==e.type});this.latestMessages=e}},{key:"clean",value:function(){for(var e=new Date,t=0,i=Object.entries(this.typing);t<i.length;t++){var n=T()(i[t],2),s=n[0],a=n[1],r="string"==typeof a.received_at?new Date(a.received_at):a.received_at||new Date;e.getTime()-r.getTime()>7e3&&(delete this.typing[s],this._channel.getClient().dispatchEvent({cid:this._channel.cid,type:"typing.stop",user:{id:s}}))}}},{key:"clearMessages",value:function(){this.initMessages(),this.pinnedMessages=[]}},{key:"initMessages",value:function(){this.messageSets=[{messages:[],isLatest:!0,isCurrent:!0}]}},{key:"loadMessageIntoState",value:(e=m()(_().mark(function e(t,i){var n,s,a,r,o,c,l=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>2&&void 0!==l[2]?l[2]:25,r=!1,o=!1,c=i||t,"latest"!==t){e.next=10;break}if(this.messages!==this.latestMessages){e.next=7;break}return e.abrupt("return");case 7:a=this.messageSets.findIndex(function(e){return e.isLatest}),e.next=11;break;case 10:a=this.findMessageSetIndex({id:c});case 11:if(-1!==a&&(this.switchToMessageSet(a),r=!0),o=!i||!!(null!==(n=this.threads[i])&&void 0!==n&&n.find(function(e){return e.id===t})),!(r&&o)){e.next=15;break}return e.abrupt("return");case 15:if(r){e.next=18;break}return e.next=18,this._channel.query({messages:{id_around:c,limit:s}},"new");case 18:if(!(!o&&i)){e.next=21;break}return e.next=21,this._channel.getReplies(i,{id_around:t,limit:s});case 21:-1!==(a=this.findMessageSetIndex({id:c}))&&this.switchToMessageSet(a);case 23:case"end":return e.stop()}},e,this)})),function(t,i){return e.apply(this,arguments)})},{key:"findMessage",value:function(e,t){if(t){var i=this.threads[t];if(!i)return;return i.find(function(t){return t.id===e})}var n=this.findMessageSetIndex({id:e});if(-1!==n)return this.messageSets[n].messages.find(function(t){return t.id===e})}},{key:"switchToMessageSet",value:function(e){var t=this.messageSets.find(function(e){return e.isCurrent});t&&(t.isCurrent=!1,this.messageSets[e].isCurrent=!0)}},{key:"areMessageSetsOverlap",value:function(e,t){return e.some(function(e){return t.find(function(t){return e.id===t.id})})}},{key:"findMessageSetIndex",value:function(e){return this.messageSets.findIndex(function(t){return!!t.messages.find(function(t){return t.id===e.id})})}},{key:"findTargetMessageSet",value:function(e){var t,i=this,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",a=e;if(n){var r=this.messageSets.map(function(e,t){return t}).filter(function(t){return i.areMessageSetsOverlap(i.messageSets[t].messages,e)});switch(s){case"new":r.length>0?t=r[0]:e.some(function(e){return!e.parent_id})&&(this.messageSets.push({messages:[],isCurrent:!1,isLatest:!1}),t=this.messageSets.length-1);break;case"current":t=this.messageSets.findIndex(function(e){return e.isCurrent});break;case"latest":t=this.messageSets.findIndex(function(e){return e.isLatest});break;default:t=-1}var o=r.splice(0,1)[0],c=d()(r);if(void 0!==o&&o!==t&&c.push(t),c.length>0){var l=this.messageSets[o],u=this.messageSets.filter(function(e,t){return -1!==c.indexOf(t)});u.forEach(function(e){l.isLatest=l.isLatest||e.isLatest,l.isCurrent=l.isCurrent||e.isCurrent,a=[].concat(d()(a),d()(e.messages))}),u.forEach(function(e){return i.messageSets.splice(i.messageSets.indexOf(e),1)}),t=this.messageSets.findIndex(function(t){return i.areMessageSetsOverlap(t.messages,e)})}}else t=this.findMessageSetIndex(e[0]);return{targetMessageSetIndex:t,messagesToAdd:a}}}]),t}();function ed(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return eh(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eh(e,t)}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function em(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ef(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?em(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):em(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var eg=function(){var e,t,i,n,s,a,r,o,l,u,p,h,f,v,x,w,k,S,E,C,T,R,O,I,P,j,N,L,A,D,U,M,F,B,$,z,V,W;function q(e,t,i,n){var s,a=this;if(g()(this,q),y()(this,"_client",void 0),y()(this,"type",void 0),y()(this,"id",void 0),y()(this,"data",void 0),y()(this,"_data",void 0),y()(this,"cid",void 0),y()(this,"listeners",void 0),y()(this,"state",void 0),y()(this,"initialized",void 0),y()(this,"offlineMode",void 0),y()(this,"lastKeyStroke",void 0),y()(this,"lastTypingEvent",void 0),y()(this,"isTyping",void 0),y()(this,"disconnected",void 0),y()(this,"create",(s=m()(_().mark(function e(t){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=ef(ef({},t),{},{watch:!1,state:!1,presence:!1}),e.next=3,a.query(i,"latest");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),y()(this,"_callChannelListeners",function(e){var t=[];a.listeners.all&&t.push.apply(t,d()(a.listeners.all)),a.listeners[e.type]&&t.push.apply(t,d()(a.listeners[e.type]));for(var i=0;i<t.length;i++){var n=t[i];"string"!=typeof n&&n(e)}}),y()(this,"_channelURL",function(){if(!a.id)throw Error("channel id is not defined");return"".concat(a.getClient().baseURL,"/channels/").concat(a.type,"/").concat(a.id)}),!/^[\w_-]+$/.test(t))throw Error("Invalid chat type ".concat(t,', letters, numbers and "_-" are allowed'));if("string"==typeof i&&!/^[\w!_-]+$/.test(i))throw Error("Invalid chat id ".concat(i,', letters, numbers and "!-_" are allowed'));this._client=e,this.type=t,this.id=i,this.data=n,this._data=ef({},n),this.cid="".concat(t,":").concat(i),this.listeners={},this.state=new ep(this),this.initialized=!1,this.offlineMode=!1,this.lastTypingEvent=null,this.isTyping=!1,this.disconnected=!1}return b()(q,[{key:"getClient",value:function(){if(!0===this.disconnected)throw Error("You can't use a channel after client.disconnect() was called");return this._client}},{key:"getConfig",value:function(){return this.getClient().configs[this.cid]}},{key:"sendMessage",value:(e=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/message",ef({message:t},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(t,i){return e.apply(this,arguments)})},{key:"sendFile",value:function(e,t,i,n){return this.getClient().sendFile("".concat(this._channelURL(),"/file"),e,t,i,n)}},{key:"sendImage",value:function(e,t,i,n){return this.getClient().sendFile("".concat(this._channelURL(),"/image"),e,t,i,n)}},{key:"deleteFile",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/file"),{url:e})}},{key:"deleteImage",value:function(e){return this.getClient().delete("".concat(this._channelURL(),"/image"),{url:e})}},{key:"sendEvent",value:(t=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().post(this._channelURL()+"/event",{event:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"search",value:(i=m()(_().mark(function e(t){var i,n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=s.length>1&&void 0!==s[1]?s[1]:{}).offset&&i.next)){e.next=3;break}throw Error("Cannot specify offset with next");case 3:if(n=ef(ef({filter_conditions:{cid:this.cid}},i),{},{sort:i.sort?ee(i.sort):void 0}),"string"!=typeof t){e.next=8;break}n.query=t,e.next=13;break;case 8:if("object"!==c()(t)){e.next=12;break}n.message_filter_conditions=t,e.next=13;break;case 12:throw Error("Invalid type ".concat(c()(t)," for query parameter"));case 13:return e.next=15,this.getClient().wsPromise;case 15:return e.next=17,this.getClient().get(this.getClient().baseURL+"/search",{payload:n});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"queryMembers",value:(n=m()(_().mark(function e(t){var i,n,s,a,r,o,c=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:[],s=c.length>2&&void 0!==c[2]?c[2]:{},r=this.type,this.id?a=this.id:null!==(i=this.data)&&void 0!==i&&i.members&&Array.isArray(this.data.members)&&(o=this.data.members),e.next=6,this.getClient().get(this.getClient().baseURL+"/members",{payload:ef({type:r,id:a,members:o,sort:ee(n),filter_conditions:t},s)});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"sendReaction",value:(s=m()(_().mark(function e(t,i,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Message id is missing");case 2:if(!(!i||0===Object.keys(i).length)){e.next=4;break}throw Error("Reaction object is missing");case 4:return e.next=6,this.getClient().post(this.getClient().baseURL+"/messages/".concat(t,"/reaction"),ef({reaction:i},n));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e,t,i){return s.apply(this,arguments)})},{key:"deleteReaction",value:function(e,t,i){if(this._checkInitialized(),!t||!e)throw Error("Deleting a reaction requires specifying both the message and reaction type");var n=this.getClient().baseURL+"/messages/".concat(e,"/reaction/").concat(t);return i?this.getClient().delete(n,{user_id:i}):this.getClient().delete(n,{})}},{key:"update",value:(a=m()(_().mark(function e(){var t,i,n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},i=s.length>1?s[1]:void 0,n=s.length>2?s[2]:void 0,["config","cid","created_by","id","member_count","type","created_at","updated_at","last_message_at","own_capabilities"].forEach(function(e){delete t[e]}),e.next=7,this._update(ef({message:i,data:t},n));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"updatePartial",value:(r=m()(_().mark(function e(t){var i,n,s,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().patch(this._channelURL(),t);case 2:return s=e.sent,a=d()(s.channel.own_capabilities||[]).sort().join()!==d()(Array.isArray(null===(i=this.data)||void 0===i?void 0:i.own_capabilities)?null===(n=this.data)||void 0===n?void 0:n.own_capabilities:[]).sort().join(),this.data=s.channel,a&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:s.channel.own_capabilities}),e.abrupt("return",s);case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"enableSlowMode",value:(o=m()(_().mark(function e(t){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{cooldown:t});case 2:return i=e.sent,this.data=i.channel,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"disableSlowMode",value:(l=m()(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),{cooldown:0});case 2:return t=e.sent,this.data=t.channel,e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"delete",value:(u=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.getClient().delete(this._channelURL(),ef({},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"truncate",value:(p=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.getClient().post(this._channelURL()+"/truncate",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"acceptInvite",value:(h=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this._update(ef({accept_invite:!0},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"rejectInvite",value:(f=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this._update(ef({reject_invite:!0},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"addMembers",value:(v=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(ef({add_members:t,message:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return v.apply(this,arguments)})},{key:"addModerators",value:(x=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(ef({add_moderators:t,message:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return x.apply(this,arguments)})},{key:"assignRoles",value:(w=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(ef({assign_roles:t,message:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)})},{key:"inviteMembers",value:(k=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(ef({invites:t,message:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return k.apply(this,arguments)})},{key:"removeMembers",value:(S=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(ef({remove_members:t,message:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return S.apply(this,arguments)})},{key:"demoteModerators",value:(E=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this._update(ef({demote_moderators:t,message:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"_update",value:(C=m()(_().mark(function e(t){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL(),t);case 2:return i=e.sent,this.data=i.channel,e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)})),function(e){return C.apply(this,arguments)})},{key:"mute",value:(T=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/mute/channel",ef({channel_cid:this.cid},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"unmute",value:(R=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.getClient().post(this.getClient().baseURL+"/moderation/unmute/channel",ef({channel_cid:this.cid},t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"muteStatus",value:function(){return this._checkInitialized(),this.getClient()._muteStatus(this.cid)}},{key:"sendAction",value:function(e,t){if(this._checkInitialized(),!e)throw Error("Message id is missing");return this.getClient().post(this.getClient().baseURL+"/messages/".concat(e,"/action"),{message_id:e,form_data:t,id:this.id,type:this.type})}},{key:"keystroke",value:(O=m()(_().mark(function e(t,i){var n,s,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.getConfig())&&void 0!==n&&n.typing_events){e.next=2;break}return e.abrupt("return");case 2:if(s=new Date,a=this.lastTypingEvent&&s.getTime()-this.lastTypingEvent.getTime(),this.lastKeyStroke=s,this.isTyping=!0,!(null===a||a>2e3)){e.next=10;break}return this.lastTypingEvent=new Date,e.next=10,this.sendEvent(ef({type:"typing.start",parent_id:t},i||{}));case 10:case"end":return e.stop()}},e,this)})),function(e,t){return O.apply(this,arguments)})},{key:"stopTyping",value:(I=m()(_().mark(function e(t,i){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.getConfig())&&void 0!==n&&n.typing_events){e.next=2;break}return e.abrupt("return");case 2:return this.lastTypingEvent=null,this.isTyping=!1,e.next=6,this.sendEvent(ef({type:"typing.stop",parent_id:t},i||{}));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return I.apply(this,arguments)})},{key:"lastMessage",value:function(){var e=this.state.latestMessages.length-5;e<0&&(e=0);var t=this.state.latestMessages.length+1,i=this.state.latestMessages.slice(e,t);return i.sort(function(e,t){return t.created_at.getTime()-e.created_at.getTime()}),i[0]}},{key:"markRead",value:(P=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.length>0&&void 0!==n[0]?n[0]:{},this._checkInitialized(),!(!(null!==(t=this.getConfig())&&void 0!==t&&t.read_events)&&!this.getClient()._isUsingServerAuth())){e.next=4;break}return e.abrupt("return",Promise.resolve(null));case 4:return e.next=6,this.getClient().post(this._channelURL()+"/read",ef({},i));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return P.apply(this,arguments)})},{key:"markUnread",value:(j=m()(_().mark(function e(t){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._checkInitialized(),!(!(null!==(i=this.getConfig())&&void 0!==i&&i.read_events)&&!this.getClient()._isUsingServerAuth())){e.next=3;break}return e.abrupt("return",Promise.resolve(null));case 3:return e.next=5,this.getClient().post(this._channelURL()+"/unread",ef({},t));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"clean",value:function(){this.lastKeyStroke&&new Date().getTime()-this.lastKeyStroke.getTime()>1e3&&this.isTyping&&function(e,t){e.then().catch(function(e){console.warn("failed to do ".concat(t,", ran into error: "),e)})}(this.stopTyping(),"stop typing event"),this.state.clean()}},{key:"watch",value:(N=m()(_().mark(function e(t){var i,n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={state:!0,watch:!0,presence:!1},e.next=3,this.getClient().wsPromise;case 3:return this.getClient()._hasConnectionID()||(i.watch=!1),n=ef(ef({},i),t),e.next=7,this.query(n,"latest");case 7:return s=e.sent,this.initialized=!0,this.data=s.channel,this._client.logger("info","channel:watch() - started watching channel ".concat(this.cid),{tags:["channel"],channel:this}),e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)})),function(e){return N.apply(this,arguments)})},{key:"stopWatching",value:(L=m()(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/stop-watching",{});case 2:return t=e.sent,this._client.logger("info","channel:watch() - stopped watching channel ".concat(this.cid),{tags:["channel"],channel:this}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})),function(){return L.apply(this,arguments)})},{key:"getReplies",value:(A=m()(_().mark(function e(t,i){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().get(this.getClient().baseURL+"/messages/".concat(t,"/replies"),ef({},i));case 2:return(n=e.sent).messages&&this.state.addMessagesSorted(n.messages),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return A.apply(this,arguments)})},{key:"getPinnedMessages",value:(D=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:[],e.next=3,this.getClient().get(this.getClient().baseURL+"/channels/".concat(this.type,"/").concat(this.id,"/pinned_messages"),{payload:ef(ef({},t),{},{sort:ee(i)})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)})},{key:"getReactions",value:function(e,t){return this.getClient().get(this.getClient().baseURL+"/messages/".concat(e,"/reactions"),ef({},t))}},{key:"getMessagesById",value:function(e){return this.getClient().get(this._channelURL()+"/messages",{ids:e.join(",")})}},{key:"lastRead",value:function(){var e=this.getClient().userID;if(e)return this.state.read[e]?this.state.read[e].last_read:null}},{key:"_countMessageAsUnread",value:function(e){var t,i,n,s;return!(e.shadowed||e.silent||e.parent_id&&!e.show_in_channel||(null===(t=e.user)||void 0===t?void 0:t.id)===this.getClient().userID||null!==(i=e.user)&&void 0!==i&&i.id&&this.getClient().userMuteStatus(e.user.id)||"system"===e.type||Array.isArray(null===(n=this.data)||void 0===n?void 0:n.own_capabilities)&&!(null!==(s=this.data)&&void 0!==s&&s.own_capabilities.includes("read-events")))&&!this.muteStatus().muted}},{key:"countUnread",value:function(e){if(!e)return this.state.unreadCount;for(var t=0,i=0;i<this.state.latestMessages.length;i+=1){var n=this.state.latestMessages[i];n.created_at>e&&this._countMessageAsUnread(n)&&t++}return t}},{key:"countUnreadMentions",value:function(){for(var e=this.lastRead(),t=this.getClient().userID,i=0,n=0;n<this.state.latestMessages.length;n+=1){var s,a=this.state.latestMessages[n];this._countMessageAsUnread(a)&&(!e||a.created_at>e)&&null!==(s=a.mentioned_users)&&void 0!==s&&s.some(function(e){return e.id===t})&&i++}return i}},{key:"query",value:(U=m()(_().mark(function e(t){var i,n,s,a,r,o,c,l,u,p=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=p.length>1&&void 0!==p[1]?p[1]:"current",e.next=3,this.getClient().wsPromise;case 3:return a="".concat(this.getClient().baseURL,"/channels/").concat(this.type),this.id&&(a+="/".concat(this.id)),e.next=7,this.getClient().post(a+"/query",ef({data:this._data,state:!0},t));case 7:return r=e.sent,this.id||(this.id=r.channel.id,this.cid=r.channel.cid,o=r.members.map(function(e){var t;return e.user_id||(null===(t=e.user)||void 0===t?void 0:t.id)}).sort().join(","),(c="".concat(this.type,":!members-").concat(o))in this.getClient().activeChannels&&delete this.getClient().activeChannels[c],this.cid in this.getClient().activeChannels||(this.getClient().activeChannels[this.cid]=this)),this.getClient()._addChannelConfig(r.channel),l=this._initializeState(r,s).messageSet,u=d()(r.channel.own_capabilities||[]).sort().join()!==d()(Array.isArray(null===(i=this.data)||void 0===i?void 0:i.own_capabilities)?null===(n=this.data)||void 0===n?void 0:n.own_capabilities:[]).sort().join(),this.data=r.channel,this.offlineMode=!1,u&&this.getClient().dispatchEvent({type:"capabilities.changed",cid:this.cid,own_capabilities:r.channel.own_capabilities}),this.getClient().dispatchEvent({type:"channels.queried",queriedChannels:{channels:[r],isLatestMessageSet:l.isLatest}}),e.abrupt("return",r);case 17:case"end":return e.stop()}},e,this)})),function(e){return U.apply(this,arguments)})},{key:"banUser",value:(M=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().banUser(t,ef(ef({},i),{},{type:this.type,id:this.id}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return M.apply(this,arguments)})},{key:"hide",value:(F=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,i=n.length>1&&void 0!==n[1]&&n[1],this._checkInitialized(),e.next=5,this.getClient().post("".concat(this._channelURL(),"/hide"),{user_id:t,clear_history:i});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)})},{key:"show",value:(B=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,this._checkInitialized(),e.next=4,this.getClient().post("".concat(this._channelURL(),"/show"),{user_id:t});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})},{key:"unbanUser",value:($=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().unbanUser(t,{type:this.type,id:this.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return $.apply(this,arguments)})},{key:"shadowBan",value:(z=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().shadowBan(t,ef(ef({},i),{},{type:this.type,id:this.id}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return z.apply(this,arguments)})},{key:"removeShadowBan",value:(V=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkInitialized(),e.next=3,this.getClient().removeShadowBan(t,{type:this.type,id:this.id});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return V.apply(this,arguments)})},{key:"createCall",value:(W=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClient().post(this._channelURL()+"/call",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return W.apply(this,arguments)})},{key:"on",value:function(e,t){var i=this,n=t?e:"all",s=t||e;return n in this.listeners||(this.listeners[n]=[]),this._client.logger("info","Attaching listener for ".concat(n," event on channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[n].push(s),{unsubscribe:function(){i._client.logger("info","Removing listener for ".concat(n," event from channel ").concat(i.cid),{tags:["event","channel"],channel:i}),i.listeners[n]=i.listeners[n].filter(function(e){return e!==s})}}}},{key:"off",value:function(e,t){var i=t?e:"all",n=t||e;i in this.listeners||(this.listeners[i]=[]),this._client.logger("info","Removing listener for ".concat(i," event from channel ").concat(this.cid),{tags:["event","channel"],channel:this}),this.listeners[i]=this.listeners[i].filter(function(e){return e!==n})}},{key:"_handleChannelEvent",value:function(e){this._client.logger("info","channel:_handleChannelEvent - Received event of type { ".concat(e.type," } on ").concat(this.cid),{tags:["event","channel"],channel:this});var t,i,n,s,a,r,o,c,l=this.state;switch(e.type){case"typing.start":null!==(u=e.user)&&void 0!==u&&u.id&&(l.typing[e.user.id]=e);break;case"typing.stop":null!==(p=e.user)&&void 0!==p&&p.id&&delete l.typing[e.user.id];break;case"message.read":null!==(d=e.user)&&void 0!==d&&d.id&&e.created_at&&(l.read[e.user.id]={last_read:new Date(e.created_at),last_read_message_id:e.last_read_message_id,user:e.user,unread_messages:0},(null===(_=e.user)||void 0===_?void 0:_.id)===(null===(k=this.getClient().user)||void 0===k?void 0:k.id)&&(l.unreadCount=0));break;case"user.watching.start":case"user.updated":null!==(h=e.user)&&void 0!==h&&h.id&&(l.watchers[e.user.id]=e.user);break;case"user.watching.stop":null!==(m=e.user)&&void 0!==m&&m.id&&delete l.watchers[e.user.id];break;case"message.deleted":e.message&&(this._extendEventWithOwnReactions(e),e.hard_delete?l.removeMessage(e.message):l.addMessageSorted(e.message,!1,!1),l.removeQuotedMessageReferences(e.message),e.message.pinned&&l.removePinnedMessage(e.message));break;case"message.new":if(e.message){var u,p,d,h,m,f,g,v,b,x,y,w,_,k,S,E,C,T=(null===(S=e.user)||void 0===S?void 0:S.id)===(null===(E=this.getClient().user)||void 0===E?void 0:E.id),R=e.message.parent_id&&!e.message.show_in_channel;if((this.state.isUpToDate||R)&&l.addMessageSorted(e.message,T),e.message.pinned&&l.addPinnedMessage(e.message),T||R)break;if(null!==(C=e.user)&&void 0!==C&&C.id)for(var O in l.read)O===e.user.id?l.read[e.user.id]={last_read:new Date(e.created_at),user:e.user,unread_messages:0}:l.read[O].unread_messages+=1;this._countMessageAsUnread(e.message)&&(l.unreadCount=l.unreadCount+1)}break;case"message.updated":case"message.undeleted":e.message&&(this._extendEventWithOwnReactions(e),l.addMessageSorted(e.message,!1,!1),e.message.pinned?l.addPinnedMessage(e.message):l.removePinnedMessage(e.message));break;case"channel.truncated":if(null!==(f=e.channel)&&void 0!==f&&f.truncated_at){var I=+new Date(e.channel.truncated_at);l.messageSets.forEach(function(e,t){e.messages.forEach(function(e){var i=e.created_at,n=e.id;I>+i&&l.removeMessage({id:n,messageSetIndex:t})})}),l.pinnedMessages.forEach(function(e){var t=e.id;I>+e.created_at&&l.removePinnedMessage({id:t})})}else l.clearMessages();l.unreadCount=0,e.message&&(l.addMessageSorted(e.message),e.message.pinned&&l.addPinnedMessage(e.message));break;case"member.added":case"member.updated":null!==(g=e.member)&&void 0!==g&&g.user_id&&(l.members[e.member.user_id]=e.member);break;case"member.removed":null!==(v=e.user)&&void 0!==v&&v.id&&delete l.members[e.user.id];break;case"notification.mark_unread":if(!((null===(P=e.user)||void 0===P?void 0:P.id)===(null===(j=this.getClient().user)||void 0===j?void 0:j.id)&&e.user))break;var P,j,N,L=null!==(N=e.unread_messages)&&void 0!==N?N:0;l.read[e.user.id]={first_unread_message_id:e.first_unread_message_id,last_read:new Date(e.last_read_at),last_read_message_id:e.last_read_message_id,user:e.user,unread_messages:L},l.unreadCount=L;break;case"channel.updated":e.channel&&((null===(t=e.channel)||void 0===t?void 0:t.frozen)!==void 0&&e.channel.frozen!==(null===(i=this.data)||void 0===i?void 0:i.frozen)&&this.query({state:!1,messages:{limit:0},watchers:{limit:0}}),this.data=ef(ef({},e.channel),{},{hidden:null!==(n=null===(s=e.channel)||void 0===s?void 0:s.hidden)&&void 0!==n?n:null===(a=this.data)||void 0===a?void 0:a.hidden,own_capabilities:null!==(r=null===(o=e.channel)||void 0===o?void 0:o.own_capabilities)&&void 0!==r?r:null===(c=this.data)||void 0===c?void 0:c.own_capabilities}));break;case"reaction.new":e.message&&e.reaction&&(e.message=l.addReaction(e.reaction,e.message));break;case"reaction.deleted":e.reaction&&(e.message=l.removeReaction(e.reaction,e.message));break;case"reaction.updated":e.reaction&&(e.message=l.addReaction(e.reaction,e.message,!0));break;case"channel.hidden":this.data=ef(ef({},this.data),{},{hidden:!0}),e.clear_history&&l.clearMessages();break;case"channel.visible":this.data=ef(ef({},this.data),{},{hidden:!1});break;case"user.banned":if(!(null!==(b=e.user)&&void 0!==b&&b.id))break;l.members[e.user.id]=ef(ef({},l.members[e.user.id]||{}),{},{shadow_banned:!!e.shadow,banned:!e.shadow,user:ef(ef({},(null===(x=l.members[e.user.id])||void 0===x?void 0:x.user)||{}),e.user)});break;case"user.unbanned":if(!(null!==(y=e.user)&&void 0!==y&&y.id))break;l.members[e.user.id]=ef(ef({},l.members[e.user.id]||{}),{},{shadow_banned:!1,banned:!1,user:ef(ef({},(null===(w=l.members[e.user.id])||void 0===w?void 0:w.user)||{}),e.user)})}void 0!==e.watcher_count&&(this.state.watcher_count=e.watcher_count)}},{key:"_checkInitialized",value:function(){if(!this.initialized&&!this.offlineMode&&!this.getClient()._isUsingServerAuth())throw Error("Channel ".concat(this.cid," hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve"))}},{key:"_initializeState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",i=this.getClient(),n=i.state,s=i.user,a=i.userID;if(e.members){var r,o=ed(e.members);try{for(o.s();!(r=o.n()).done;){var c=r.value;c.user&&n.updateUserReference(c.user,this.cid)}}catch(e){o.e(e)}finally{o.f()}}this.state.membership=e.membership||{};var l=e.messages||[];this.state.messages||this.state.initMessages();var u=this.state.addMessagesSorted(l,!1,!0,!0,t).messageSet;if(this.state.pinnedMessages||(this.state.pinnedMessages=[]),this.state.addPinnedMessages(e.pinned_messages||[]),e.pending_messages&&(this.state.pending_messages=e.pending_messages),void 0!==e.watcher_count&&(this.state.watcher_count=e.watcher_count),e.watchers){var p,d=ed(e.watchers);try{for(d.s();!(p=d.n()).done;){var h=p.value;h&&(n.updateUserReference(h,this.cid),this.state.watchers[h.id]=h)}}catch(e){d.e(e)}finally{d.f()}}if(null!=a){var m=this.state.last_message_at||new Date;s&&(this.state.read[s.id]={user:s,last_read:m,unread_messages:0})}if(e.read){var f,g=ed(e.read);try{for(g.s();!(f=g.n()).done;){var v,b=f.value;this.state.read[b.user.id]={last_read:new Date(b.last_read),last_read_message_id:b.last_read_message_id,unread_messages:null!==(v=b.unread_messages)&&void 0!==v?v:0,user:b.user},b.user.id===(null==s?void 0:s.id)&&(this.state.unreadCount=this.state.read[b.user.id].unread_messages)}}catch(e){g.e(e)}finally{g.f()}}return e.members&&(this.state.members=e.members.reduce(function(e,t){return t.user&&(e[t.user.id]=t),e},{})),{messageSet:u}}},{key:"_extendEventWithOwnReactions",value:function(e){if(e.message){var t=this.state.findMessage(e.message.id,e.message.parent_id);t&&(e.message.own_reactions=t.own_reactions)}}},{key:"_disconnect",value:function(){this._client.logger("info","channel:disconnect() - Disconnecting the channel ".concat(this.cid),{tags:["connection","channel"],channel:this}),this.disconnected=!0,this.state.setIsUpToDate(!1)}}]),q}();function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var eb=function(){function e(){g()(this,e),y()(this,"users",void 0),y()(this,"userChannelReferences",void 0),this.users={},this.userChannelReferences={}}return b()(e,[{key:"updateUsers",value:function(e){var t,i=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return ev(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ev(e,t)}}(e))){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;this.updateUser(n)}}catch(e){i.e(e)}finally{i.f()}}},{key:"updateUser",value:function(e){null!=e&&(this.users[e.id]=e)}},{key:"updateUserReference",value:function(e,t){null!=e&&(this.updateUser(e),this.userChannelReferences[e.id]||(this.userChannelReferences[e.id]={}),this.userChannelReferences[e.id][t]=!0)}},{key:"deleteAllChannelReference",value:function(e){for(var t in this.userChannelReferences)delete this.userChannelReferences[t][e]}}]),e}();function ex(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ey(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ex(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ew=function e(){g()(this,e),y()(this,"connectionStartTimestamp",void 0),y()(this,"wsConsecutiveFailures",void 0),y()(this,"wsTotalFailures",void 0),y()(this,"instanceClientId",void 0),this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=en()},e_=function(){var e=m()(_().mark(function e(t,i){var n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=3,s=0;case 2:if(!(s<n)){e.next=17;break}return e.prev=3,e.next=6,k.default.post("https://chat-insights.getstream.io/insights/".concat(t),i);case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(3),e.next=12,X((s+1)*3e3);case 12:return e.abrupt("continue",14);case 13:return e.abrupt("break",17);case 14:s++,e.next=2;break;case 17:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t,i){return e.apply(this,arguments)}}();function ek(e){var t,i,n,s=e.client;return{ready_state:null===(t=e.ws)||void 0===t?void 0:t.readyState,url:e._buildUrl(),api_key:s.key,start_ts:s.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:s.getAuthType(),token:s.tokenManager.token,user_id:s.userID,user_details:s._user,device:s.options.device,client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:s.insightMetrics.wsConsecutiveFailures,ws_total_failures:s.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?null===(i=navigator)||void 0===i?void 0:i.onLine:null,user_agent:"undefined"!=typeof navigator?null===(n=navigator)||void 0===n?void 0:n.userAgent:null,instance_client_id:s.insightMetrics.instanceClientId}}function eS(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}var eE=function(){var e,t,i,n;function s(e){var t=this,i=e.client;g()(this,s),y()(this,"client",void 0),y()(this,"connectionID",void 0),y()(this,"connectionOpen",void 0),y()(this,"consecutiveFailures",void 0),y()(this,"pingInterval",void 0),y()(this,"healthCheckTimeoutRef",void 0),y()(this,"isConnecting",void 0),y()(this,"isDisconnected",void 0),y()(this,"isHealthy",void 0),y()(this,"isResolved",void 0),y()(this,"lastEvent",void 0),y()(this,"connectionCheckTimeout",void 0),y()(this,"connectionCheckTimeoutRef",void 0),y()(this,"rejectPromise",void 0),y()(this,"requestID",void 0),y()(this,"resolvePromise",void 0),y()(this,"totalFailures",void 0),y()(this,"ws",void 0),y()(this,"wsID",void 0),y()(this,"_buildUrl",function(){var e=encodeURIComponent(t.client._buildWSPayload(t.requestID)),i=t.client.tokenManager.getToken();return"".concat(t.client.wsBaseURL,"/connect?json=").concat(e,"&api_key=").concat(t.client.key,"&authorization=").concat(i,"&stream-auth-type=").concat(t.client.getAuthType(),"&X-Stream-Client=").concat(t.client.getUserAgent())}),y()(this,"onlineStatusChanged",function(e){"offline"===e.type?(t._log("onlineStatusChanged() - Status changing to offline"),t._setHealth(!1)):"online"!==e.type||(t._log("onlineStatusChanged() - Status changing to online. isHealthy: ".concat(t.isHealthy)),t.isHealthy||t._reconnect({interval:10}))}),y()(this,"onopen",function(e){t.wsID===e&&t._log("onopen() - onopen callback",{wsID:e})}),y()(this,"onmessage",function(e,i){if(t.wsID===e){t._log("onmessage() - onmessage callback",{event:i,wsID:e});var n,s,a="string"==typeof i.data?JSON.parse(i.data):null;if(!t.isResolved&&a){if(t.isResolved=!0,a.error){null===(s=t.rejectPromise)||void 0===s||s.call(t,t._errorFromWSEvent(a,!1));return}null===(n=t.resolvePromise)||void 0===n||n.call(t,a),t._setHealth(!0)}t.lastEvent=new Date,a&&"health.check"===a.type&&t.scheduleNextPing(),t.client.handleEvent(i),t.scheduleConnectionCheck()}}),y()(this,"onclose",function(e,i){if(t.wsID===e){if(t._log("onclose() - onclose callback - "+i.code,{event:i,wsID:e}),i.code===Q.WS_CLOSED_SUCCESS){var n,s,a=Error("WS connection reject with error ".concat(i.reason));a.reason=i.reason,a.code=i.code,a.wasClean=i.wasClean,a.target=i.target,null===(s=t.rejectPromise)||void 0===s||s.call(t,a),t._log("onclose() - WS connection reject with error ".concat(i.reason),{event:i})}else t.consecutiveFailures+=1,t.totalFailures+=1,t._setHealth(!1),t.isConnecting=!1,null===(n=t.rejectPromise)||void 0===n||n.call(t,t._errorFromWSEvent(i)),t._log("onclose() - WS connection closed. Calling reconnect ...",{event:i}),t._reconnect()}}),y()(this,"onerror",function(e,i){var n;t.wsID===e&&(t.consecutiveFailures+=1,t.totalFailures+=1,t._setHealth(!1),t.isConnecting=!1,null===(n=t.rejectPromise)||void 0===n||n.call(t,t._errorFromWSEvent(i)),t._log("onerror() - WS connection resulted into error",{event:i}),t._reconnect())}),y()(this,"_setHealth",function(e){if(e!==t.isHealthy){if(t.isHealthy=e,t.isHealthy){t.client.dispatchEvent({type:"connection.changed",online:t.isHealthy});return}setTimeout(function(){t.isHealthy||t.client.dispatchEvent({type:"connection.changed",online:t.isHealthy})},5e3)}}),y()(this,"_errorFromWSEvent",function(e){var i,n,s,a=!(arguments.length>1)||void 0===arguments[1]||arguments[1];void 0!==e.code&&(i=e.code,n="unknown",s=e.reason),void 0!==e.error&&(i=e.error.code,n=e.error.StatusCode,s=e.error.message),t._log("_errorFromWSEvent() - WS failed with code ".concat(i),{event:e},"warn");var r=Error("WS failed with code ".concat(i," and reason - ").concat(s));return r.code=i,r.StatusCode=n,r.isWSFailure=a,r}),y()(this,"_setupConnectionPromise",function(){t.isResolved=!1,t.connectionOpen=new Promise(function(e,i){t.resolvePromise=e,t.rejectPromise=i})}),y()(this,"scheduleNextPing",function(){t.healthCheckTimeoutRef&&clearTimeout(t.healthCheckTimeoutRef),t.healthCheckTimeoutRef=setTimeout(function(){var e,i=[{type:"health.check",client_id:t.client.clientID}];try{null===(e=t.ws)||void 0===e||e.send(JSON.stringify(i))}catch(e){}},t.pingInterval)}),y()(this,"scheduleConnectionCheck",function(){t.connectionCheckTimeoutRef&&clearTimeout(t.connectionCheckTimeoutRef),t.connectionCheckTimeoutRef=setTimeout(function(){var e=new Date;t.lastEvent&&e.getTime()-t.lastEvent.getTime()>t.connectionCheckTimeout&&(t._log("scheduleConnectionCheck - going to reconnect"),t._setHealth(!1),t._reconnect())},t.connectionCheckTimeout)}),this.client=i,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}return b()(s,[{key:"_log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";this.client.logger(i,"connection:"+e,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eS(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({tags:["connection"]},t))}},{key:"setClient",value:function(e){this.client=e}},{key:"connect",value:(e=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:15e3,!this.isConnecting){e.next=3;break}throw Error("You've called connect twice, can only attempt 1 connection at the time");case 3:return this.isDisconnected=!1,e.prev=4,e.next=7,this._connect();case 7:i=e.sent,this.consecutiveFailures=0,this._log("connect() - Established ws connection with healthcheck: ".concat(i)),e.next=23;break;case 12:if(e.prev=12,e.t0=e.catch(4),this.isHealthy=!1,this.consecutiveFailures+=1,!(e.t0.code===Q.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())){e.next=21;break}this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}),e.next=23;break;case 21:if(e.t0.isWSFailure){e.next=23;break}throw Error(JSON.stringify({code:e.t0.code,StatusCode:e.t0.StatusCode,message:e.t0.message,isWSFailure:e.t0.isWSFailure}));case 23:return e.next=25,this._waitForHealthy(t);case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}},e,this,[[4,12]])})),function(){return e.apply(this,arguments)})},{key:"_waitForHealthy",value:(t=m()(_().mark(function e(){var t,i=this,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:15e3,e.abrupt("return",Promise.race([m()(_().mark(function e(){var n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=50,s=0;case 2:if(!(s<=t)){e.next=18;break}return e.prev=3,e.next=6,i.connectionOpen;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),s!==t){e.next=13;break}throw Error(JSON.stringify({code:e.t0.code,StatusCode:e.t0.StatusCode,message:e.t0.message,isWSFailure:e.t0.isWSFailure}));case 13:return e.next=15,X(n);case 15:s+=n,e.next=2;break;case 18:case"end":return e.stop()}},e,null,[[3,9]])}))(),m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:throw i.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}));case 4:case"end":return e.stop()}},e)}))()]));case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"disconnect",value:function(e){var t,i=this;this._log("disconnect() - Closing the websocket connection for wsID ".concat(this.wsID)),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();var n=this.ws;return n&&n.close&&n.readyState===n.OPEN?(t=new Promise(function(t){var s=function(e){i._log("disconnect() - resolving isClosedPromise ".concat(e?"with":"without"," close frame"),{event:e}),t()};n.onclose=s,setTimeout(s,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),n.close(Q.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}},{key:"_connect",value:(i=m()(_().mark(function e(){var t,i,n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)){e.next=2;break}return e.abrupt("return");case 2:return this.isConnecting=!0,this.requestID=en(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime(),t=!1,e.prev=6,this._log("_connect() - waiting for token"),e.next=10,this.client.tokenManager.tokenReady();case 10:t=!0,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:if(e.prev=15,t){e.next=20;break}return this._log("_connect() - tokenProvider failed before, so going to retry"),e.next=20,this.client.tokenManager.loadToken();case 20:return this._setupConnectionPromise(),i=this._buildUrl(),this._log("_connect() - Connecting to ".concat(i),{wsURL:i,requestID:this.requestID}),this.ws=new(P())(i),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID),e.next=30,this.connectionOpen;case 30:if(n=e.sent,this.isConnecting=!1,!n){e.next=36;break}return this.connectionID=n.connection_id,this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(e_("ws_success_after_failure",ek(this)),this.client.insightMetrics.wsConsecutiveFailures=0),e.abrupt("return",n);case 36:e.next=44;break;case 38:throw e.prev=38,e.t1=e.catch(15),this.isConnecting=!1,this._log("_connect() - Error - ",e.t1),this.client.options.enableInsights&&(this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++,s=ey(ey({},function(e){var t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(function(i){t[i]=Object.getOwnPropertyDescriptor(e,i)})}catch(e){return{error:"failed to serialize the error"}}return t}(e.t1)),ek(this)),null==e_||e_("ws_fatal",s)),e.t1;case 44:case"end":return e.stop()}},e,this,[[6,13],[15,38]])})),function(){return i.apply(this,arguments)})},{key:"_reconnect",value:(n=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{},this._log("_reconnect() - Initiating the reconnect"),!(this.isConnecting||this.isHealthy)){e.next=5;break}return this._log("_reconnect() - Abort (1) since already connecting or healthy"),e.abrupt("return");case 5:return(i=t.interval)||(i=et(this.consecutiveFailures)),e.next=9,X(i);case 9:if(!(this.isConnecting||this.isHealthy)){e.next=12;break}return this._log("_reconnect() - Abort (2) since already connecting or healthy"),e.abrupt("return");case 12:if(!(this.isDisconnected&&this.client.options.enableWSFallback)){e.next=15;break}return this._log("_reconnect() - Abort (3) since disconnect() is called"),e.abrupt("return");case 15:if(this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),!t.refreshToken){e.next=20;break}return e.next=20,this.client.tokenManager.loadToken();case 20:return e.prev=20,e.next=23,this._connect();case 23:return this._log("_reconnect() - Waiting for recoverCallBack"),e.next=26,this.client.recoverState();case 26:this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0,e.next=38;break;case 30:if(e.prev=30,e.t0=e.catch(20),this.isHealthy=!1,this.consecutiveFailures+=1,!(e.t0.code===Q.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())){e.next=37;break}return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),e.abrupt("return",this._reconnect({refreshToken:!0}));case 37:e.t0.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect());case 38:this._log("_reconnect() - == END ==");case 39:case"end":return e.stop()}},e,this,[[20,30]])})),function(){return n.apply(this,arguments)})},{key:"_destroyCurrentWSConnection",value:function(){this.wsID+=1;try{var e,t;this===null||void 0===this||null===(e=this.ws)||void 0===e||e.removeAllListeners(),this===null||void 0===this||null===(t=this.ws)||void 0===t||t.close()}catch(e){}}}]),s}();function eC(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eT(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof t)throw TypeError("userId should be a string");var s=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eC(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({user_id:t},i);if(null==N()||null==N().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");var a=r()({algorithm:"HS256",noTimestamp:!0},n);return s.iat&&(a.noTimestamp=!1),N().sign(s,e,a)}function eR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r()({algorithm:"HS256",noTimestamp:!0},t);return N().sign({server:!0},e,i)}var eO=function e(t){var i,n=this;g()(this,e),y()(this,"loadTokenPromise",void 0),y()(this,"type",void 0),y()(this,"secret",void 0),y()(this,"token",void 0),y()(this,"tokenProvider",void 0),y()(this,"user",void 0),y()(this,"setTokenOrProvider",(i=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.validateToken(t,i),n.user=i,Z(t)&&(n.tokenProvider=t,n.type="provider"),"string"==typeof t&&(n.token=t,n.type="static"),!t&&n.user&&n.secret&&(n.token=eT(n.secret,i.id,{},{}),n.type="static"),e.next=7,n.loadToken();case 7:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})),y()(this,"reset",function(){n.token=void 0,n.user=void 0,n.loadTokenPromise=null}),y()(this,"validateToken",function(e,t){if(!t||!t.anon||e){if(!n.secret&&!e)throw Error("User token can not be empty");if(e&&"string"!=typeof e&&!Z(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(t.anon&&""===e)return;var i,s=3!==(i=e.split(".")).length?"":JSON.parse(G(i[1])).user_id;if(null!=e&&(null==s||""===s||s!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}}),y()(this,"tokenReady",function(){return n.loadTokenPromise}),y()(this,"loadToken",function(){var e;return n.loadTokenPromise=new Promise((e=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("static"!==n.type){e.next=2;break}return e.abrupt("return",t(n.token));case 2:if(!(n.tokenProvider&&"string"!=typeof n.tokenProvider)){e.next=13;break}return e.prev=3,e.next=6,n.tokenProvider();case 6:n.token=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",i(Error("Call to tokenProvider failed with message: ".concat(e.t0))));case 12:t(n.token);case 13:case"end":return e.stop()}},e,null,[[3,9]])})),function(t,i){return e.apply(this,arguments)})),n.loadTokenPromise}),y()(this,"getToken",function(){if(n.token||n.user&&n.user.anon&&!n.token)return n.token;if(n.secret)return eR(n.secret);throw Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")}),y()(this,"isStatic",function(){return"static"===n.type}),this.loadTokenPromise=null,t&&(this.secret=t),this.type="static",this.secret&&(this.token=eR(this.secret))},eI={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function eP(e){if(!e.code)return!1;var t=eI["".concat(e.code)];return!!t&&t.retryable}function ej(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eN(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ej(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(n||(n={}));var eL=function(){function e(t){var i,s=this,a=t.client;g()(this,e),y()(this,"client",void 0),y()(this,"state",void 0),y()(this,"consecutiveFailures",void 0),y()(this,"connectionID",void 0),y()(this,"cancelToken",void 0),y()(this,"_onlineStatusChanged",function(e){if(s._log("_onlineStatusChanged() - ".concat(e.type)),"offline"===e.type){var t;s._setState(n.Closed),null===(t=s.cancelToken)||void 0===t||t.cancel("disconnect() is called"),s.cancelToken=void 0;return}"online"===e.type&&s.state===n.Closed&&s.connect(!0)}),y()(this,"_req",(i=m()(_().mark(function e(t,i,n){var a,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.cancelToken||t.close||(s.cancelToken=k.default.CancelToken.source()),e.prev=1,e.next=4,s.client.doAxiosRequest("get",s.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:eN(eN({},i),{},{cancelToken:null===(a=s.cancelToken)||void 0===a?void 0:a.token}),params:t});case 4:return r=e.sent,s.consecutiveFailures=0,e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(1),s.consecutiveFailures+=1,!(n&&eP(e.t0))){e.next=17;break}return s._log("_req() - Retryable error, retrying request"),e.next=16,X(et(s.consecutiveFailures));case 16:return e.abrupt("return",s._req(t,i,n));case 17:throw e.t0;case 18:case"end":return e.stop()}},e,null,[[1,9]])})),function(e,t,n){return i.apply(this,arguments)})),y()(this,"_poll",m()(_().mark(function e(){var t,i,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.state!==n.Connected){e.next=25;break}return e.prev=1,e.next=4,s._req({},{timeout:3e4},!0);case 4:if(null!==(t=(i=e.sent).events)&&void 0!==t&&t.length)for(a=0;a<i.events.length;a++)s.client.dispatchEvent(i.events[a]);e.next=23;break;case 8:if(e.prev=8,e.t0=e.catch(1),!k.default.isCancel(e.t0)){e.next=13;break}return s._log("_poll() - axios canceled request"),e.abrupt("return");case 13:if(46!==e.t0.code){e.next=18;break}return s._log("_poll() - ConnectionID error, connecting without ID..."),s._setState(n.Disconnected),s.connect(!0),e.abrupt("return");case 18:if(!(void 0!==e.t0.code&&!eP(e.t0))){e.next=21;break}return s._setState(n.Closed),e.abrupt("return");case 21:return e.next=23,X(et(s.consecutiveFailures));case 23:e.next=0;break;case 25:case"end":return e.stop()}},e,null,[[1,8]])}))),y()(this,"connect",m()(_().mark(function e(){var t,i,a=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],s.state!==n.Connecting){e.next=4;break}return s._log("connect() - connecting already in progress",{reconnect:t},"warn"),e.abrupt("return");case 4:if(s.state!==n.Connected){e.next=7;break}return s._log("connect() - already connected and polling",{reconnect:t},"warn"),e.abrupt("return");case 7:return s._setState(n.Connecting),s.connectionID=void 0,e.prev=9,e.next=12,s._req({json:s.client._buildWSPayload()},{timeout:8e3},t);case 12:return i=e.sent.event,s._setState(n.Connected),s.connectionID=i.connection_id,s.client.dispatchEvent(i),s._poll(),t&&s.client.recoverState(),e.abrupt("return",i);case 22:throw e.prev=22,e.t0=e.catch(9),s._setState(n.Closed),e.t0;case 26:case"end":return e.stop()}},e,null,[[9,22]])}))),y()(this,"isHealthy",function(){return!!s.connectionID&&s.state===n.Connected}),y()(this,"disconnect",m()(_().mark(function e(){var t,i,a,r=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>0&&void 0!==r[0]?r[0]:2e3,s._onlineStatusChanged,s._setState(n.Disconnected),null===(t=s.cancelToken)||void 0===t||t.cancel("disconnect() is called"),s.cancelToken=void 0,a=s.connectionID,s.connectionID=void 0,e.prev=7,e.next=10,s._req({close:!0,connection_id:a},{timeout:i},!1);case 10:s._log("disconnect() - Closed connectionID"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),s._log("disconnect() - Failed",{err:e.t0},"error");case 16:case"end":return e.stop()}},e,null,[[7,13]])}))),this.client=a,this.state=n.Init,this.consecutiveFailures=0,this._onlineStatusChanged}return b()(e,[{key:"_log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";this.client.logger(i,"WSConnectionFallback:"+e,eN({tags:["connection_fallback","connection"]},t))}},{key:"_setState",value:function(e){this._log("_setState() - ".concat(e)),this.state===n.Connecting&&e===n.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===n.Closed||e===n.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}]),e}(),eA=function(){var e,t,i,n,s,a;function r(e,t,i){g()(this,r),y()(this,"id",void 0),y()(this,"data",void 0),y()(this,"client",void 0),this.client=e,this.id=t,this.data=i}return b()(r,[{key:"create",value:(e=m()(_().mark(function e(){var t,i,n,s,a,r,o,c,l,u;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={id:this.id,message_template:null===(t=this.data)||void 0===t?void 0:t.message_template,segment_ids:null===(i=this.data)||void 0===i?void 0:i.segment_ids,sender_id:null===(n=this.data)||void 0===n?void 0:n.sender_id,channel_template:null===(s=this.data)||void 0===s?void 0:s.channel_template,create_channels:null===(a=this.data)||void 0===a?void 0:a.create_channels,description:null===(r=this.data)||void 0===r?void 0:r.description,name:null===(o=this.data)||void 0===o?void 0:o.name,user_ids:null===(c=this.data)||void 0===c?void 0:c.user_ids},e.next=3,this.client.createCampaign(l);case 3:return u=e.sent,this.id=u.campaign.id,this.data=u.campaign,e.abrupt("return",u);case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"verifyCampaignId",value:function(){if(!this.id)throw Error("Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)")}},{key:"start",value:(t=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifyCampaignId(),e.next=3,this.client.startCampaign(this.id,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"update",value:(i=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifyCampaignId(),e.abrupt("return",this.client.updateCampaign(this.id,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"delete",value:(n=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifyCampaignId(),e.next=3,this.client.deleteCampaign(this.id);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"stop",value:(s=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifyCampaignId(),e.abrupt("return",this.client.stopCampaign(this.id));case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"get",value:(a=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifyCampaignId(),e.abrupt("return",this.client.getCampaign(this.id));case 2:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}]),r}(),eD=function(){var e,t,i,n,s,a,r,o;function c(e,t,i,n){g()(this,c),y()(this,"type",void 0),y()(this,"id",void 0),y()(this,"client",void 0),y()(this,"data",void 0),this.client=e,this.type=t,this.id=i,this.data=n}return b()(c,[{key:"create",value:(e=m()(_().mark(function e(){var t,i,n,s,a,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:null===(t=this.data)||void 0===t?void 0:t.name,filter:null===(i=this.data)||void 0===i?void 0:i.filter,description:null===(n=this.data)||void 0===n?void 0:n.description,all_sender_channels:null===(s=this.data)||void 0===s?void 0:s.all_sender_channels,all_users:null===(a=this.data)||void 0===a?void 0:a.all_users},e.abrupt("return",this.client.createSegment(this.type,this.id,r));case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"verifySegmentId",value:function(){if(!this.id)throw Error("Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)")}},{key:"get",value:(t=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifySegmentId(),e.abrupt("return",this.client.getSegment(this.id));case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"update",value:(i=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifySegmentId(),e.abrupt("return",this.client.updateSegment(this.id,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"addTargets",value:(n=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifySegmentId(),e.abrupt("return",this.client.addSegmentTargets(this.id,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"removeTargets",value:(s=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifySegmentId(),e.abrupt("return",this.client.removeSegmentTargets(this.id,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"delete",value:(a=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifySegmentId(),e.abrupt("return",this.client.deleteSegment(this.id));case 2:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"targetExists",value:(r=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.verifySegmentId(),e.abrupt("return",this.client.segmentTargetExists(this.id,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"queryTargets",value:(o=m()(_().mark(function e(){var t,i,n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},i=s.length>1&&void 0!==s[1]?s[1]:[],n=s.length>2&&void 0!==s[2]?s[2]:{},this.verifySegmentId(),e.abrupt("return",this.client.querySegmentTargets(this.id,t,i,n));case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})}]),c}(),eU=function(e){F()(n,e);var t,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,i=V()(n);if(t){var s=V()(this).constructor;e=Reflect.construct(i,arguments,s)}else e=i.apply(this,arguments);return $()(this,e)});function n(){var e;g()(this,n);for(var t=arguments.length,s=Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=i.call.apply(i,[this].concat(s)),y()(U()(e),"code",void 0),y()(U()(e),"response",void 0),y()(U()(e),"status",void 0),e}return n}(q()(Error));function eM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eM(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var e$=function(){function e(t,i){if(g()(this,e),y()(this,"id",void 0),y()(this,"latestReplies",[]),y()(this,"participants",[]),y()(this,"message",void 0),y()(this,"channel",void 0),y()(this,"_channel",void 0),y()(this,"replyCount",0),y()(this,"_client",void 0),y()(this,"read",{}),this.id=i.parent_message.id,this.message=eo(i.parent_message),this.latestReplies=i.latest_replies.map(eo),this.participants=i.thread_participants,this.replyCount=i.reply_count,this.channel=i.channel,this._channel=t.channel(i.channel.type,i.channel.id),this._client=t,i.read){var n,s=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return eB(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eB(e,t)}}(e))){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}(i.read);try{for(s.s();!(n=s.n()).done;){var a=n.value;this.read[a.user.id]=eF(eF({},a),{},{last_read:new Date(a.last_read)})}}catch(e){s.e(e)}finally{s.f()}}}return b()(e,[{key:"getClient",value:function(){return this._client}},{key:"addReply",value:function(e){if(e.parent_id!==this.message.id)throw Error("Message does not belong to this thread");this.latestReplies=ec(this.latestReplies,eo(e),!0)}},{key:"updateReply",value:function(e){this.latestReplies=this.latestReplies.map(function(t){return t.id===e.id?eo(e):t})}},{key:"updateMessageOrReplyIfExists",value:function(e){if((e.parent_id||e.id===this.message.id)&&(!e.parent_id||e.parent_id===this.message.id)){if(e.parent_id&&e.parent_id===this.message.id){this.updateReply(e);return}e.parent_id||e.id!==this.message.id||(this.message=eo(e))}}},{key:"addReaction",value:function(e,t,i){var n=this;t&&(this.latestReplies=this.latestReplies.map(function(s){return s.id===t.id?eo(n._channel.state.addReaction(e,t,i)):s}))}},{key:"removeReaction",value:function(e,t){var i=this;t&&(this.latestReplies=this.latestReplies.map(function(n){return n.id===t.id?eo(i._channel.state.removeReaction(e,t)):n}))}}]),e}(),ez=["created_at","updated_at","last_active","online"],eV=["params","headers"];function eW(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return eq(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eq(e,t)}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function eH(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function eG(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(i),!0).forEach(function(t){y()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eH(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function eK(e){return"string"==typeof e||e instanceof String}var eJ=function(){var e,t,i,n,a,o,l,p,h,f,v,x,w,S,C,T,R,I,P,j,N,L,D,U,M,F,B,$,z,V,W,q,G,K,J,Y,ei,es,ea,eo,ec,el,eu,ep,ed,eh,em,ef,ev,ex,ey,ek,eS,eC,eR,eI,eP,ej,eN,eM,eF,eB,eq,eH,eJ,eY,eX,eZ,eQ,e0,e1,e2,e3,e4,e6,e5,e8,e9,e7,te,tt,ti,tn,ts,ta,tr,to;function tc(e,t,i){var n,s,a,r,o,c=this;g()(this,tc),y()(this,"_user",void 0),y()(this,"activeChannels",void 0),y()(this,"anonymous",void 0),y()(this,"persistUserOnConnectionFailure",void 0),y()(this,"axiosInstance",void 0),y()(this,"baseURL",void 0),y()(this,"browser",void 0),y()(this,"cleaningIntervalRef",void 0),y()(this,"clientID",void 0),y()(this,"configs",void 0),y()(this,"key",void 0),y()(this,"listeners",void 0),y()(this,"logger",void 0),y()(this,"recoverStateOnReconnect",void 0),y()(this,"mutedChannels",void 0),y()(this,"mutedUsers",void 0),y()(this,"node",void 0),y()(this,"options",void 0),y()(this,"secret",void 0),y()(this,"setUserPromise",void 0),y()(this,"state",void 0),y()(this,"tokenManager",void 0),y()(this,"user",void 0),y()(this,"userAgent",void 0),y()(this,"userID",void 0),y()(this,"wsBaseURL",void 0),y()(this,"wsConnection",void 0),y()(this,"wsFallback",void 0),y()(this,"wsPromise",void 0),y()(this,"consecutiveFailures",void 0),y()(this,"insightMetrics",void 0),y()(this,"defaultWSTimeoutWithFallback",void 0),y()(this,"defaultWSTimeout",void 0),y()(this,"nextRequestAbortController",null),y()(this,"_getConnectionID",function(){var e,t;return(null===(e=c.wsConnection)||void 0===e?void 0:e.connectionID)||(null===(t=c.wsFallback)||void 0===t?void 0:t.connectionID)}),y()(this,"_hasConnectionID",function(){return!!c._getConnectionID()}),y()(this,"connectUser",(n=m()(_().mark(function e(t,i){var n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}throw Error('The "id" field on the user is missing');case 2:if(!(c.userID===t.id&&c.setUserPromise)){e.next=5;break}return console.warn("Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),e.abrupt("return",c.setUserPromise);case 5:if(!c.userID){e.next=7;break}throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");case 7:return(c._isUsingServerAuth()||c.node)&&!c.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),c.userID=t.id,c.anonymous=!1,n=c._setToken(t,i),c._setUser(t),s=c.openConnection(),c.setUserPromise=Promise.all([n,s]).then(function(e){return e[1]}),e.prev=14,e.next=17,c.setUserPromise;case 17:return e.abrupt("return",e.sent);case 20:throw e.prev=20,e.t0=e.catch(14),c.persistUserOnConnectionFailure?c.closeConnection():c.disconnectUser(),e.t0;case 24:case"end":return e.stop()}},e,null,[[14,20]])})),function(e,t){return n.apply(this,arguments)})),y()(this,"setUser",this.connectUser),y()(this,"_setToken",function(e,t){return c.tokenManager.setTokenOrProvider(t,e)}),y()(this,"closeConnection",(s=m()(_().mark(function e(t){var i,n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=c.cleaningIntervalRef&&(clearInterval(c.cleaningIntervalRef),c.cleaningIntervalRef=void 0),e.next=3,Promise.all([null===(i=c.wsConnection)||void 0===i?void 0:i.disconnect(t),null===(n=c.wsFallback)||void 0===n?void 0:n.disconnect(t)]);case 3:return e.abrupt("return",Promise.resolve());case 4:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),y()(this,"openConnection",m()(_().mark(function e(){var t,i,n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.userID){e.next=2;break}throw Error("User is not set on client, use client.connectUser or client.connectAnonymousUser instead");case 2:if(!(null!==(t=c.wsConnection)&&void 0!==t&&t.isConnecting&&c.wsPromise)){e.next=5;break}return c.logger("info","client:openConnection() - connection already in progress",{tags:["connection","client"]}),e.abrupt("return",c.wsPromise);case 5:if(!((null!==(i=c.wsConnection)&&void 0!==i&&i.isHealthy||null!==(n=c.wsFallback)&&void 0!==n&&n.isHealthy())&&c._hasConnectionID())){e.next=8;break}return c.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists",{tags:["connection","client"]}),e.abrupt("return",Promise.resolve());case 8:return c.clientID="".concat(c.userID,"--").concat(en()),c.wsPromise=c.connect(),c._startCleaning(),e.abrupt("return",c.wsPromise);case 12:case"end":return e.stop()}},e)}))),y()(this,"_setupConnection",this.openConnection),y()(this,"_normalizeDate",function(e){if(e instanceof Date&&(e=e.toISOString()),""===e)throw Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e}),y()(this,"disconnectUser",(a=m()(_().mark(function e(t){var i,n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(c.logger("info","client:disconnect() - Disconnecting the client",{tags:["connection","client"]}),delete c.user,delete c._user,delete c.userID,c.anonymous=!1,i=c.closeConnection(t),n=0,s=Object.values(c.activeChannels);n<s.length;n++)s[n]._disconnect();return c.activeChannels={},c.state=new eb,setTimeout(c.tokenManager.reset),e.abrupt("return",i);case 11:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})),y()(this,"disconnect",this.disconnectUser),y()(this,"connectAnonymousUser",function(){(c._isUsingServerAuth()||c.node)&&!c.options.allowServerSideConnect&&console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),c.anonymous=!0,c.userID=en();var e={id:c.userID,anon:!0};return c._setToken(e,""),c._setUser(e),c._setupConnection()}),y()(this,"setAnonymousUser",this.connectAnonymousUser),y()(this,"doAxiosRequest",(r=m()(_().mark(function e(t,i,n){var s,a,r,o,l=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>3&&void 0!==l[3]?l[3]:{},e.next=3,c.tokenManager.tokenReady();case 3:a=c._enrichAxiosOptions(s),e.prev=4,c._logApiRequest(t,i,n,a),e.t0=t,e.next="get"===e.t0?9:"delete"===e.t0?13:"post"===e.t0?17:"postForm"===e.t0?21:"put"===e.t0?25:"patch"===e.t0?29:"options"===e.t0?33:37;break;case 9:return e.next=11,c.axiosInstance.get(i,a);case 11:case 15:case 19:case 23:case 27:case 31:case 35:return r=e.sent,e.abrupt("break",38);case 13:return e.next=15,c.axiosInstance.delete(i,a);case 17:return e.next=19,c.axiosInstance.post(i,n,a);case 21:return e.next=23,c.axiosInstance.postForm(i,n,a);case 25:return e.next=27,c.axiosInstance.put(i,n,a);case 29:return e.next=31,c.axiosInstance.patch(i,n,a);case 33:return e.next=35,c.axiosInstance.options(i,a);case 37:throw Error("Invalid request type");case 38:return c._logApiResponse(t,i,r),c.consecutiveFailures=0,e.abrupt("return",c.handleResponse(r));case 43:if(e.prev=43,e.t1=e.catch(4),e.t1.client_request_id=null===(o=a.headers)||void 0===o?void 0:o["x-client-request-id"],c._logApiError(t,i,e.t1),c.consecutiveFailures+=1,!e.t1.response){e.next=60;break}if(!(e.t1.response.data.code===Q.TOKEN_EXPIRED&&!c.tokenManager.isStatic())){e.next=57;break}if(!(c.consecutiveFailures>1)){e.next=53;break}return e.next=53,X(et(c.consecutiveFailures));case 53:return c.tokenManager.loadToken(),e.next=56,c.doAxiosRequest(t,i,n,s);case 56:return e.abrupt("return",e.sent);case 57:return e.abrupt("return",c.handleResponse(e.t1.response));case 60:throw e.t1;case 61:case"end":return e.stop()}},e,null,[[4,43]])})),function(e,t,i){return r.apply(this,arguments)})),y()(this,"dispatchEvent",function(e){e.received_at||(e.received_at=new Date);var t=c._handleClientEvent(e),i=e.cid,n=i?c.activeChannels[i]:void 0;n&&n._handleChannelEvent(e),c._callClientListeners(e),n&&n._callChannelListeners(e),t.forEach(function(e){return e()})}),y()(this,"handleEvent",function(e){var t=JSON.parse(e.data);c.dispatchEvent(t)}),y()(this,"_updateMemberWatcherReferences",function(e){var t=c.state.userChannelReferences[e.id]||{};for(var i in t){var n=c.activeChannels[i];null!=n&&n.state&&(n.state.members[e.id]&&(n.state.members[e.id].user=e),n.state.watchers[e.id]&&(n.state.watchers[e.id]=e),n.state.read[e.id]&&(n.state.read[e.id].user=e))}}),y()(this,"_updateUserReferences",this._updateMemberWatcherReferences),y()(this,"_updateUserMessageReferences",function(e){var t=c.state.userChannelReferences[e.id]||{};for(var i in t){var n=c.activeChannels[i];if(n){var s=n.state;null==s||s.updateUserMessages(e)}}}),y()(this,"_deleteUserMessageReference",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=c.state.userChannelReferences[e.id]||{};for(var n in i){var s=c.activeChannels[n].state;null==s||s.deleteUserMessages(e,t)}}),y()(this,"_handleUserEvent",function(e){if(e.user){if("user.presence.changed"===e.type||"user.updated"===e.type){if(e.user.id===c.userID){var t=eG({},c.user||{}),i=eG({},c._user||{});for(var n in c.user)n in e.user||({channel_mutes:!0,devices:!0,mutes:!0,total_unread_count:!0,unread_channels:!0,unread_count:!0,unread_threads:!0,invisible:!0,roles:!0})[n]||(delete t[n],delete i[n]);for(var s in e.user)i&&s in i&&(i[s]=e.user[s]);c._user=eG({},i),c.user=eG(eG({},t),e.user)}c.state.updateUser(e.user),c._updateMemberWatcherReferences(e.user)}"user.updated"===e.type&&c._updateUserMessageReferences(e.user),"user.deleted"===e.type&&e.user.deleted_at&&(e.mark_messages_deleted||e.hard_delete)&&c._deleteUserMessageReference(e.user,e.hard_delete)}}),y()(this,"_callClientListeners",function(e){var t=[];c.listeners.all&&t.push.apply(t,d()(c.listeners.all)),c.listeners[e.type]&&t.push.apply(t,d()(c.listeners[e.type]));for(var i=0;i<t.length;i++)(0,t[i])(e)}),y()(this,"recoverState",m()(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.logger("info","client:recoverState() - Start of recoverState with connectionID ".concat(c._getConnectionID()),{tags:["connection"]}),!((t=Object.keys(c.activeChannels)).length&&c.recoverStateOnReconnect)){e.next=10;break}return c.logger("info","client:recoverState() - Start the querying of ".concat(t.length," channels"),{tags:["connection","client"]}),e.next=6,c.queryChannels({cid:{$in:t}},{last_message_at:-1},{limit:30});case 6:c.logger("info","client:recoverState() - Querying channels finished",{tags:["connection","client"]}),c.dispatchEvent({type:"connection.recovered"}),e.next=11;break;case 10:c.dispatchEvent({type:"connection.recovered"});case 11:c.wsPromise=Promise.resolve(),c.setUserPromise=Promise.resolve();case 13:case"end":return e.stop()}},e)}))),y()(this,"getChannelByMembers",function(e,t){var i=d()(t.members||[]).sort().join(","),n="".concat(e,":!members-").concat(i);if(!i)throw Error("Please specify atleast one member when creating unique conversation");for(var s in c.activeChannels){var a=c.activeChannels[s];if(!a.disconnected&&(s===n||0===s.indexOf("".concat(e,":!members-"))&&Object.keys(a.state.members).sort().join(",")===i))return a}var r=new eg(c,e,void 0,t);return c.activeChannels[n]=r,r}),y()(this,"getChannelById",function(e,t,i){if("string"==typeof t&&~t.indexOf(":"))throw Error("Invalid channel id ".concat(t,", can't contain the : character"));var n="".concat(e,":").concat(t);if(n in c.activeChannels&&!c.activeChannels[n].disconnected){var s=c.activeChannels[n];return Object.keys(i).length>0&&(s.data=i,s._data=i),s}var a=new eg(c,e,t,i);return c.activeChannels[a.cid]=a,a}),y()(this,"updateUsers",this.upsertUsers),y()(this,"updateUser",this.upsertUser),y()(this,"_unblockMessage",this.unblockMessage),y()(this,"markAllRead",this.markChannelsRead),y()(this,"_isUsingServerAuth",function(){return!!c.secret}),y()(this,"_buildWSPayload",function(e){return JSON.stringify({user_id:c.userID,user_details:c._user,device:c.options.device,client_request_id:e})}),this.key=e,this.listeners={},this.state=new eb,this.mutedChannels=[],this.mutedUsers=[],t&&eK(t)&&(this.secret=t);var l=i||(t&&!eK(t)?t:{});this.browser=void 0!==l.browser&&l.browser,this.node=!this.browser,this.options=eG({timeout:3e3,withCredentials:!1,warmUp:!1,recoverStateOnReconnect:!0},l),this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(E()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.axiosInstance=k.default.create(this.options),this.setBaseURL(this.options.baseURL||"https://chat.stream-io-api.com"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL("http://"+process.env.STREAM_LOCAL_TEST_HOST),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.activeChannels={},this.configs={},this.anonymous=!1,this.persistUserOnConnectionFailure=null===(o=this.options)||void 0===o?void 0:o.persistUserOnConnectionFailure,this.tokenManager=new eO(this.secret),this.consecutiveFailures=0,this.insightMetrics=new ew,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.axiosInstance.defaults.paramsSerializer=er,this.logger=Z(l.logger)?l.logger:function(){return null},this.recoverStateOnReconnect=this.options.recoverStateOnReconnect}return b()(tc,[{key:"devToken",value:function(e){var t;return["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",(t=JSON.stringify({user_id:e}),(0,s.fromByteArray)(new Uint8Array(function(e,t){var i=[];if(H(e)&&t&&H(e)){for(var n=0,s=e.length;n<s;n++)if(e.charAt(n)){var a=t(e.charAt(n),n,e);i[n]=a}}else if(!H(e)&&!(t&&H(e))){for(var r=0,o=e.length;r<o;r++)if(r in e){var c=t(e[r],r,e);i[r]=c}}return i}(t,function(e){return e.charCodeAt(0)})))),"devtoken"].join(".")}},{key:"getAuthType",value:function(){return this.anonymous?"anonymous":"jwt"}},{key:"setBaseURL",value:function(e){this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")}},{key:"_setUser",value:function(e){this.user=e,this.userID=e.id,this._user=eG({},e)}},{key:"updateAppSettings",value:(e=m()(_().mark(function e(t){var i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return null!=(i=t.apn_config)&&i.p12_cert&&(t=eG(eG({},t),{},{apn_config:eG(eG({},i),{},{p12_cert:Buffer.from(i.p12_cert).toString("base64")})})),e.next=4,this.patch(this.baseURL+"/app",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"revokeTokens",value:(t=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateAppSettings({revoke_tokens_issued_before:this._normalizeDate(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"revokeUserToken",value:(i=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.revokeUsersToken([t],i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"revokeUsersToken",value:(n=m()(_().mark(function e(t,i){var n,s,a,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0===i?new Date().toISOString():this._normalizeDate(i),n=[],s=eW(t);try{for(s.s();!(a=s.n()).done;)r=a.value,n.push({id:r,set:{revoke_tokens_issued_before:i}})}catch(e){s.e(e)}finally{s.f()}return e.next=6,this.partialUpdateUsers(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getAppSettings",value:(a=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"testPushSettings",value:(o=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/check_push",eG(eG(eG(eG(eG(eG(eG({user_id:t},i.messageID?{message_id:i.messageID}:{}),i.apnTemplate?{apn_template:i.apnTemplate}:{}),i.firebaseTemplate?{firebase_template:i.firebaseTemplate}:{}),i.firebaseDataTemplate?{firebase_data_template:i.firebaseDataTemplate}:{}),i.skipDevices?{skip_devices:!0}:{}),i.pushProviderName?{push_provider_name:i.pushProviderName}:{}),i.pushProviderType?{push_provider_type:i.pushProviderType}:{}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"testSQSSettings",value:(l=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.post(this.baseURL+"/check_sqs",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"testSNSSettings",value:(p=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.post(this.baseURL+"/check_sns",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"setGuestUser",value:(h=m()(_().mark(function e(t){var i,n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.anonymous=!0,e.prev=1,e.next=4,this.post(this.baseURL+"/guest",{user:t});case 4:i=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),this.anonymous=!1,e.t0;case 11:return this.anonymous=!1,(n=i.user).created_at,n.updated_at,n.last_active,n.online,s=u()(n,ez),e.next=15,this.connectUser(s,i.access_token);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}},e,this,[[1,7]])})),function(e){return h.apply(this,arguments)})},{key:"createToken",value:function(e,t,i){if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");var n={};return t&&(n.exp=t),i&&(n.iat=i),eT(this.secret,e,n,{})}},{key:"on",value:function(e,t){var i=this,n=t?e:"all",s=t||e;return n in this.listeners||(this.listeners[n]=[]),this.logger("info","Attaching listener for ".concat(n," event"),{tags:["event","client"]}),this.listeners[n].push(s),{unsubscribe:function(){i.logger("info","Removing listener for ".concat(n," event"),{tags:["event","client"]}),i.listeners[n]=i.listeners[n].filter(function(e){return e!==s})}}}},{key:"off",value:function(e,t){var i=t?e:"all",n=t||e;i in this.listeners||(this.listeners[i]=[]),this.logger("info","Removing listener for ".concat(i," event"),{tags:["event","client"]}),this.listeners[i]=this.listeners[i].filter(function(e){return e!==n})}},{key:"_logApiRequest",value:function(e,t,i,n){this.logger("info","client: ".concat(e," - Request - ").concat(t),{tags:["api","api_request","client"],url:t,payload:i,config:n})}},{key:"_logApiResponse",value:function(e,t,i){this.logger("info","client:".concat(e," - Response - url: ").concat(t," > status ").concat(i.status),{tags:["api","api_response","client"],url:t,response:i})}},{key:"_logApiError",value:function(e,t,i){this.logger("error","client:".concat(e," - Error - url: ").concat(t),{tags:["api","api_response","client"],url:t,error:i})}},{key:"get",value:function(e,t){return this.doAxiosRequest("get",e,null,{params:t})}},{key:"put",value:function(e,t){return this.doAxiosRequest("put",e,t)}},{key:"post",value:function(e,t){return this.doAxiosRequest("post",e,t)}},{key:"patch",value:function(e,t){return this.doAxiosRequest("patch",e,t)}},{key:"delete",value:function(e,t){return this.doAxiosRequest("delete",e,null,{params:t})}},{key:"sendFile",value:function(e,t,i,n,s){var a,r,o,l,u=(a=t,r=i,o=n||"multipart/form-data",l=new(O()),null!==a&&"object"===c()(a)&&(a.readable||"function"==typeof a._read)||null!=a&&null!=a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)?r?l.append("file",a,r):l.append("file",a):l.append("file",{uri:a,name:r||a.split("/").reverse()[0],contentType:o||void 0,type:o||void 0}),l);return null!=s&&u.append("user",JSON.stringify(s)),this.doAxiosRequest("postForm",e,u,{headers:u.getHeaders?u.getHeaders():{},config:{timeout:0,maxContentLength:1/0,maxBodyLength:1/0}})}},{key:"errorFromResponse",value:function(e){var t;return t=new eU("StreamChat error HTTP code: ".concat(e.status)),e.data&&e.data.code&&((t=Error("StreamChat error code ".concat(e.data.code,": ").concat(e.data.message))).code=e.data.code),t.response=e,t.status=e.status,t}},{key:"handleResponse",value:function(e){var t=e.data;if(!e.status||e.status<200||300<=e.status)throw this.errorFromResponse(e);return t}},{key:"_handleClientEvent",value:function(e){var t,i,n,s=this,a=[];return this.logger("info","client:_handleClientEvent - Received event of type { ".concat(e.type," }"),{tags:["event","client"],event:e}),("user.presence.changed"===e.type||"user.updated"===e.type||"user.deleted"===e.type)&&this._handleUserEvent(e),"health.check"===e.type&&e.me&&(this.user=e.me,this.state.updateUser(e.me),this.mutedChannels=e.me.channel_mutes,this.mutedUsers=e.me.mutes),e.channel&&"notification.message_new"===e.type&&this._addChannelConfig(e.channel),"notification.channel_mutes_updated"===e.type&&null!==(i=e.me)&&void 0!==i&&i.channel_mutes&&(this.mutedChannels=e.me.channel_mutes),"notification.mutes_updated"===e.type&&null!==(n=e.me)&&void 0!==n&&n.mutes&&(this.mutedUsers=e.me.mutes),"notification.mark_read"===e.type&&0===e.unread_channels&&Object.keys(this.activeChannels).forEach(function(e){return s.activeChannels[e].state.unreadCount=0}),("channel.deleted"===e.type||"notification.channel_deleted"===e.type)&&e.cid&&(this.state.deleteAllChannelReference(e.cid),null===(t=this.activeChannels[e.cid])||void 0===t||t._disconnect(),a.push(function(){e.cid&&delete s.activeChannels[e.cid]})),a}},{key:"_muteStatus",value:function(e){for(var t,i=0;i<this.mutedChannels.length;i++){var n,s=this.mutedChannels[i];if((null===(n=s.channel)||void 0===n?void 0:n.cid)===e){t={muted:!s.expires||new Date(s.expires).getTime()>new Date().getTime(),createdAt:s.created_at?new Date(s.created_at):new Date,expiresAt:s.expires?new Date(s.expires):null};break}}return t||{muted:!1,createdAt:null,expiresAt:null}}},{key:"connect",value:(f=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.userID||!this._user)){e.next=2;break}throw Error("Call connectUser or connectAnonymousUser before starting the connection");case 2:if(this.wsBaseURL){e.next=4;break}throw Error("Websocket base url not set");case 4:if(this.clientID){e.next=6;break}throw Error("clientID is not set");case 6:if(!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new eE({client:this}),e.prev=8,!this.wsFallback){e.next=13;break}return e.next=12,this.wsFallback.connect();case 12:case 15:case 28:return e.abrupt("return",e.sent);case 13:return e.next=15,this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout);case 18:if(e.prev=18,e.t0=e.catch(8),!(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e.t0)&&function(){var e="undefined"!=typeof navigator?navigator:void 0;return e?"boolean"!=typeof e.onLine||e.onLine:(console.warn("isOnline failed to access window.navigator and assume browser is online"),!0)}())){e.next=29;break}return this.logger("info","client:connect() - WS failed, fallback to longpoll",{tags:["connection","client"]}),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new eL({client:this}),e.next=28,this.wsFallback.connect();case 29:throw e.t0;case 30:case"end":return e.stop()}},e,this,[[8,18]])})),function(){return f.apply(this,arguments)})},{key:"_sayHi",value:function(){var e=this,t=en();this.doAxiosRequest("get",this.baseURL+"/hi",null,{headers:{"x-client-request-id":t}}).catch(function(i){e.options.enableInsights&&e_("http_hi_failed",{api_key:e.key,err:i,client_request_id:t})})}},{key:"queryUsers",value:(v=m()(_().mark(function e(t){var i,n,s,a,r=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:[],n=r.length>2&&void 0!==r[2]?r[2]:{},s={presence:!1},e.next=5,this.wsPromise;case 5:return this._hasConnectionID()||(s.presence=!1),e.next=8,this.get(this.baseURL+"/users",{payload:eG(eG({filter_conditions:t,sort:ee(i)},s),n)});case 8:return a=e.sent,this.state.updateUsers(a.users),e.abrupt("return",a);case 11:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"queryBannedUsers",value:(x=m()(_().mark(function e(){var t,i,n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},i=s.length>1&&void 0!==s[1]?s[1]:[],n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=5,this.get(this.baseURL+"/query_banned_users",{payload:eG({filter_conditions:t,sort:ee(i)},n)});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)})},{key:"queryMessageFlags",value:(w=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this.get(this.baseURL+"/moderation/flags/message",{payload:eG({filter_conditions:t},i)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"queryChannels",value:(S=m()(_().mark(function e(t){var i,n,s,a,r,o,c=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>1&&void 0!==c[1]?c[1]:[],n=c.length>2&&void 0!==c[2]?c[2]:{},s=c.length>3&&void 0!==c[3]?c[3]:{},a={state:!0,watch:!0,presence:!1},e.next=6,this.wsPromise;case 6:return this._hasConnectionID()||(a.watch=!1),r=eG(eG({filter_conditions:t,sort:ee(i)},a),n),e.next=10,this.post(this.baseURL+"/channels",r);case 10:return o=e.sent,this.dispatchEvent({type:"channels.queried",queriedChannels:{channels:o.channels,isLatestMessageSet:!0}}),e.abrupt("return",this.hydrateActiveChannels(o.channels,s));case 13:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"hydrateActiveChannels",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.skipInitialization,s=i.offlineMode,a=void 0!==s&&s,r=eW(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;this._addChannelConfig(o.channel)}}catch(e){r.e(e)}finally{r.f()}var c,l=[],u=eW(t);try{for(u.s();!(c=u.n()).done;){var p=c.value,d=this.channel(p.channel.type,p.channel.id);d.data=p.channel,d.offlineMode=a,d.initialized=!a,void 0===n?d._initializeState(p,"latest"):n.includes(p.channel.id)||(d.state.clearMessages(),d._initializeState(p,"latest")),l.push(d)}}catch(e){u.e(e)}finally{u.f()}return l}},{key:"search",value:(C=m()(_().mark(function e(t,i){var n,s,a=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=a.length>2&&void 0!==a[2]?a[2]:{}).offset&&n.next)){e.next=3;break}throw Error("Cannot specify offset with next");case 3:if(s=eG(eG({filter_conditions:t},n),{},{sort:n.sort?ee(n.sort):void 0}),"string"!=typeof i){e.next=8;break}s.query=i,e.next=13;break;case 8:if("object"!==c()(i)){e.next=12;break}s.message_filter_conditions=i,e.next=13;break;case 12:throw Error("Invalid type ".concat(c()(i)," for query parameter"));case 13:return e.next=15,this.wsPromise;case 15:return e.next=17,this.get(this.baseURL+"/search",{payload:s});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,this)})),function(e,t){return C.apply(this,arguments)})},{key:"setLocalDevice",value:function(e){var t,i,n;if(null!==(t=this.wsConnection)&&void 0!==t&&t.isConnecting&&this.wsPromise||(null!==(i=this.wsConnection)&&void 0!==i&&i.isHealthy||null!==(n=this.wsFallback)&&void 0!==n&&n.isHealthy())&&this._hasConnectionID())throw Error("you can only set device before opening a websocket connection");this.options.device=e}},{key:"addDevice",value:(T=m()(_().mark(function e(t,i,n,s){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/devices",eG(eG({id:t,push_provider:i},null!=n?{user_id:n}:{}),null!=s?{push_provider_name:s}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t,i,n){return T.apply(this,arguments)})},{key:"getDevices",value:(R=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/devices",t?{user_id:t}:{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"getUnreadCount",value:(I=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/unread",t?{user_id:t}:{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return I.apply(this,arguments)})},{key:"getUnreadCountBatch",value:(P=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/unread_batch",{user_ids:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return P.apply(this,arguments)})},{key:"removeDevice",value:(j=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/devices",eG({id:t},i?{user_id:i}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return j.apply(this,arguments)})},{key:"getRateLimits",value:(N=m()(_().mark(function e(t){var i,n,s,a,r,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(i=t||{}).serverSide,s=i.web,a=i.android,r=i.ios,o=i.endpoints,e.abrupt("return",this.get(this.baseURL+"/rate_limits",{server_side:n,web:s,android:a,ios:r,endpoints:o?o.join(","):void 0}));case 2:case"end":return e.stop()}},e,this)})),function(e){return N.apply(this,arguments)})},{key:"_addChannelConfig",value:function(e){var t=e.cid,i=e.config;this.configs[t]=i}},{key:"channel",value:function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.userID&&!this._isUsingServerAuth())throw Error("Call connectUser or connectAnonymousUser before creating a channel");if(~e.indexOf(":"))throw Error("Invalid channel group ".concat(e,", can't contain the : character"));return t&&"object"===c()(t)?this.getChannelByMembers(e,t):!t&&"object"===c()(n)&&null!==(i=n.members)&&void 0!==i&&i.length?this.getChannelByMembers(e,n):t?this.getChannelById(e,t,n):new eg(this,e,void 0,n)}},{key:"partialUpdateUser",value:(L=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.partialUpdateUsers([t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return L.apply(this,arguments)})},{key:"upsertUsers",value:(D=m()(_().mark(function e(t){var i,n,s,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i={},n=eW(t),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=11;break}if((a=s.value).id){e.next=8;break}throw Error("User ID is required when updating a user");case 8:i[a.id]=a;case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:return e.next=21,this.post(this.baseURL+"/users",{users:i});case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}},e,this,[[2,13,16,19]])})),function(e){return D.apply(this,arguments)})},{key:"upsertUser",value:function(e){return this.upsertUsers([e])}},{key:"partialUpdateUsers",value:(U=m()(_().mark(function e(t){var i,n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=eW(t),e.prev=1,i.s();case 3:if((n=i.n()).done){e.next=9;break}if(n.value.id){e.next=7;break}throw Error("User ID is required when updating a user");case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:return e.next=19,this.patch(this.baseURL+"/users",{users:t});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},e,this,[[1,11,14,17]])})),function(e){return U.apply(this,arguments)})},{key:"deleteUser",value:(M=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/users/".concat(t),i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return M.apply(this,arguments)})},{key:"restoreUsers",value:(F=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/restore",{user_ids:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)})},{key:"reactivateUser",value:(B=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/".concat(t,"/reactivate"),eG({},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return B.apply(this,arguments)})},{key:"reactivateUsers",value:($=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/reactivate",eG({user_ids:t},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return $.apply(this,arguments)})},{key:"deactivateUser",value:(z=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/".concat(t,"/deactivate"),eG({},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return z.apply(this,arguments)})},{key:"deactivateUsers",value:(V=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/users/deactivate",eG({user_ids:t},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return V.apply(this,arguments)})},{key:"exportUser",value:(W=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/users/".concat(t,"/export"),eG({},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return W.apply(this,arguments)})},{key:"banUser",value:(q=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/moderation/ban",eG({target_user_id:t},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return q.apply(this,arguments)})},{key:"unbanUser",value:(G=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseURL+"/moderation/ban",eG({target_user_id:t},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return G.apply(this,arguments)})},{key:"shadowBan",value:(K=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.banUser(t,eG({shadow:!0},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return K.apply(this,arguments)})},{key:"removeShadowBan",value:(J=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unbanUser(t,eG({shadow:!0},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return J.apply(this,arguments)})},{key:"muteUser",value:(Y=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this.post(this.baseURL+"/moderation/mute",eG(eG({target_id:t},i?{user_id:i}:{}),n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return Y.apply(this,arguments)})},{key:"unmuteUser",value:(ei=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/moderation/unmute",eG({target_id:t},i?{user_id:i}:{}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return ei.apply(this,arguments)})},{key:"userMuteStatus",value:function(e){if(!this.user||!this.wsPromise)throw Error("Make sure to await connectUser() first.");for(var t=0;t<this.mutedUsers.length;t+=1)if(this.mutedUsers[t].target.id===e)return!0;return!1}},{key:"flagMessage",value:(es=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/moderation/flag",eG({target_message_id:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return es.apply(this,arguments)})},{key:"flagUser",value:(ea=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/moderation/flag",eG({target_user_id:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return ea.apply(this,arguments)})},{key:"unflagMessage",value:(eo=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unflag",eG({target_message_id:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return eo.apply(this,arguments)})},{key:"unflagUser",value:(ec=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unflag",eG({target_user_id:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return ec.apply(this,arguments)})},{key:"getCallToken",value:(el=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/calls/".concat(t),eG({},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return el.apply(this,arguments)})},{key:"_queryFlags",value:(eu=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this.post(this.baseURL+"/moderation/flags",eG({filter_conditions:t},i));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return eu.apply(this,arguments)})},{key:"_queryFlagReports",value:(ep=m()(_().mark(function e(){var t,i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this.post(this.baseURL+"/moderation/reports",eG({filter_conditions:t},i));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return ep.apply(this,arguments)})},{key:"_reviewFlagReport",value:(ed=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},e.next=3,this.patch(this.baseURL+"/moderation/reports/".concat(t),eG({review_result:i},n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return ed.apply(this,arguments)})},{key:"unblockMessage",value:(eh=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/moderation/unblock_message",eG({target_message_id:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return eh.apply(this,arguments)})},{key:"markChannelsRead",value:(em=m()(_().mark(function e(){var t,i=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,this.post(this.baseURL+"/channels/read",eG({},t));case 3:case"end":return e.stop()}},e,this)})),function(){return em.apply(this,arguments)})},{key:"createCommand",value:function(e){return this.post(this.baseURL+"/commands",e)}},{key:"getCommand",value:function(e){return this.get(this.baseURL+"/commands/".concat(e))}},{key:"updateCommand",value:function(e,t){return this.put(this.baseURL+"/commands/".concat(e),t)}},{key:"deleteCommand",value:function(e){return this.delete(this.baseURL+"/commands/".concat(e))}},{key:"listCommands",value:function(){return this.get(this.baseURL+"/commands")}},{key:"createChannelType",value:function(e){var t=r()({},{commands:["all"]},e);return this.post(this.baseURL+"/channeltypes",t)}},{key:"getChannelType",value:function(e){return this.get(this.baseURL+"/channeltypes/".concat(e))}},{key:"updateChannelType",value:function(e,t){return this.put(this.baseURL+"/channeltypes/".concat(e),t)}},{key:"deleteChannelType",value:function(e){return this.delete(this.baseURL+"/channeltypes/".concat(e))}},{key:"listChannelTypes",value:function(){return this.get(this.baseURL+"/channeltypes")}},{key:"translateMessage",value:(ef=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/messages/".concat(t,"/translate"),{language:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return ef.apply(this,arguments)})},{key:"_normalizeExpiration",value:function(e){var t=null;if("number"==typeof e){var i=new Date;i.setSeconds(i.getSeconds()+e),t=i.toISOString()}else eK(e)?t=e:e instanceof Date&&(t=e.toISOString());return t}},{key:"_validateAndGetMessageId",value:function(e,t){var i;if("string"==typeof e)i=e;else{if(!e.id)throw Error(t);i=e.id}return i}},{key:"pinMessage",value:function(e,t,i,n){var s=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(s,{set:{pinned:!0,pin_expires:this._normalizeExpiration(t),pinned_at:this._normalizeExpiration(n)}},i)}},{key:"unpinMessage",value:function(e,t){var i=this._validateAndGetMessageId(e,"Please specify the message id when calling unpinMessage");return this.partialUpdateMessage(i,{set:{pinned:!1}},t)}},{key:"updateMessage",value:(ev=m()(_().mark(function e(t,i,n){var s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}throw Error("Please specify the message id when calling updateMessage");case 2:return s=r()({},t),delete s.id,["command","created_at","html","latest_reactions","own_reactions","quoted_message","reaction_counts","reply_count","type","updated_at","user","__html"].forEach(function(e){null!=s[e]&&delete s[e]}),null!=i&&(eK(i)?s.user_id=i:s.user={id:i.id}),Array.isArray(s.mentioned_users)&&!eK(s.mentioned_users[0])&&(s.mentioned_users=s.mentioned_users.map(function(e){return e.id})),e.next=10,this.post(this.baseURL+"/messages/".concat(t.id),eG({message:s},n));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})),function(e,t,i){return ev.apply(this,arguments)})},{key:"partialUpdateMessage",value:(ex=m()(_().mark(function e(t,i,n,s){var a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Please specify the message id when calling partialUpdateMessage");case 2:return a=n,null!=n&&eK(n)&&(a={id:n}),e.next=6,this.put(this.baseURL+"/messages/".concat(t),eG(eG(eG({},i),s),{},{user:a}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(e,t,i,n){return ex.apply(this,arguments)})},{key:"deleteMessage",value:(ey=m()(_().mark(function e(t,i){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},i&&(n={hard:!0}),e.next=4,this.delete(this.baseURL+"/messages/".concat(t),n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return ey.apply(this,arguments)})},{key:"undeleteMessage",value:(ek=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/messages/".concat(t,"/undelete"),{undeleted_by:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return ek.apply(this,arguments)})},{key:"getMessage",value:(eS=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/messages/".concat(encodeURIComponent(t)),eG({},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return eS.apply(this,arguments)})},{key:"queryThreads",value:(eC=m()(_().mark(function e(t){var i,n,s=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=eG({limit:10,participant_limit:10,reply_limit:3,watch:!0},t),e.next=3,this.post(this.baseURL+"/threads",i);case 3:return n=e.sent,e.abrupt("return",{threads:n.threads.map(function(e){return new e$(s,e)}),next:n.next});case 5:case"end":return e.stop()}},e,this)})),function(e){return eC.apply(this,arguments)})},{key:"getThread",value:(eR=m()(_().mark(function e(t){var i,n,s,a=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>1&&void 0!==a[1]?a[1]:{},t){e.next=3;break}throw Error("Please specify the message id when calling partialUpdateThread");case 3:return n=eG({participant_limit:100,reply_limit:3,watch:!0},i),e.next=6,this.get(this.baseURL+"/threads/".concat(t),n);case 6:return s=e.sent,e.abrupt("return",new e$(this,s.thread));case 8:case"end":return e.stop()}},e,this)})),function(e){return eR.apply(this,arguments)})},{key:"partialUpdateThread",value:(eI=m()(_().mark(function e(t,i){var n,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Please specify the message id when calling partialUpdateThread");case 2:n=["created_at","id","last_message_at","type","updated_at","user","reply_count","participants","channel"],e.t0=_().keys(eG(eG({},i.set),i.unset));case 4:if((e.t1=e.t0()).done){e.next=10;break}if(s=e.t1.value,!n.includes(s)){e.next=8;break}throw Error("You cannot set ".concat(s," field on Thread object. ").concat(s," is reserved for server-side use. Please omit ").concat(s," from your set object."));case 8:e.next=4;break;case 10:return e.next=12,this.patch(this.baseURL+"/threads/".concat(t),i);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)})),function(e,t){return eI.apply(this,arguments)})},{key:"getUserAgent",value:function(){return this.userAgent||"stream-chat-javascript-client-".concat(this.node?"node":"browser","-","8.25.1")}},{key:"setUserAgent",value:function(e){this.userAgent=e}},{key:"_enrichAxiosOptions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}},i=this._getToken(),n=null;null!==this.nextRequestAbortController&&(n=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),null!==(e=t.headers)&&void 0!==e&&e["x-client-request-id"]||(t.headers=eG(eG({},t.headers),{},{"x-client-request-id":en()}));var s=this.options.axiosRequestConfig||{},a=s.params,r=s.headers,o=u()(s,eV);return eG(eG(eG({params:eG(eG({user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key},t.params),a||{}),headers:eG(eG(eG({},i?{Authorization:i}:void 0),{},{"stream-auth-type":this.getAuthType(),"X-Stream-Client":this.getUserAgent()},t.headers),r||{})},n?{signal:n}:{}),t.config),o||{})}},{key:"_getToken",value:function(){return!this.tokenManager||this.anonymous?null:this.tokenManager.getToken()}},{key:"_startCleaning",value:function(){var e=this;null==this.cleaningIntervalRef&&(this.cleaningIntervalRef=setInterval(function(){for(var t=0,i=Object.values(e.activeChannels);t<i.length;t++)i[t].clean()},500))}},{key:"verifyWebhook",value:function(e,t){return!!this.secret&&function(e,t,i){var n=Buffer.from(t,"utf8"),s=A().createHmac("sha256",n).update(e).digest("hex");try{return A().timingSafeEqual(Buffer.from(s),Buffer.from(i))}catch(e){return!1}}(e,this.secret,t)}},{key:"getPermission",value:function(e){return this.get("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"createPermission",value:function(e){return this.post("".concat(this.baseURL,"/permissions"),eG({},e))}},{key:"updatePermission",value:function(e,t){return this.put("".concat(this.baseURL,"/permissions/").concat(e),eG({},t))}},{key:"deletePermission",value:function(e){return this.delete("".concat(this.baseURL,"/permissions/").concat(e))}},{key:"listPermissions",value:function(){return this.get("".concat(this.baseURL,"/permissions"))}},{key:"createRole",value:function(e){return this.post("".concat(this.baseURL,"/roles"),{name:e})}},{key:"listRoles",value:function(){return this.get("".concat(this.baseURL,"/roles"))}},{key:"deleteRole",value:function(e){return this.delete("".concat(this.baseURL,"/roles/").concat(e))}},{key:"sync",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.post("".concat(this.baseURL,"/sync"),eG({channel_cids:e,last_sync_at:t},i))}},{key:"sendUserCustomEvent",value:(eP=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("".concat(this.baseURL,"/users/").concat(t,"/event"),{event:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return eP.apply(this,arguments)})},{key:"createBlockList",value:function(e){return this.post("".concat(this.baseURL,"/blocklists"),e)}},{key:"listBlockLists",value:function(){return this.get("".concat(this.baseURL,"/blocklists"))}},{key:"getBlockList",value:function(e){return this.get("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"updateBlockList",value:function(e,t){return this.put("".concat(this.baseURL,"/blocklists/").concat(e),t)}},{key:"deleteBlockList",value:function(e){return this.delete("".concat(this.baseURL,"/blocklists/").concat(e))}},{key:"exportChannels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=eG({channels:e},t);return this.post("".concat(this.baseURL,"/export_channels"),i)}},{key:"exportUsers",value:function(e){return this.post("".concat(this.baseURL,"/export/users"),e)}},{key:"exportChannel",value:function(e,t){return this.exportChannels([e],t)}},{key:"getExportChannelStatus",value:function(e){return this.get("".concat(this.baseURL,"/export_channels/").concat(e))}},{key:"campaign",value:function(e,t){return e&&"object"===c()(e)?new eA(this,null,e):new eA(this,e,t)}},{key:"segment",value:function(e,t,i){return"string"==typeof t?new eD(this,e,t,i):new eD(this,e,null,t)}},{key:"validateServerSideAuth",value:function(){if(!this.secret)throw Error("Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.")}},{key:"createSegment",value:(ej=m()(_().mark(function e(t,i,n){var s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),s=eG({id:i,type:t},n),e.abrupt("return",this.post(this.baseURL+"/segments",s));case 3:case"end":return e.stop()}},e,this)})),function(e,t,i){return ej.apply(this,arguments)})},{key:"createUserSegment",value:(eN=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.createSegment("user",t,i));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return eN.apply(this,arguments)})},{key:"createChannelSegment",value:(eM=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.createSegment("channel",t,i));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return eM.apply(this,arguments)})},{key:"getSegment",value:(eF=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.get(this.baseURL+"/segments/".concat(t)));case 2:case"end":return e.stop()}},e,this)})),function(e){return eF.apply(this,arguments)})},{key:"updateSegment",value:(eB=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.put(this.baseURL+"/segments/".concat(t),i));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return eB.apply(this,arguments)})},{key:"addSegmentTargets",value:(eq=m()(_().mark(function e(t,i){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),n={target_ids:i},e.abrupt("return",this.post(this.baseURL+"/segments/".concat(t,"/addtargets"),n));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return eq.apply(this,arguments)})},{key:"querySegmentTargets",value:(eH=m()(_().mark(function e(t){var i,n,s,a=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2&&void 0!==a[2]?a[2]:[],s=a.length>3&&void 0!==a[3]?a[3]:{},this.validateServerSideAuth(),e.abrupt("return",this.post(this.baseURL+"/segments/".concat(t,"/targets/query"),eG({filter:i||{},sort:n||[]},s)));case 5:case"end":return e.stop()}},e,this)})),function(e){return eH.apply(this,arguments)})},{key:"removeSegmentTargets",value:(eJ=m()(_().mark(function e(t,i){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),n={target_ids:i},e.abrupt("return",this.post(this.baseURL+"/segments/".concat(t,"/deletetargets"),n));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return eJ.apply(this,arguments)})},{key:"querySegments",value:(eY=m()(_().mark(function e(t,i){var n,s=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},this.validateServerSideAuth(),e.abrupt("return",this.post(this.baseURL+"/segments/query",eG({filter:t,sort:i},n)));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return eY.apply(this,arguments)})},{key:"deleteSegment",value:(eX=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.delete(this.baseURL+"/segments/".concat(t)));case 2:case"end":return e.stop()}},e,this)})),function(e){return eX.apply(this,arguments)})},{key:"segmentTargetExists",value:(eZ=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.get(this.baseURL+"/segments/".concat(t,"/target/").concat(i)));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return eZ.apply(this,arguments)})},{key:"createCampaign",value:(eQ=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.post(this.baseURL+"/campaigns",eG({},t)));case 2:case"end":return e.stop()}},e,this)})),function(e){return eQ.apply(this,arguments)})},{key:"getCampaign",value:(e0=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.get(this.baseURL+"/campaigns/".concat(t)));case 2:case"end":return e.stop()}},e,this)})),function(e){return e0.apply(this,arguments)})},{key:"startCampaign",value:(e1=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.post(this.baseURL+"/campaigns/".concat(t,"/start"),{scheduled_for:null==i?void 0:i.scheduledFor,stop_at:null==i?void 0:i.stopAt}));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return e1.apply(this,arguments)})},{key:"queryCampaigns",value:(e2=m()(_().mark(function e(t,i,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.next=3,this.post(this.baseURL+"/campaigns/query",eG({filter:t,sort:i},n||{}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t,i){return e2.apply(this,arguments)})},{key:"updateCampaign",value:(e3=m()(_().mark(function e(t,i){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.put(this.baseURL+"/campaigns/".concat(t),i));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return e3.apply(this,arguments)})},{key:"deleteCampaign",value:(e4=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.delete(this.baseURL+"/campaigns/".concat(t)));case 2:case"end":return e.stop()}},e,this)})),function(e){return e4.apply(this,arguments)})},{key:"stopCampaign",value:(e6=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.validateServerSideAuth(),e.abrupt("return",this.post(this.baseURL+"/campaigns/".concat(t,"/stop")));case 2:case"end":return e.stop()}},e,this)})),function(e){return e6.apply(this,arguments)})},{key:"enrichURL",value:(e5=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get(this.baseURL+"/og",{url:t}));case 1:case"end":return e.stop()}},e,this)})),function(e){return e5.apply(this,arguments)})},{key:"getTask",value:(e8=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.get("".concat(this.baseURL,"/tasks/").concat(t)));case 1:case"end":return e.stop()}},e,this)})),function(e){return e8.apply(this,arguments)})},{key:"deleteChannels",value:(e9=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.post(this.baseURL+"/channels/delete",eG({cids:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return e9.apply(this,arguments)})},{key:"deleteUsers",value:(e7=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==(i=n.length>1&&void 0!==n[1]?n[1]:{}).user&&!["soft","hard","pruning"].includes(i.user))){e.next=3;break}throw Error("Invalid delete user options. user must be one of [soft hard pruning]");case 3:if(!(void 0!==i.conversations&&!["soft","hard"].includes(i.conversations))){e.next=5;break}throw Error("Invalid delete user options. conversations must be one of [soft hard]");case 5:if(!(void 0!==i.messages&&!["soft","hard","pruning"].includes(i.messages))){e.next=7;break}throw Error("Invalid delete user options. messages must be one of [soft hard pruning]");case 7:return e.next=9,this.post(this.baseURL+"/users/delete",eG({user_ids:t},i));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)})),function(e){return e7.apply(this,arguments)})},{key:"_createImportURL",value:(te=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/import_urls",{filename:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return te.apply(this,arguments)})},{key:"_createImport",value:(tt=m()(_().mark(function e(t){var i,n=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:{mode:"upsert"},e.next=3,this.post(this.baseURL+"/imports",eG({path:t},i));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return tt.apply(this,arguments)})},{key:"_getImport",value:(ti=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/imports/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return ti.apply(this,arguments)})},{key:"_listImports",value:(tn=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/imports",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return tn.apply(this,arguments)})},{key:"upsertPushProvider",value:(ts=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/push_providers",{push_provider:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return ts.apply(this,arguments)})},{key:"deletePushProvider",value:(ta=m()(_().mark(function e(t){var i,n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.type,n=t.name,e.next=3,this.delete(this.baseURL+"/push_providers/".concat(i,"/").concat(n));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e){return ta.apply(this,arguments)})},{key:"listPushProviders",value:(tr=m()(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseURL+"/push_providers");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return tr.apply(this,arguments)})},{key:"createAbortControllerForNextRequest",value:function(){return this.nextRequestAbortController=new AbortController}},{key:"commitMessage",value:(to=m()(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseURL+"/messages/".concat(t,"/commit"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return to.apply(this,arguments)})}],[{key:"getInstance",value:function(e,t,i){return tc._instance||("string"==typeof t?tc._instance=new tc(e,t,i):tc._instance=new tc(e,t)),tc._instance}}]),tc}();y()(eJ,"_instance",void 0);var eY="Allow",eX=["*"],eZ=["*"],eQ=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eX,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eZ,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eY;g()(this,e),y()(this,"name",void 0),y()(this,"action",void 0),y()(this,"owner",void 0),y()(this,"priority",void 0),y()(this,"resources",void 0),y()(this,"roles",void 0),this.name=t,this.action=r,this.owner=a,this.priority=i,this.resources=n,this.roles=s};new eQ("Allow all",999,eX,eZ,!1,eY),new eQ("Deny all",1,eX,eZ,!1,"Deny")},37299:(e,t,i)=>{"use strict";e.exports=i(25113)},25113:(e,t,i)=>{"use strict";let n=i(42844);n.createWebSocketStream=i(78428),n.Server=i(43356),n.Receiver=i(10389),n.Sender=i(31503),e.exports=n},1793:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:n}=i(91430);function s(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),s=0;for(let t=0;t<e.length;t++){let n=e[t];i.set(n,s),s+=n.length}return s<t?i.slice(0,s):i}function a(e,t,i,n,s){for(let a=0;a<s;a++)i[n+a]=e[a]^t[3&a]}function r(e,t){let i=e.length;for(let n=0;n<i;n++)e[n]^=t[3&n]}function o(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){let t;return(c.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t)}try{let t=i(10144),n=t.BufferUtil||t;e.exports={concat:s,mask(e,t,i,s,r){r<48?a(e,t,i,s,r):n.mask(e,t,i,s,r)},toArrayBuffer:o,toBuffer:c,unmask(e,t){e.length<32?r(e,t):n.unmask(e,t)}}}catch(t){e.exports={concat:s,mask:a,toArrayBuffer:o,toBuffer:c,unmask:r}}},91430:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},7455:e=>{"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class i extends t{constructor(e,t){super("message",t),this.data=e}}class n extends t{constructor(e,t,i){super("close",i),this.wasClean=i._closeFrameReceived&&i._closeFrameSent,this.reason=t,this.code=e}}class s extends t{constructor(e){super("open",e)}}class a extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}e.exports={addEventListener(e,t,r){if("function"!=typeof t)return;function o(e){t.call(this,new i(e,this))}function c(e,i){t.call(this,new n(e,i,this))}function l(e){t.call(this,new a(e,this))}function u(){t.call(this,new s(this))}let p=r&&r.once?"once":"on";"message"===e?(o._listener=t,this[p](e,o)):"close"===e?(c._listener=t,this[p](e,c)):"error"===e?(l._listener=t,this[p](e,l)):"open"===e?(u._listener=t,this[p](e,u)):this[p](e,t)},removeEventListener(e,t){let i=this.listeners(e);for(let n=0;n<i.length;n++)(i[n]===t||i[n]._listener===t)&&this.removeListener(e,i[n])}}},74884:e=>{"use strict";let t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let n,s;let a=Object.create(null);if(void 0===e||""===e)return a;let r=Object.create(null),o=!1,c=!1,l=!1,u=-1,p=-1,d=0;for(;d<e.length;d++){let h=e.charCodeAt(d);if(void 0===n){if(-1===p&&1===t[h])-1===u&&(u=d);else if(32===h||9===h)-1===p&&-1!==u&&(p=d);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);let t=e.slice(u,p);44===h?(i(a,t,r),r=Object.create(null)):n=t,u=p=-1}else throw SyntaxError(`Unexpected character at index ${d}`)}else if(void 0===s){if(-1===p&&1===t[h])-1===u&&(u=d);else if(32===h||9===h)-1===p&&-1!==u&&(p=d);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d),i(r,e.slice(u,p),!0),44===h&&(i(a,n,r),r=Object.create(null),n=void 0),u=p=-1}else if(61===h&&-1!==u&&-1===p)s=e.slice(u,d),u=p=-1;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(c){if(1!==t[h])throw SyntaxError(`Unexpected character at index ${d}`);-1===u?u=d:o||(o=!0),c=!1}else if(l){if(1===t[h])-1===u&&(u=d);else if(34===h&&-1!==u)l=!1,p=d;else if(92===h)c=!0;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(34===h&&61===e.charCodeAt(d-1))l=!0;else if(-1===p&&1===t[h])-1===u&&(u=d);else if(-1!==u&&(32===h||9===h))-1===p&&(p=d);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);let t=e.slice(u,p);o&&(t=t.replace(/\\/g,""),o=!1),i(r,s,t),44===h&&(i(a,n,r),r=Object.create(null),n=void 0),s=void 0,u=p=-1}else throw SyntaxError(`Unexpected character at index ${d}`)}if(-1===u||l)throw SyntaxError("Unexpected end of input");-1===p&&(p=d);let h=e.slice(u,p);return void 0===n?i(a,h,r):(void 0===s?i(r,h,!0):o?i(r,s,h.replace(/\\/g,"")):i(r,s,h),i(a,n,r)),a}}},50314:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},51650:(e,t,i)=>{"use strict";let n;let s=i(59796),a=i(1793),r=i(50314),{kStatusCode:o,NOOP:c}=i(91430),l=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),p=Symbol("total-length"),d=Symbol("callback"),h=Symbol("buffers"),m=Symbol("error");class f{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new r(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){n.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=s.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[p]=0,this._inflate[h]=[],this._inflate.on("error",b),this._inflate.on("data",v)}this._inflate[d]=i,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush(()=>{let e=this._inflate[m];if(e){this._inflate.close(),this._inflate=null,i(e);return}let s=a.concat(this._inflate[h],this._inflate[p]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[p]=0,this._inflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,s)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=s.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[p]=0,this._deflate[h]=[],this._deflate.on("error",c),this._deflate.on("data",g)}this._deflate[d]=i,this._deflate.write(e),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=a.concat(this._deflate[h],this._deflate[p]);t&&(e=e.slice(0,e.length-4)),this._deflate[d]=null,this._deflate[p]=0,this._deflate[h]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function g(e){this[h].push(e),this[p]+=e.length}function v(e){if(this[p]+=e.length,this[u]._maxPayload<1||this[p]<=this[u]._maxPayload){this[h].push(e);return}this[m]=RangeError("Max payload size exceeded"),this[m].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[m][o]=1009,this.removeListener("data",v),this.reset()}function b(e){this[u]._inflate=null,e[o]=1007,this[d](e)}e.exports=f},10389:(e,t,i)=>{"use strict";let{Writable:n}=i(12781),s=i(51650),{BINARY_TYPES:a,EMPTY_BUFFER:r,kStatusCode:o,kWebSocket:c}=i(91430),{concat:l,toArrayBuffer:u,unmask:p}=i(1793),{isValidStatusCode:d,isValidUTF8:h}=i(91e3);class m extends n{constructor(e,t,i,n){super(),this._binaryType=e||a[0],this[c]=void 0,this._extensions=t||{},this._isServer=!!i,this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=i.slice(e)),e-=i.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((48&e[0])!=0)return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(64&e[0])==64;if(t&&!this._extensions[s.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(128&e[0])==128,this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7)||!(this._opcode<11))return this._loop=!1,f(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,f(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&e[1])==128,this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,f(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>2097151?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=4294967296*t+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=r;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&p(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=5,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[s.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(i)}let n=this.dataMessage();if(n)return t(n);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",i)}else{let i=l(t,e);if(!h(i))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i.toString())}}this._state=0}controlMessage(e){if(8===this._opcode){if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");let t=e.readUInt16BE(0);if(!d(t))return f(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let i=e.slice(2);if(!h(i))return f(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,i.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}function f(e,t,i,n,s){let a=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(a,f),a.code=s,a[o]=n,a}e.exports=m},31503:(e,t,i)=>{"use strict";i(41808),i(24404);let{randomFillSync:n}=i(6113),s=i(51650),{EMPTY_BUFFER:a}=i(91430),{isValidStatusCode:r}=i(91e3),{mask:o,toBuffer:c}=i(1793),l=Buffer.alloc(4);class u{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i=t.mask&&t.readOnly,s=t.mask?6:2,a=e.length;e.length>=65536?(s+=8,a=127):e.length>125&&(s+=2,a=126);let r=Buffer.allocUnsafe(i?e.length+s:s);return(r[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(r[0]|=64),r[1]=a,126===a?r.writeUInt16BE(e.length,2):127===a&&(r.writeUInt32BE(0,2),r.writeUInt32BE(e.length,6)),t.mask)?(n(l,0,4),r[1]|=128,r[s-4]=l[0],r[s-3]=l[1],r[s-2]=l[2],r[s-1]=l[3],i)?(o(e,l,r,s,e.length),[r]):(o(e,l,e,0,e.length),[r,e]):[r,e]}close(e,t,i,n){let s;if(void 0===e)s=a;else if("number"==typeof e&&r(e)){if(void 0===t||""===t)(s=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else{let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(s=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),s.write(t,2)}}else throw TypeError("First argument must be a valid error code number");this._deflating?this.enqueue([this.doClose,s,i,n]):this.doClose(s,i,n)}doClose(e,t,i){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),i)}ping(e,t,i){let n=c(e);if(n.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,n,t,c.readOnly,i]):this.doPing(n,t,c.readOnly,i)}doPing(e,t,i,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:i}),n)}pong(e,t,i){let n=c(e);if(n.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,n,t,c.readOnly,i]):this.doPong(n,t,c.readOnly,i)}doPong(e,t,i,n){this.sendFrame(u.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:i}),n)}send(e,t,i){let n=c(e),a=this._extensions[s.extensionName],r=t.binary?2:1,o=t.compress;if(this._firstFragment?(this._firstFragment=!1,o&&a&&(o=n.length>=a._threshold),this._compress=o):(o=!1,r=0),t.fin&&(this._firstFragment=!0),a){let e={fin:t.fin,rsv1:o,opcode:r,mask:t.mask,readOnly:c.readOnly};this._deflating?this.enqueue([this.dispatch,n,this._compress,e,i]):this.dispatch(n,this._compress,e,i)}else this.sendFrame(u.frame(n,{fin:t.fin,rsv1:!1,opcode:r,mask:t.mask,readOnly:c.readOnly}),i)}dispatch(e,t,i,n){if(!t){this.sendFrame(u.frame(e,i),n);return}let a=this._extensions[s.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,a.compress(e,i.fin,(t,s)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let i=this._queue[t][4];"function"==typeof i&&i(e)}return}this._bufferedBytes-=e.length,this._deflating=!1,i.readOnly=!1,this.sendFrame(u.frame(s,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},78428:(e,t,i)=>{"use strict";let{Duplex:n}=i(12781);function s(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function r(e){this.removeListener("error",r),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0,o=!0;function c(){i&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",c)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",c));let l=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t){l.push(t)||(i=!1,e._socket.pause())}),e.once("error",function(e){l.destroyed||(o=!1,l.destroy(e))}),e.once("close",function(){l.destroyed||l.push(null)}),l._destroy=function(t,i){if(e.readyState===e.CLOSED){i(t),process.nextTick(s,l);return}let n=!1;e.once("error",function(e){n=!0,i(e)}),e.once("close",function(){n||i(t),process.nextTick(s,l)}),o&&e.terminate()},l._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){l._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),l._readableState.endEmitted&&l.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},l._read=function(){e.readyState!==e.OPEN&&e.readyState!==e.CLOSING||i||(i=!0,e._receiver._writableState.needDrain||e._socket.resume())},l._write=function(t,i,n){if(e.readyState===e.CONNECTING){e.once("open",function(){l._write(t,i,n)});return}e.send(t,n)},l.on("end",a),l.on("error",r),l}},91e3:(e,t,i)=>{"use strict";function n(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function s(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}try{let t=i(77640);"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:n,isValidUTF8:e=>e.length<150?s(e):t(e)}}catch(t){e.exports={isValidStatusCode:n,isValidUTF8:s}}},43356:(e,t,i)=>{"use strict";let n=i(82361),s=i(13685);i(95687),i(41808),i(24404);let{createHash:a}=i(6113),r=i(51650),o=i(42844),{format:c,parse:l}=i(74884),{GUID:u,kWebSocket:p}=i(91430),d=/^[+/0-9A-Za-z]{22}==$/;class h extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s.createServer((e,t)=>{let i=s.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),2===this._state){process.nextTick(m,this);return}if(1===this._state)return;if(this._state=1,this.clients)for(let e of this.clients)e.terminate();let t=this._server;if(t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)){t.close(m.bind(void 0,this));return}process.nextTick(m,this)}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",f);let s=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),a=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!s||!d.test(s)||8!==a&&13!==a||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){let i=new r(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let t=l(e.headers["sec-websocket-extensions"]);t[r.extensionName]&&(i.accept(t[r.extensionName]),o[r.extensionName]=i)}catch(e){return g(t,400)}}if(this.options.verifyClient){let r={origin:e.headers[`${8===a?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(r,(a,r,c,l)=>{if(!a)return g(t,r||401,c,l);this.completeUpgrade(s,o,e,t,i,n)});return}if(!this.options.verifyClient(r))return g(t,401)}this.completeUpgrade(s,o,e,t,i,n)}completeUpgrade(e,t,i,n,s,l){if(!n.readable||!n.writable)return n.destroy();if(n[p])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(n,503);let d=a("sha1").update(e+u).digest("base64"),h=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${d}`],m=new o(null),b=i.headers["sec-websocket-protocol"];if(b&&(b=b.split(",").map(v),(b=this.options.handleProtocols?this.options.handleProtocols(b,i):b[0])&&(h.push(`Sec-WebSocket-Protocol: ${b}`),m._protocol=b)),t[r.extensionName]){let e=t[r.extensionName].params,i=c({[r.extensionName]:[e]});h.push(`Sec-WebSocket-Extensions: ${i}`),m._extensions=t}this.emit("headers",h,i),n.write(h.concat("\r\n").join("\r\n")),n.removeListener("error",f),m.setSocket(n,s,this.options.maxPayload),this.clients&&(this.clients.add(m),m.on("close",()=>this.clients.delete(m))),l(m,i)}}function m(e){e._state=2,e.emit("close")}function f(){this.destroy()}function g(e,t,i,n){e.writable&&(i=i||s.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.write(`HTTP/1.1 ${t} ${s.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)),e.removeListener("error",f),e.destroy()}function v(e){return e.trim()}e.exports=h},42844:(e,t,i)=>{"use strict";let n=i(82361),s=i(95687),a=i(13685),r=i(41808),o=i(24404),{randomBytes:c,createHash:l}=i(6113),{Readable:u}=i(12781),{URL:p}=i(57310),d=i(51650),h=i(10389),m=i(31503),{BINARY_TYPES:f,EMPTY_BUFFER:g,GUID:v,kStatusCode:b,kWebSocket:x,NOOP:y}=i(91430),{addEventListener:w,removeEventListener:_}=i(7455),{format:k,parse:S}=i(74884),{toBuffer:E}=i(1793),C=["CONNECTING","OPEN","CLOSING","CLOSED"],T=[8,13];class R extends n{constructor(e,t,i){super(),this._binaryType=f[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=R.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(i=t,t=void 0),function e(t,i,n,r){let o,u;let h={protocolVersion:T[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!T.includes(h.protocolVersion))throw RangeError(`Unsupported protocol version: ${h.protocolVersion} (supported versions: ${T.join(", ")})`);i instanceof p?(o=i,t._url=i.href):(o=new p(i),t._url=i);let m="ws+unix:"===o.protocol;if(!o.host&&(!m||!o.pathname)){let e=Error(`Invalid URL: ${t.url}`);if(0===t._redirects)throw e;O(t,e);return}let f="wss:"===o.protocol||"https:"===o.protocol,g=f?443:80,b=c(16).toString("base64"),x=f?s.get:a.get;if(h.createConnection=f?P:I,h.defaultPort=h.defaultPort||g,h.port=o.port||g,h.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,h.headers={"Sec-WebSocket-Version":h.protocolVersion,"Sec-WebSocket-Key":b,Connection:"Upgrade",Upgrade:"websocket",...h.headers},h.path=o.pathname+o.search,h.timeout=h.handshakeTimeout,h.perMessageDeflate&&(u=new d(!0!==h.perMessageDeflate?h.perMessageDeflate:{},!1,h.maxPayload),h.headers["Sec-WebSocket-Extensions"]=k({[d.extensionName]:u.offer()})),n&&(h.headers["Sec-WebSocket-Protocol"]=n),h.origin&&(h.protocolVersion<13?h.headers["Sec-WebSocket-Origin"]=h.origin:h.headers.Origin=h.origin),(o.username||o.password)&&(h.auth=`${o.username}:${o.password}`),m){let e=h.path.split(":");h.socketPath=e[0],h.path=e[1]}if(h.followRedirects){if(0===t._redirects){t._originalUnixSocket=m,t._originalSecure=f,t._originalHostOrSocketPath=m?h.socketPath:o.host;let e=r&&r.headers;if(r={...r,headers:{}},e)for(let[t,i]of Object.entries(e))r.headers[t.toLowerCase()]=i}else{let e=m?!!t._originalUnixSocket&&h.socketPath===t._originalHostOrSocketPath:!t._originalUnixSocket&&o.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||f)||(delete h.headers.authorization,delete h.headers.cookie,e||delete h.headers.host,h.auth=void 0)}h.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(h.auth).toString("base64"))}let y=t._req=x(h);h.timeout&&y.on("timeout",()=>{j(t,y,"Opening handshake has timed out")}),y.on("error",e=>{null===y||y.aborted||(y=t._req=null,O(t,e))}),y.on("response",s=>{let a=s.headers.location,o=s.statusCode;if(a&&h.followRedirects&&o>=300&&o<400){let s;if(++t._redirects>h.maxRedirects){j(t,y,"Maximum redirects exceeded");return}y.abort();try{s=new p(a,i)}catch(e){O(t,e);return}e(t,s,n,r)}else t.emit("unexpected-response",y,s)||j(t,y,`Unexpected server response: ${s.statusCode}`)}),y.on("upgrade",(e,i,s)=>{let a;if(t.emit("upgrade",e),t.readyState!==R.CONNECTING)return;if(y=t._req=null,"websocket"!==e.headers.upgrade.toLowerCase()){j(t,i,"Invalid Upgrade header");return}let r=l("sha1").update(b+v).digest("base64");if(e.headers["sec-websocket-accept"]!==r){j(t,i,"Invalid Sec-WebSocket-Accept header");return}let o=e.headers["sec-websocket-protocol"],c=(n||"").split(/, */);if(!n&&o?a="Server sent a subprotocol but none was requested":n&&!o?a="Server sent no subprotocol":o&&!c.includes(o)&&(a="Server sent an invalid subprotocol"),a){j(t,i,a);return}o&&(t._protocol=o);let p=e.headers["sec-websocket-extensions"];if(void 0!==p){let e;if(!u){j(t,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=S(p)}catch(e){j(t,i,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(n.length){if(1!==n.length||n[0]!==d.extensionName){j(t,i,"Server indicated an extension that was not requested");return}try{u.accept(e[d.extensionName])}catch(e){j(t,i,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[d.extensionName]=u}}t.setSocket(i,s,h.maxPayload)})}(this,e,t,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(e){}get onerror(){}set onerror(e){}get onopen(){}set onopen(e){}get onmessage(){}set onmessage(e){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new h(this.binaryType,this._extensions,this._isServer,i);this._sender=new m(e,this._extensions),this._receiver=n,this._socket=e,n[x]=this,e[x]=this,n.on("conclude",L),n.on("drain",A),n.on("error",D),n.on("message",M),n.on("ping",F),n.on("pong",B),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",z),e.on("data",V),e.on("end",W),e.on("error",q),this._readyState=R.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=R.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING)return j(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===R.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=R.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}ping(e,t,i){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN){N(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,i)}pong(e,t,i){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN){N(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,i)}send(e,t,i){if(this.readyState===R.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==R.OPEN){N(this,e,i);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(n.compress=!1),this._sender.send(e||g,n,i)}terminate(){if(this.readyState!==R.CLOSED){if(this.readyState===R.CONNECTING)return j(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=R.CLOSING,this._socket.destroy())}}}function O(e,t){e._readyState=R.CLOSING,e.emit("error",t),e.emitClose()}function I(e){return e.path=e.socketPath,r.connect(e)}function P(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=r.isIP(e.host)?"":e.host),o.connect(e)}function j(e,t,i){e._readyState=R.CLOSING;let n=Error(i);Error.captureStackTrace(n,j),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function N(e,t,i){if(t){let i=E(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}i&&i(Error(`WebSocket is not open: readyState ${e.readyState} (${C[e.readyState]})`))}function L(e,t){let i=this[x];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[x]&&(i._socket.removeListener("data",V),process.nextTick($,i._socket),1005===e?i.close():i.close(e,t))}function A(){this[x]._socket.resume()}function D(e){let t=this[x];void 0!==t._socket[x]&&(t._socket.removeListener("data",V),process.nextTick($,t._socket),t.close(e[b])),t.emit("error",e)}function U(){this[x].emitClose()}function M(e){this[x].emit("message",e)}function F(e){let t=this[x];t.pong(e,!t._isServer,y),t.emit("ping",e)}function B(e){this[x].emit("pong",e)}function $(e){e.resume()}function z(){let e;let t=this[x];this.removeListener("close",z),this.removeListener("data",V),this.removeListener("end",W),t._readyState=R.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[x]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",U),t._receiver.on("finish",U))}function V(e){this[x]._receiver.write(e)||this.pause()}function W(){let e=this[x];e._readyState=R.CLOSING,e._receiver.end(),this.end()}function q(){let e=this[x];this.removeListener("error",q),this.on("error",y),e&&(e._readyState=R.CLOSING,this.destroy())}Object.defineProperty(R,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(R.prototype,"CONNECTING",{enumerable:!0,value:C.indexOf("CONNECTING")}),Object.defineProperty(R,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(R.prototype,"OPEN",{enumerable:!0,value:C.indexOf("OPEN")}),Object.defineProperty(R,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(R.prototype,"CLOSING",{enumerable:!0,value:C.indexOf("CLOSING")}),Object.defineProperty(R,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),Object.defineProperty(R.prototype,"CLOSED",{enumerable:!0,value:C.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(R.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(R.prototype,`on${e}`,{enumerable:!0,get(){let t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){let i=this.listeners(e);for(let t=0;t<i.length;t++)i[t]._listener&&this.removeListener(e,i[t]);this.addEventListener(e,t)}})}),R.prototype.addEventListener=w,R.prototype.removeEventListener=_,e.exports=R},34909:(e,t,i)=>{"use strict";let n;let s=i(22037),a=i(76224),r=i(76936),{env:o}=process;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===n)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let i=n||0;if("dumb"===o.TERM)return i;if("win32"===process.platform){let e=s.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in o)||"codeship"===o.CI_NAME?1:i;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){let e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:i}r("no-color")||r("no-colors")||r("color=false")||r("color=never")?n=0:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(n=1),"FORCE_COLOR"in o&&(n="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,a.isatty(1))),stderr:c(l(!0,a.isatty(2)))}},86418:()=>{},13500:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},23283:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},73782:(e,t,i)=>{var n=i(13500);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9994:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},46093:e=>{e.exports=function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,s,a,r,o=[],c=!0,l=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=a.call(i)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(l)throw s}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},93359:e=>{e.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},27907:e=>{e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},26191:(e,t,i)=>{var n=i(16558);e.exports=function(e,t){if(null==e)return{};var i,s,a=n(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},16558:e=>{e.exports=function(e,t){if(null==e)return{};var i,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(s[i]=e[i]);return s},e.exports.__esModule=!0,e.exports.default=e.exports},61572:(e,t,i)=>{var n=i(23283),s=i(46093),a=i(84492),r=i(93359);e.exports=function(e,t){return n(e)||s(e,t)||a(e,t)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},96206:(e,t,i)=>{var n=i(73782),s=i(9994),a=i(84492),r=i(27907);e.exports=function(e){return n(e)||s(e)||a(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},84492:(e,t,i)=>{var n=i(13500);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},33870:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(40002),s={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.2.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(e,t,i,a)=>{let r=(0,n.forwardRef)(({color:i="currentColor",size:r=24,stroke:o=2,className:c,children:l,...u},p)=>(0,n.createElement)("svg",{ref:p,...s[e],width:r,height:r,className:["tabler-icon",`tabler-icon-${t}`,c].join(" "),..."filled"===e?{fill:i}:{strokeWidth:o,stroke:i},...u},[...a.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return r.displayName=`${i}`,r}},78832:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});/**
 * @license @tabler/icons-react v3.2.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n=(0,i(33870).Z)("outline","brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]])},32615:(e,t,i)=>{"use strict";i.d(t,{default:()=>n.default});var n=i(98415);let{Axios:s,AxiosError:a,CanceledError:r,isCancel:o,CancelToken:c,VERSION:l,all:u,Cancel:p,isAxiosError:d,spread:h,toFormData:m,AxiosHeaders:f,HttpStatusCode:g,formToJSON:v,getAdapter:b,mergeConfig:x}=n.default},86674:(e,t,i)=>{"use strict";i.d(t,{default:()=>u});var n=i(69524),s=i(81230),a=i(19658),r=i(75955);let o={http:s.default,xhr:a.default};n.default.forEach(o,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let c=e=>`- ${e}`,l=e=>n.default.isFunction(e)||null===e||!1===e,u={getAdapter:e=>{let t,i;let{length:s}=e=n.default.isArray(e)?e:[e],a={};for(let n=0;n<s;n++){let s;if(i=t=e[n],!l(t)&&void 0===(i=o[(s=String(t)).toLowerCase()]))throw new r.default(`Unknown adapter '${s}'`);if(i)break;a[s||"#"+n]=i}if(!i){let e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")),t=s?e.length>1?"since :\n"+e.map(c).join("\n"):" "+c(e[0]):"as no adapter specified";throw new r.default("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i},adapters:o}},81230:(e,t,i)=>{"use strict";i.d(t,{default:()=>F});var n=i(69524),s=i(56724),a=i(6422),r=i(66286),o=i(1926),c=i(13685),l=i(95687),u=i(73837),p=i(19022),d=i(59796),h=i(64624),m=i(9277),f=i(75955),g=i(43191),v=i(66158),b=i(16602),x=i(12781),y=i(7640),w=i(59642),_=i(82361),k=i(27542),S=i(39297),E=i(65270),C=i(5731);let T={flush:d.constants.Z_SYNC_FLUSH,finishFlush:d.constants.Z_SYNC_FLUSH},R={flush:d.constants.BROTLI_OPERATION_FLUSH,finishFlush:d.constants.BROTLI_OPERATION_FLUSH},O=n.default.isFunction(d.createBrotliDecompress),{http:I,https:P}=p,j=/https:?/,N=v.default.protocols.map(e=>e+":");function L(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let A="undefined"!=typeof process&&"process"===n.default.kindOf(process),D=e=>new Promise((t,i)=>{let n,s;let a=(e,t)=>{!s&&(s=!0,n&&n(e,t))},r=e=>{a(e,!0),i(e)};e(e=>{a(e),t(e)},r,e=>n=e).catch(r)}),U=({address:e,family:t})=>{if(!n.default.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},M=(e,t)=>U(n.default.isObject(e)?e:{address:e,family:t}),F=A&&function(e){return D(async function(t,i,p){let v,A,D,U,F,B,$,{data:z,lookup:V,family:W}=e,{responseType:q,responseEncoding:H}=e,G=e.method.toUpperCase(),K=!1;if(V){let e=(0,C.default)(V,e=>n.default.isArray(e)?e:[e]);V=(t,i,s)=>{e(t,i,(e,t,a)=>{if(e)return s(e);let r=n.default.isArray(t)?t.map(e=>M(e)):[M(t,a)];i.all?s(e,r):s(e,r[0].address,r[0].family)})}}let J=new _.EventEmitter,Y=()=>{e.cancelToken&&e.cancelToken.unsubscribe(X),e.signal&&e.signal.removeEventListener("abort",X),J.removeAllListeners()};function X(t){J.emit("abort",!t||t.type?new g.default(null,e,F):t)}p((e,t)=>{U=!0,t&&(K=!0,Y())}),J.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(X),e.signal&&(e.signal.aborted?X():e.signal.addEventListener("abort",X)));let Z=(0,a.default)(e.baseURL,e.url),Q=new URL(Z,"http://localhost"),ee=Q.protocol||N[0];if("data:"===ee){let a;if("GET"!==G)return(0,s.default)(t,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{a=(0,b.default)(e.url,"blob"===q,{Blob:e.env&&e.env.Blob})}catch(t){throw f.default.from(t,f.default.ERR_BAD_REQUEST,e)}return"text"===q?(a=a.toString(H),H&&"utf8"!==H||(a=n.default.stripBOM(a))):"stream"===q&&(a=x.Readable.from(a)),(0,s.default)(t,i,{data:a,status:200,statusText:"OK",headers:new y.default,config:e})}if(-1===N.indexOf(ee))return i(new f.default("Unsupported protocol "+ee,f.default.ERR_BAD_REQUEST,e));let et=y.default.from(e.headers).normalize();et.set("User-Agent","axios/"+h.VERSION,!1);let ei=e.onDownloadProgress,en=e.onUploadProgress,es=e.maxRate;if(n.default.isSpecCompliantForm(z)){let e=et.getContentType(/boundary=([-_\w\d]{10,70})/i);z=(0,k.default)(z,e=>{et.set(e)},{tag:`axios-${h.VERSION}-boundary`,boundary:e&&e[1]||void 0})}else if(n.default.isFormData(z)&&n.default.isFunction(z.getHeaders)){if(et.set(z.getHeaders()),!et.hasContentLength())try{let e=await u.promisify(z.getLength).call(z);Number.isFinite(e)&&e>=0&&et.setContentLength(e)}catch(e){}}else if(n.default.isBlob(z))z.size&&et.setContentType(z.type||"application/octet-stream"),et.setContentLength(z.size||0),z=x.Readable.from((0,S.default)(z));else if(z&&!n.default.isStream(z)){if(Buffer.isBuffer(z));else if(n.default.isArrayBuffer(z))z=Buffer.from(new Uint8Array(z));else{if(!n.default.isString(z))return i(new f.default("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",f.default.ERR_BAD_REQUEST,e));z=Buffer.from(z,"utf-8")}if(et.setContentLength(z.length,!1),e.maxBodyLength>-1&&z.length>e.maxBodyLength)return i(new f.default("Request body larger than maxBodyLength limit",f.default.ERR_BAD_REQUEST,e))}let ea=n.default.toFiniteNumber(et.getContentLength());n.default.isArray(es)?(v=es[0],A=es[1]):v=A=es,z&&(en||v)&&(n.default.isStream(z)||(z=x.Readable.from(z,{objectMode:!1})),z=x.pipeline([z,new w.default({length:ea,maxRate:n.default.toFiniteNumber(v)})],n.default.noop),en&&z.on("progress",e=>{en(Object.assign(e,{upload:!0}))})),e.auth&&(D=(e.auth.username||"")+":"+(e.auth.password||"")),!D&&Q.username&&(D=Q.username+":"+Q.password),D&&et.delete("authorization");try{B=(0,r.default)(Q.pathname+Q.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(n){let t=Error(n.message);return t.config=e,t.url=e.url,t.exists=!0,i(t)}et.set("Accept-Encoding","gzip, compress, deflate"+(O?", br":""),!1);let er={path:B,method:G,headers:et.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:D,protocol:ee,family:W,beforeRedirect:L,beforeRedirects:{}};n.default.isUndefined(V)||(er.lookup=V),e.socketPath?er.socketPath=e.socketPath:(er.hostname=Q.hostname,er.port=Q.port,function e(t,i,n){let s=i;if(!s&&!1!==s){let e=(0,o.getProxyForUrl)(n);e&&(s=new URL(e))}if(s){if(s.username&&(s.auth=(s.username||"")+":"+(s.password||"")),s.auth){(s.auth.username||s.auth.password)&&(s.auth=(s.auth.username||"")+":"+(s.auth.password||""));let e=Buffer.from(s.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=s.hostname||s.host;t.hostname=e,t.host=e,t.port=s.port,t.path=n,s.protocol&&(t.protocol=s.protocol.includes(":")?s.protocol:`${s.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,i,t.href)}}(er,e.proxy,ee+"//"+Q.hostname+(Q.port?":"+Q.port:"")+er.path));let eo=j.test(er.protocol);if(er.agent=eo?e.httpsAgent:e.httpAgent,e.transport?$=e.transport:0===e.maxRedirects?$=eo?l:c:(e.maxRedirects&&(er.maxRedirects=e.maxRedirects),e.beforeRedirect&&(er.beforeRedirects.config=e.beforeRedirect),$=eo?P:I),e.maxBodyLength>-1?er.maxBodyLength=e.maxBodyLength:er.maxBodyLength=1/0,e.insecureHTTPParser&&(er.insecureHTTPParser=e.insecureHTTPParser),F=$.request(er,function(a){if(F.destroyed)return;let r=[a],o=+a.headers["content-length"];if(ei){let e=new w.default({length:n.default.toFiniteNumber(o),maxRate:n.default.toFiniteNumber(A)});ei&&e.on("progress",e=>{ei(Object.assign(e,{download:!0}))}),r.push(e)}let c=a,l=a.req||F;if(!1!==e.decompress&&a.headers["content-encoding"])switch(("HEAD"===G||204===a.statusCode)&&delete a.headers["content-encoding"],(a.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":r.push(d.createUnzip(T)),delete a.headers["content-encoding"];break;case"deflate":r.push(new E.default),r.push(d.createUnzip(T)),delete a.headers["content-encoding"];break;case"br":O&&(r.push(d.createBrotliDecompress(R)),delete a.headers["content-encoding"])}c=r.length>1?x.pipeline(r,n.default.noop):r[0];let u=x.finished(c,()=>{u(),Y()}),p={status:a.statusCode,statusText:a.statusMessage,headers:new y.default(a.headers),config:e,request:l};if("stream"===q)p.data=c,(0,s.default)(t,i,p);else{let a=[],r=0;c.on("data",function(t){a.push(t),r+=t.length,e.maxContentLength>-1&&r>e.maxContentLength&&(K=!0,c.destroy(),i(new f.default("maxContentLength size of "+e.maxContentLength+" exceeded",f.default.ERR_BAD_RESPONSE,e,l)))}),c.on("aborted",function(){if(K)return;let t=new f.default("maxContentLength size of "+e.maxContentLength+" exceeded",f.default.ERR_BAD_RESPONSE,e,l);c.destroy(t),i(t)}),c.on("error",function(t){F.destroyed||i(f.default.from(t,null,e,l))}),c.on("end",function(){try{let e=1===a.length?a[0]:Buffer.concat(a);"arraybuffer"===q||(e=e.toString(H),H&&"utf8"!==H||(e=n.default.stripBOM(e))),p.data=e}catch(t){return i(f.default.from(t,null,e,p.request,p))}(0,s.default)(t,i,p)})}J.once("abort",e=>{c.destroyed||(c.emit("error",e),c.destroy())})}),J.once("abort",e=>{i(e),F.destroy(e)}),F.on("error",function(t){i(f.default.from(t,null,e,F))}),F.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){i(new f.default("error trying to parse `config.timeout` to int",f.default.ERR_BAD_OPTION_VALUE,e,F));return}F.setTimeout(t,function(){if(U)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||m.default;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new f.default(t,n.clarifyTimeoutError?f.default.ETIMEDOUT:f.default.ECONNABORTED,e,F)),X()})}if(n.default.isStream(z)){let t=!1,i=!1;z.on("end",()=>{t=!0}),z.once("error",e=>{i=!0,F.destroy(e)}),z.on("close",()=>{t||i||X(new g.default("Request stream has been aborted",e,F))}),z.pipe(F)}else F.end(z)})}},19658:(e,t,i)=>{"use strict";i.d(t,{default:()=>v});var n=i(69524),s=i(56724),a=i(10756),r=i(66286),o=i(6422),c=i(16715),l=i(9277),u=i(75955),p=i(43191),d=i(30563),h=i(66158),m=i(7640),f=i(94029);function g(e,t){let i=0,n=(0,f.default)(50,250);return s=>{let a=s.loaded,r=s.lengthComputable?s.total:void 0,o=a-i,c=n(o);i=a;let l={loaded:a,total:r,progress:r?a/r:void 0,bytes:o,rate:c||void 0,estimated:c&&r&&a<=r?(r-a)/c:void 0,event:s};l[t?"download":"upload"]=!0,e(l)}}let v="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let f,v,b=e.data,x=m.default.from(e.headers).normalize(),{responseType:y,withXSRFToken:w}=e;function _(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}if(n.default.isFormData(b)){if(h.default.hasStandardBrowserEnv||h.default.hasStandardBrowserWebWorkerEnv)x.setContentType(!1);else if(!1!==(v=x.getContentType())){let[e,...t]=v?v.split(";").map(e=>e.trim()).filter(Boolean):[];x.setContentType([e||"multipart/form-data",...t].join("; "))}}let k=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";x.set("Authorization","Basic "+btoa(t+":"+i))}let S=(0,o.default)(e.baseURL,e.url);function E(){if(!k)return;let n=m.default.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),a={data:y&&"text"!==y&&"json"!==y?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:n,config:e,request:k};(0,s.default)(function(e){t(e),_()},function(e){i(e),_()},a),k=null}if(k.open(e.method.toUpperCase(),(0,r.default)(S,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(E)},k.onabort=function(){k&&(i(new u.default("Request aborted",u.default.ECONNABORTED,e,k)),k=null)},k.onerror=function(){i(new u.default("Network Error",u.default.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||l.default;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new u.default(t,n.clarifyTimeoutError?u.default.ETIMEDOUT:u.default.ECONNABORTED,e,k)),k=null},h.default.hasStandardBrowserEnv&&(w&&n.default.isFunction(w)&&(w=w(e)),w||!1!==w&&(0,c.default)(S))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&a.default.read(e.xsrfCookieName);t&&x.set(e.xsrfHeaderName,t)}void 0===b&&x.setContentType(null),"setRequestHeader"in k&&n.default.forEach(x.toJSON(),function(e,t){k.setRequestHeader(t,e)}),n.default.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),y&&"json"!==y&&(k.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&k.addEventListener("progress",g(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",g(e.onUploadProgress)),(e.cancelToken||e.signal)&&(f=t=>{k&&(i(!t||t.type?new p.default(null,e,k):t),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f)));let C=(0,d.default)(S);if(C&&-1===h.default.protocols.indexOf(C)){i(new u.default("Unsupported protocol "+C+":",u.default.ERR_BAD_REQUEST,e));return}k.send(b||null)})}},98415:(e,t,i)=>{"use strict";i.d(t,{default:()=>w});var n=i(69524),s=i(42701),a=i(89023),r=i(70883),o=i(27551),c=i(28799),l=i(43191),u=i(85329),p=i(68023),d=i(64624),h=i(54875),m=i(75955),f=i(83744),g=i(76134),v=i(7640),b=i(86674),x=i(38881);let y=function e(t){let i=new a.default(t),o=(0,s.default)(a.default.prototype.request,i);return n.default.extend(o,a.default.prototype,i,{allOwnKeys:!0}),n.default.extend(o,i,null,{allOwnKeys:!0}),o.create=function(i){return e((0,r.default)(t,i))},o}(o.default);y.Axios=a.default,y.CanceledError=l.default,y.CancelToken=u.default,y.isCancel=p.default,y.VERSION=d.VERSION,y.toFormData=h.default,y.AxiosError=m.default,y.Cancel=y.CanceledError,y.all=function(e){return Promise.all(e)},y.spread=f.default,y.isAxiosError=g.default,y.mergeConfig=r.default,y.AxiosHeaders=v.default,y.formToJSON=e=>(0,c.default)(n.default.isHTMLForm(e)?new FormData(e):e),y.getAdapter=b.default.getAdapter,y.HttpStatusCode=x.default,y.default=y;let w=y},85329:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(43191);class s{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{i.subscribe(e),t=e}).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e(function(e,s,a){i.reason||(i.reason=new n.default(e,s,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new s(function(t){e=t}),cancel:e}}}let a=s},43191:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(75955);function s(e,t,i){n.default.call(this,null==e?"canceled":e,n.default.ERR_CANCELED,t,i),this.name="CanceledError"}i(69524).default.inherits(s,n.default,{__CANCEL__:!0});let a=s},68023:(e,t,i)=>{"use strict";function n(e){return!!(e&&e.__CANCEL__)}i.d(t,{default:()=>n})},89023:(e,t,i)=>{"use strict";i.d(t,{default:()=>h});var n=i(69524),s=i(66286),a=i(23399),r=i(464),o=i(70883),c=i(6422),l=i(78357),u=i(7640);let p=l.default.validators;class d{constructor(e){this.defaults=e,this.interceptors={request:new a.default,response:new a.default}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let i=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}throw e}}_request(e,t){let i,s;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:a,paramsSerializer:c,headers:d}=t=(0,o.default)(this.defaults,t);void 0!==a&&l.default.assertOptions(a,{silentJSONParsing:p.transitional(p.boolean),forcedJSONParsing:p.transitional(p.boolean),clarifyTimeoutError:p.transitional(p.boolean)},!1),null!=c&&(n.default.isFunction(c)?t.paramsSerializer={serialize:c}:l.default.assertOptions(c,{encode:p.function,serialize:p.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=d&&n.default.merge(d.common,d[t.method]);d&&n.default.forEach(["delete","get","head","post","put","patch","common"],e=>{delete d[e]}),t.headers=u.default.concat(h,d);let m=[],f=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(f=f&&e.synchronous,m.unshift(e.fulfilled,e.rejected))});let g=[];this.interceptors.response.forEach(function(e){g.push(e.fulfilled,e.rejected)});let v=0;if(!f){let e=[r.default.bind(this),void 0];for(e.unshift.apply(e,m),e.push.apply(e,g),s=e.length,i=Promise.resolve(t);v<s;)i=i.then(e[v++],e[v++]);return i}s=m.length;let b=t;for(v=0;v<s;){let e=m[v++],t=m[v++];try{b=e(b)}catch(e){t.call(this,e);break}}try{i=r.default.call(this,b)}catch(e){return Promise.reject(e)}for(v=0,s=g.length;v<s;)i=i.then(g[v++],g[v++]);return i}getUri(e){e=(0,o.default)(this.defaults,e);let t=(0,c.default)(e.baseURL,e.url);return(0,s.default)(t,e.params,e.paramsSerializer)}}n.default.forEach(["delete","get","head","options"],function(e){d.prototype[e]=function(t,i){return this.request((0,o.default)(i||{},{method:e,url:t,data:(i||{}).data}))}}),n.default.forEach(["post","put","patch"],function(e){function t(t){return function(i,n,s){return this.request((0,o.default)(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)});let h=d},75955:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var n=i(69524);function s(e,t,i,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),s&&(this.response=s)}n.default.inherits(s,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:n.default.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let a=s.prototype,r={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{r[e]={value:e}}),Object.defineProperties(s,r),Object.defineProperty(a,"isAxiosError",{value:!0}),s.from=(e,t,i,r,o,c)=>{let l=Object.create(a);return n.default.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),s.call(l,e.message,t,i,r,o),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l};let o=s},7640:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var n=i(69524),s=i(1543);let a=Symbol("internals");function r(e){return e&&String(e).trim().toLowerCase()}function o(e){return!1===e||null==e?e:n.default.isArray(e)?e.map(o):String(e)}let c=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function l(e,t,i,s,a){if(n.default.isFunction(s))return s.call(this,t,i);if(a&&(t=i),n.default.isString(t)){if(n.default.isString(s))return -1!==t.indexOf(s);if(n.default.isRegExp(s))return s.test(t)}}class u{constructor(e){e&&this.set(e)}set(e,t,i){let a=this;function l(e,t,i){let s=r(t);if(!s)throw Error("header name must be a non-empty string");let c=n.default.findKey(a,s);c&&void 0!==a[c]&&!0!==i&&(void 0!==i||!1===a[c])||(a[c||t]=o(e))}let u=(e,t)=>n.default.forEach(e,(e,i)=>l(e,i,t));return n.default.isPlainObject(e)||e instanceof this.constructor?u(e,t):n.default.isString(e)&&(e=e.trim())&&!c(e)?u((0,s.default)(e),t):null!=e&&l(t,e,i),this}get(e,t){if(e=r(e)){let i=n.default.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)i[t[1]]=t[2];return i}(e);if(n.default.isFunction(t))return t.call(this,e,i);if(n.default.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=r(e)){let i=n.default.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||l(this,this[i],i,t)))}return!1}delete(e,t){let i=this,s=!1;function a(e){if(e=r(e)){let a=n.default.findKey(i,e);a&&(!t||l(i,i[a],a,t))&&(delete i[a],s=!0)}}return n.default.isArray(e)?e.forEach(a):a(e),s}clear(e){let t=Object.keys(this),i=t.length,n=!1;for(;i--;){let s=t[i];(!e||l(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){let t=this,i={};return n.default.forEach(this,(s,a)=>{let r=n.default.findKey(i,a);if(r){t[r]=o(s),delete t[a];return}let c=e?a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(a).trim();c!==a&&delete t[a],t[c]=o(s),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return n.default.forEach(this,(i,s)=>{null!=i&&!1!==i&&(t[s]=e&&n.default.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[a]=this[a]={accessors:{}}).accessors,i=this.prototype;function s(e){let s=r(e);t[s]||(function(e,t){let i=n.default.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(e,i,s){return this[n].call(this,t,e,i,s)},configurable:!0})})}(i,e),t[s]=!0)}return n.default.isArray(e)?e.forEach(s):s(e),this}}u.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),n.default.reduceDescriptors(u.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),n.default.freezeMethods(u);let p=u},23399:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(69524);class s{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){n.default.forEach(this.handlers,function(t){null!==t&&e(t)})}}let a=s},6422:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(3350),s=i(59841);function a(e,t){return e&&!(0,n.default)(t)?(0,s.default)(e,t):t}},464:(e,t,i)=>{"use strict";i.d(t,{default:()=>u});var n=i(68480),s=i(68023),a=i(27551),r=i(43191),o=i(7640),c=i(86674);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new r.default(null,e)}function u(e){return l(e),e.headers=o.default.from(e.headers),e.data=n.default.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),c.default.getAdapter(e.adapter||a.default.adapter)(e).then(function(t){return l(e),t.data=n.default.call(e,e.transformResponse,t),t.headers=o.default.from(t.headers),t},function(t){return!(0,s.default)(t)&&(l(e),t&&t.response&&(t.response.data=n.default.call(e,e.transformResponse,t.response),t.response.headers=o.default.from(t.response.headers))),Promise.reject(t)})}},70883:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var n=i(69524),s=i(7640);let a=e=>e instanceof s.default?{...e}:e;function r(e,t){t=t||{};let i={};function s(e,t,i){return n.default.isPlainObject(e)&&n.default.isPlainObject(t)?n.default.merge.call({caseless:i},e,t):n.default.isPlainObject(t)?n.default.merge({},t):n.default.isArray(t)?t.slice():t}function r(e,t,i){return n.default.isUndefined(t)?n.default.isUndefined(e)?void 0:s(void 0,e,i):s(e,t,i)}function o(e,t){if(!n.default.isUndefined(t))return s(void 0,t)}function c(e,t){return n.default.isUndefined(t)?n.default.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function l(i,n,a){return a in t?s(i,n):a in e?s(void 0,i):void 0}let u={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:l,headers:(e,t)=>r(a(e),a(t),!0)};return n.default.forEach(Object.keys(Object.assign({},e,t)),function(s){let a=u[s]||r,o=a(e[s],t[s],s);n.default.isUndefined(o)&&a!==l||(i[s]=o)}),i}},56724:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(75955);function s(e,t,i){let s=i.config.validateStatus;!i.status||!s||s(i.status)?e(i):t(new n.default("Request failed with status code "+i.status,[n.default.ERR_BAD_REQUEST,n.default.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}},68480:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var n=i(69524),s=i(27551),a=i(7640);function r(e,t){let i=this||s.default,r=t||i,o=a.default.from(r.headers),c=r.data;return n.default.forEach(e,function(e){c=e.call(i,c,o.normalize(),t?t.status:void 0)}),o.normalize(),c}},27551:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var n=i(69524),s=i(75955),a=i(9277),r=i(54875),o=i(99797),c=i(66158),l=i(28799);let u={transitional:a.default,adapter:["xhr","http"],transformRequest:[function(e,t){let i;let s=t.getContentType()||"",a=s.indexOf("application/json")>-1,c=n.default.isObject(e);if(c&&n.default.isHTMLForm(e)&&(e=new FormData(e)),n.default.isFormData(e))return a?JSON.stringify((0,l.default)(e)):e;if(n.default.isArrayBuffer(e)||n.default.isBuffer(e)||n.default.isStream(e)||n.default.isFile(e)||n.default.isBlob(e))return e;if(n.default.isArrayBufferView(e))return e.buffer;if(n.default.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return(0,o.default)(e,this.formSerializer).toString();if((i=n.default.isFileList(e))||s.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return(0,r.default)(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return c||a?(t.setContentType("application/json",!1),function(e,t,i){if(n.default.isString(e))try{return(0,JSON.parse)(e),n.default.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||u.transitional,i=t&&t.forcedJSONParsing,a="json"===this.responseType;if(e&&n.default.isString(e)&&(i&&!this.responseType||a)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&a){if("SyntaxError"===e.name)throw s.default.from(e,s.default.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:c.default.classes.FormData,Blob:c.default.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};n.default.forEach(["delete","get","head","post","put","patch"],e=>{u.headers[e]={}});let p=u},9277:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});let n={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},64624:(e,t,i)=>{"use strict";i.d(t,{VERSION:()=>n});let n="1.6.8"},59642:(e,t,i)=>{"use strict";i.d(t,{default:()=>l});var n=i(12781),s=i(69524),a=i(73550),r=i(94029);let o=Symbol("internals");class c extends n.Transform{constructor(e){super({readableHighWaterMark:(e=s.default.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!s.default.isUndefined(t[e]))).chunkSize});let t=this,i=this[o]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},n=(0,r.default)(i.ticksRate*e.samplesCount,i.timeWindow);this.on("newListener",e=>{"progress"!==e||i.isCaptured||(i.isCaptured=!0)});let c=0;i.updateProgress=(0,a.default)(function(){let e=i.length,s=i.bytesSeen,a=s-c;if(!a||t.destroyed)return;let r=n(a);c=s,process.nextTick(()=>{t.emit("progress",{loaded:s,total:e,progress:e?s/e:void 0,bytes:a,rate:r||void 0,estimated:r&&e&&s<=e?(e-s)/r:void 0})})},i.ticksRate);let l=()=>{i.updateProgress(!0)};this.once("end",l),this.once("error",l)}_read(e){let t=this[o];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,i){let n=this,s=this[o],a=s.maxRate,r=this.readableHighWaterMark,c=s.timeWindow,l=a/(1e3/c),u=!1!==s.minChunkSize?Math.max(s.minChunkSize,.01*l):0,p=(e,t)=>{let i;let o=Buffer.byteLength(e),p=null,d=r,h=0;if(a){let e=Date.now();(!s.ts||(h=e-s.ts)>=c)&&(s.ts=e,i=l-s.bytes,s.bytes=i<0?-i:0,h=0),i=l-s.bytes}if(a){if(i<=0)return setTimeout(()=>{t(null,e)},c-h);i<d&&(d=i)}d&&o>d&&o-d>u&&(p=e.subarray(d),e=e.subarray(0,d)),function(e,t){let i=Buffer.byteLength(e);s.bytesSeen+=i,s.bytes+=i,s.isCaptured&&s.updateProgress(),n.push(e)?process.nextTick(t):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(t)}}(e,p?()=>{process.nextTick(t,null,p)}:t)};p(e,function e(t,n){if(t)return i(t);n?p(n,e):i(null)})}setLength(e){return this[o].length=+e,this}}let l=c},88056:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var n=i(54875);function s(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function a(e,t){this._pairs=[],e&&(0,n.default)(e,this,t)}let r=a.prototype;r.append=function(e,t){this._pairs.push([e,t])},r.toString=function(e){let t=e?function(t){return e.call(this,t,s)}:s;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let o=a},38881:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});let n={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(n).forEach(([e,t])=>{n[t]=e});let s=n},65270:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(12781);class s extends n.Transform{__transform(e,t,i){this.push(e),i()}_transform(e,t,i){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,i)}}let a=s},42701:(e,t,i)=>{"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}i.d(t,{default:()=>n})},66286:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var n=i(69524),s=i(88056);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r(e,t,i){let r;if(!t)return e;let o=i&&i.encode||a,c=i&&i.serialize;if(r=c?c(t,i):n.default.isURLSearchParams(t)?t.toString():new s.default(t,i).toString(o)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},5731:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(69524);let s=(e,t)=>n.default.isAsyncFn(e)?function(...i){let n=i.pop();e.apply(this,i).then(e=>{try{t?n(null,...t(e)):n(null,e)}catch(e){n(e)}},n)}:e},59841:(e,t,i)=>{"use strict";function n(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}i.d(t,{default:()=>n})},10756:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(69524);let s=i(66158).default.hasStandardBrowserEnv?{write(e,t,i,s,a,r){let o=[e+"="+encodeURIComponent(t)];n.default.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),n.default.isString(s)&&o.push("path="+s),n.default.isString(a)&&o.push("domain="+a),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}}},28799:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(69524);let s=function(e){if(n.default.isFormData(e)&&n.default.isFunction(e.entries)){let t={};return n.default.forEachEntry(e,(e,i)=>{!function e(t,i,s,a){let r=t[a++];if("__proto__"===r)return!0;let o=Number.isFinite(+r),c=a>=t.length;return(r=!r&&n.default.isArray(s)?s.length:r,c)?n.default.hasOwnProp(s,r)?s[r]=[s[r],i]:s[r]=i:(s[r]&&n.default.isObject(s[r])||(s[r]=[]),e(t,i,s[r],a)&&n.default.isArray(s[r])&&(s[r]=function(e){let t,i;let n={},s=Object.keys(e),a=s.length;for(t=0;t<a;t++)n[i=s[t]]=e[i];return n}(s[r]))),!o}(n.default.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null}},27542:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var n=i(73837),s=i(12781),a=i(69524),r=i(39297);let o=a.default.ALPHABET.ALPHA_DIGIT+"-_",c=new n.TextEncoder,l=c.encode("\r\n");class u{constructor(e,t){let{escapeName:i}=this.constructor,n=a.default.isString(t),s=`Content-Disposition: form-data; name="${i(e)}"${!n&&t.name?`; filename="${i(t.name)}"`:""}\r
`;n?t=c.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):s+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=c.encode(s+"\r\n"),this.contentLength=n?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;a.default.isTypedArray(e)?yield e:yield*(0,r.default)(e),yield l}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let p=(e,t,i)=>{let{tag:n="form-data-boundary",size:r=25,boundary:l=n+"-"+a.default.generateString(r,o)}=i||{};if(!a.default.isFormData(e))throw TypeError("FormData instance required");if(l.length<1||l.length>70)throw Error("boundary must be 10-70 characters long");let p=c.encode("--"+l+"\r\n"),d=c.encode("--"+l+"--\r\n\r\n"),h=d.byteLength,m=Array.from(e.entries()).map(([e,t])=>{let i=new u(e,t);return h+=i.size,i});h+=p.byteLength*m.length;let f={"Content-Type":`multipart/form-data; boundary=${l}`};return Number.isFinite(h=a.default.toFiniteNumber(h))&&(f["Content-Length"]=h),t&&t(f),s.Readable.from(async function*(){for(let e of m)yield p,yield*e.encode();yield d}())}},16602:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var n=i(75955),s=i(30563),a=i(66158);let r=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function o(e,t,i){let o=i&&i.Blob||a.default.classes.Blob,c=(0,s.default)(e);if(void 0===t&&o&&(t=!0),"data"===c){e=c.length?e.slice(c.length+1):e;let i=r.exec(e);if(!i)throw new n.default("Invalid URL",n.default.ERR_INVALID_URL);let s=i[1],a=i[2],l=i[3],u=Buffer.from(decodeURIComponent(l),a?"base64":"utf8");if(t){if(!o)throw new n.default("Blob is not supported",n.default.ERR_NOT_SUPPORT);return new o([u],{type:s})}return u}throw new n.default("Unsupported protocol "+c,n.default.ERR_NOT_SUPPORT)}},3350:(e,t,i)=>{"use strict";function n(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}i.d(t,{default:()=>n})},76134:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(69524);function s(e){return n.default.isObject(e)&&!0===e.isAxiosError}},16715:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(69524);let s=i(66158).default.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function s(e){let n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=s(window.location.href),function(t){let i=n.default.isString(t)?s(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},1543:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});let n=i(69524).default.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s=e=>{let t,i,s;let a={};return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),t=e.substring(0,s).trim().toLowerCase(),i=e.substring(s+1).trim(),!t||a[t]&&n[t]||("set-cookie"===t?a[t]?a[t].push(i):a[t]=[i]:a[t]=a[t]?a[t]+", "+i:i)}),a}},30563:(e,t,i)=>{"use strict";function n(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}i.d(t,{default:()=>n})},39297:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});let{asyncIterator:n}=Symbol,s=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[n]?yield*e[n]():yield e}},94029:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});let n=function(e,t){let i;let n=Array(e=e||10),s=Array(e),a=0,r=0;return t=void 0!==t?t:1e3,function(o){let c=Date.now(),l=s[r];i||(i=c),n[a]=o,s[a]=c;let u=r,p=0;for(;u!==a;)p+=n[u++],u%=e;if((a=(a+1)%e)===r&&(r=(r+1)%e),c-i<t)return;let d=l&&c-l;return d?Math.round(1e3*p/d):void 0}}},83744:(e,t,i)=>{"use strict";function n(e){return function(t){return e.apply(null,t)}}i.d(t,{default:()=>n})},73550:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});let n=function(e,t){let i=0,n=1e3/t,s=null;return function(t,a){let r=Date.now();if(t||r-i>n)return s&&(clearTimeout(s),s=null),i=r,e.apply(null,a);s||(s=setTimeout(()=>(s=null,i=Date.now(),e.apply(null,a)),n-(r-i)))}}},54875:(e,t,i)=>{"use strict";i.d(t,{default:()=>u});var n=i(69524),s=i(75955),a=i(7194);function r(e){return n.default.isPlainObject(e)||n.default.isArray(e)}function o(e){return n.default.endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,i){return e?e.concat(t).map(function(e,t){return e=o(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let l=n.default.toFlatObject(n.default,{},null,function(e){return/^is[A-Z]/.test(e)}),u=function(e,t,i){if(!n.default.isObject(e))throw TypeError("target must be an object");t=t||new(a.default||FormData);let u=(i=n.default.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!n.default.isUndefined(t[e])})).metaTokens,p=i.visitor||g,d=i.dots,h=i.indexes,m=(i.Blob||"undefined"!=typeof Blob&&Blob)&&n.default.isSpecCompliantForm(t);if(!n.default.isFunction(p))throw TypeError("visitor must be a function");function f(e){if(null===e)return"";if(n.default.isDate(e))return e.toISOString();if(!m&&n.default.isBlob(e))throw new s.default("Blob is not supported. Use a Buffer instead.");return n.default.isArrayBuffer(e)||n.default.isTypedArray(e)?m&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function g(e,i,s){let a=e;if(e&&!s&&"object"==typeof e){if(n.default.endsWith(i,"{}"))i=u?i:i.slice(0,-2),e=JSON.stringify(e);else{var l;if(n.default.isArray(e)&&(l=e,n.default.isArray(l)&&!l.some(r))||(n.default.isFileList(e)||n.default.endsWith(i,"[]"))&&(a=n.default.toArray(e)))return i=o(i),a.forEach(function(e,s){n.default.isUndefined(e)||null===e||t.append(!0===h?c([i],s,d):null===h?i:i+"[]",f(e))}),!1}}return!!r(e)||(t.append(c(s,i,d),f(e)),!1)}let v=[],b=Object.assign(l,{defaultVisitor:g,convertValue:f,isVisitable:r});if(!n.default.isObject(e))throw TypeError("data must be an object");return function e(i,s){if(!n.default.isUndefined(i)){if(-1!==v.indexOf(i))throw Error("Circular reference detected in "+s.join("."));v.push(i),n.default.forEach(i,function(i,a){!0===(!(n.default.isUndefined(i)||null===i)&&p.call(t,i,n.default.isString(a)?a.trim():a,s,b))&&e(i,s?s.concat(a):[a])}),v.pop()}}(e),t}},99797:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var n=i(69524),s=i(54875),a=i(66158);function r(e,t){return(0,s.default)(e,new a.default.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,s){return a.default.isNode&&n.default.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}},78357:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var n=i(64624),s=i(75955);let a={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{a[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let r={};a.transitional=function(e,t,i){function a(e,t){return"[Axios v"+n.VERSION+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,n,o)=>{if(!1===e)throw new s.default(a(n," has been removed"+(t?" in "+t:"")),s.default.ERR_DEPRECATED);return t&&!r[n]&&(r[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,n,o)}};let o={assertOptions:function(e,t,i){if("object"!=typeof e)throw new s.default("options must be an object",s.default.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),a=n.length;for(;a-- >0;){let r=n[a],o=t[r];if(o){let t=e[r],i=void 0===t||o(t,r,e);if(!0!==i)throw new s.default("option "+r+" must be "+i,s.default.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new s.default("Unknown option "+r,s.default.ERR_BAD_OPTION)}},validators:a}},20689:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{hasBrowserEnv:()=>s,hasStandardBrowserEnv:()=>a,hasStandardBrowserWebWorkerEnv:()=>r});let s="undefined"!=typeof window&&"undefined"!=typeof document,a=(n="undefined"!=typeof navigator&&navigator.product,s&&0>["ReactNative","NativeScript","NS"].indexOf(n)),r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts},66158:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(44270);let s={...i(20689),...n.default}},7194:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});let n=i(89304)},2509:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});let n=i(57310).URLSearchParams},44270:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var n=i(2509),s=i(7194);let a={isNode:!0,classes:{URLSearchParams:n.default,FormData:s.default,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]}},69524:(e,t,i)=>{"use strict";i.d(t,{default:()=>U});var n,s,a=i(42701);let{toString:r}=Object.prototype,{getPrototypeOf:o}=Object,c=(n=Object.create(null),e=>{let t=r.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}),l=e=>(e=e.toLowerCase(),t=>c(t)===e),u=e=>t=>typeof t===e,{isArray:p}=Array,d=u("undefined"),h=l("ArrayBuffer"),m=u("string"),f=u("function"),g=u("number"),v=e=>null!==e&&"object"==typeof e,b=e=>{if("object"!==c(e))return!1;let t=o(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},x=l("Date"),y=l("File"),w=l("Blob"),_=l("FileList"),k=l("URLSearchParams");function S(e,t,{allOwnKeys:i=!1}={}){let n,s;if(null!=e){if("object"!=typeof e&&(e=[e]),p(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{let s;let a=i?Object.getOwnPropertyNames(e):Object.keys(e),r=a.length;for(n=0;n<r;n++)s=a[n],t.call(null,e[s],s,e)}}}function E(e,t){let i;t=t.toLowerCase();let n=Object.keys(e),s=n.length;for(;s-- >0;)if(t===(i=n[s]).toLowerCase())return i;return null}let C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,T=e=>!d(e)&&e!==C,R=(s="undefined"!=typeof Uint8Array&&o(Uint8Array),e=>s&&e instanceof s),O=l("HTMLFormElement"),I=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),P=l("RegExp"),j=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),n={};S(i,(i,s)=>{let a;!1!==(a=t(i,s,e))&&(n[s]=a||i)}),Object.defineProperties(e,n)},N="abcdefghijklmnopqrstuvwxyz",L="0123456789",A={DIGIT:L,ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+L},D=l("AsyncFunction"),U={isArray:p,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||f(e.append)&&("formdata"===(t=c(e))||"object"===t&&f(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer)},isString:m,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:b,isUndefined:d,isDate:x,isFile:y,isBlob:w,isRegExp:P,isFunction:f,isStream:e=>v(e)&&f(e.pipe),isURLSearchParams:k,isTypedArray:R,isFileList:_,forEach:S,merge:function e(){let{caseless:t}=T(this)&&this||{},i={},n=(n,s)=>{let a=t&&E(i,s)||s;b(i[a])&&b(n)?i[a]=e(i[a],n):b(n)?i[a]=e({},n):p(n)?i[a]=n.slice():i[a]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&S(arguments[e],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(S(t,(t,n)=>{i&&f(t)?e[n]=(0,a.default)(t,i):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let s,a,r;let c={};if(t=t||{},null==e)return t;do{for(a=(s=Object.getOwnPropertyNames(e)).length;a-- >0;)r=s[a],(!n||n(r,e,t))&&!c[r]&&(t[r]=e[r],c[r]=!0);e=!1!==i&&o(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:l,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let n=e.indexOf(t,i);return -1!==n&&n===i},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!g(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let n=(e&&e[Symbol.iterator]).call(e);for(;(i=n.next())&&!i.done;){let n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let i;let n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:O,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:j,freezeMethods:e=>{j(e,(t,i)=>{if(f(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(f(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(p(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:E,global:C,isContextDefined:T,ALPHABET:A,generateString:(e=16,t=A.ALPHA_DIGIT)=>{let i="",{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&f(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,n)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let s=p(e)?[]:{};return S(e,(e,t)=>{let a=i(e,n+1);d(a)||(s[t]=a)}),t[n]=void 0,s}}return e};return i(e,0)},isAsyncFn:D,isThenable:e=>e&&(v(e)||f(e))&&f(e.then)&&f(e.catch)}},92486:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},40572:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[225,340,432,867,818,886,52],()=>i(2174));module.exports=n})();